"use strict";(self.webpackChunkquickshare=self.webpackChunkquickshare||[]).push([[792],{76:(Ks,Fi,ut)=>{ut.d(Fi,{Am:()=>Jo,Bd:()=>pe,FA:()=>_e,Fy:()=>qi,I9:()=>Is,Im:()=>sr,Ku:()=>Qs,Ll:()=>tn,T9:()=>fn,Uj:()=>vt,XA:()=>zt,ZQ:()=>Ke,bD:()=>Zo,c1:()=>cn,cY:()=>en,eX:()=>ie,g:()=>te,gR:()=>hi,hp:()=>ea,jZ:()=>$n,lT:()=>fo,lV:()=>$r,mS:()=>Nt,nr:()=>mo,p7:()=>mn,sr:()=>rr,tD:()=>ti,u:()=>ue,zW:()=>j,zw:()=>Ve});const oe=function(S){const k=[];let L=0;for(let z=0;z<S.length;z++){let Y=S.charCodeAt(z);Y<128?k[L++]=Y:Y<2048?(k[L++]=Y>>6|192,k[L++]=63&Y|128):55296==(64512&Y)&&z+1<S.length&&56320==(64512&S.charCodeAt(z+1))?(Y=65536+((1023&Y)<<10)+(1023&S.charCodeAt(++z)),k[L++]=Y>>18|240,k[L++]=Y>>12&63|128,k[L++]=Y>>6&63|128,k[L++]=63&Y|128):(k[L++]=Y>>12|224,k[L++]=Y>>6&63|128,k[L++]=63&Y|128)}return k},xn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(S,k){if(!Array.isArray(S))throw Error("encodeByteArray takes an array as a parameter");this.init_();const L=k?this.byteToCharMapWebSafe_:this.byteToCharMap_,z=[];for(let Y=0;Y<S.length;Y+=3){const Re=S[Y],Te=Y+1<S.length,rn=Te?S[Y+1]:0,ni=Y+2<S.length,qe=ni?S[Y+2]:0;let Si=(15&rn)<<2|qe>>6,Ys=63&qe;ni||(Ys=64,Te||(Si=64)),z.push(L[Re>>2],L[(3&Re)<<4|rn>>4],L[Si],L[Ys])}return z.join("")},encodeString(S,k){return this.HAS_NATIVE_SUPPORT&&!k?btoa(S):this.encodeByteArray(oe(S),k)},decodeString(S,k){return this.HAS_NATIVE_SUPPORT&&!k?atob(S):function(S){const k=[];let L=0,z=0;for(;L<S.length;){const Y=S[L++];if(Y<128)k[z++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const Re=S[L++];k[z++]=String.fromCharCode((31&Y)<<6|63&Re)}else if(Y>239&&Y<365){const ni=((7&Y)<<18|(63&S[L++])<<12|(63&S[L++])<<6|63&S[L++])-65536;k[z++]=String.fromCharCode(55296+(ni>>10)),k[z++]=String.fromCharCode(56320+(1023&ni))}else{const Re=S[L++],Te=S[L++];k[z++]=String.fromCharCode((15&Y)<<12|(63&Re)<<6|63&Te)}}return k.join("")}(this.decodeStringToByteArray(S,k))},decodeStringToByteArray(S,k){this.init_();const L=k?this.charToByteMapWebSafe_:this.charToByteMap_,z=[];for(let Y=0;Y<S.length;){const Re=L[S.charAt(Y++)],rn=Y<S.length?L[S.charAt(Y)]:0;++Y;const qe=Y<S.length?L[S.charAt(Y)]:64;++Y;const Ge=Y<S.length?L[S.charAt(Y)]:64;if(++Y,null==Re||null==rn||null==qe||null==Ge)throw new Cn;z.push(Re<<2|rn>>4),64!==qe&&(z.push(rn<<4&240|qe>>2),64!==Ge&&z.push(qe<<6&192|Ge))}return z},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let S=0;S<this.ENCODED_VALS.length;S++)this.byteToCharMap_[S]=this.ENCODED_VALS.charAt(S),this.charToByteMap_[this.byteToCharMap_[S]]=S,this.byteToCharMapWebSafe_[S]=this.ENCODED_VALS_WEBSAFE.charAt(S),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[S]]=S,S>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(S)]=S,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(S)]=S)}}};class Cn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vt=function(S){return function(S){const k=oe(S);return xn.encodeByteArray(k,!0)}(S).replace(/\./g,"")},ue=function(S){try{return xn.decodeString(S,!0)}catch(k){console.error("base64Decode failed: ",k)}return null};function Ve(S,k){if(!(k instanceof Object))return k;switch(k.constructor){case Date:return new Date(k.getTime());case Object:void 0===S&&(S={});break;case Array:S=[];break;default:return k}for(const L in k)!k.hasOwnProperty(L)||!bt(L)||(S[L]=Ve(S[L],k[L]));return S}function bt(S){return"__proto__"!==S}function Nt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ft=()=>{try{return Nt().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const S=process.env.__FIREBASE_DEFAULTS__;return S?JSON.parse(S):void 0})()||(()=>{if(typeof document>"u")return;let S;try{S=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const k=S&&ue(S[1]);return k&&JSON.parse(k)})()}catch(S){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${S}`)}},fn=()=>{var S;return null===(S=ft())||void 0===S?void 0:S.config},zt=S=>{var k;return null===(k=ft())||void 0===k?void 0:k[`_${S}`]};class en{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((k,L)=>{this.resolve=k,this.reject=L})}wrapCallback(k){return(L,z)=>{L?this.reject(L):this.resolve(z),"function"==typeof k&&(this.promise.catch(()=>{}),1===k.length?k(L):k(L,z))}}}function qi(S,k){if(S.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const z=k||"demo-project",Y=S.iat||0,Re=S.sub||S.user_id;if(!Re)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Te=Object.assign({iss:`https://securetoken.google.com/${z}`,aud:z,iat:Y,exp:Y+3600,auth_time:Y,sub:Re,user_id:Re,firebase:{sign_in_provider:"custom",identities:{}}},S);return[vt(JSON.stringify({alg:"none",type:"JWT"})),vt(JSON.stringify(Te)),""].join(".")}function Ke(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function $n(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function tn(){var S;const k=null===(S=ft())||void 0===S?void 0:S.forceEnvironment;if("node"===k)return!0;if("browser"===k)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function pe(){return typeof window<"u"||mn()}function mn(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function cn(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function rr(){const S="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof S&&void 0!==S.id}function $r(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function fo(){const S=Ke();return S.indexOf("MSIE ")>=0||S.indexOf("Trident/")>=0}function mo(){return!tn()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j(){try{return"object"==typeof indexedDB}catch{return!1}}function ie(){return new Promise((S,k)=>{try{let L=!0;const z="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(z);Y.onsuccess=()=>{Y.result.close(),L||self.indexedDB.deleteDatabase(z),S(!0)},Y.onupgradeneeded=()=>{L=!1},Y.onerror=()=>{var Re;k((null===(Re=Y.error)||void 0===Re?void 0:Re.message)||"")}}catch(L){k(L)}})}class te extends Error{constructor(k,L,z){super(L),this.code=k,this.customData=z,this.name="FirebaseError",Object.setPrototypeOf(this,te.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_e.prototype.create)}}class _e{constructor(k,L,z){this.service=k,this.serviceName=L,this.errors=z}create(k,...L){const z=L[0]||{},Y=`${this.service}/${k}`,Re=this.errors[k],Te=Re?function he(S,k){return S.replace(mt,(L,z)=>{const Y=k[z];return null!=Y?String(Y):`<${z}?>`})}(Re,z):"Error";return new te(Y,`${this.serviceName}: ${Te} (${Y}).`,z)}}const mt=/\{\$([^}]+)}/g;function hi(S,k){return Object.prototype.hasOwnProperty.call(S,k)}function sr(S){for(const k in S)if(Object.prototype.hasOwnProperty.call(S,k))return!1;return!0}function Zo(S,k){if(S===k)return!0;const L=Object.keys(S),z=Object.keys(k);for(const Y of L){if(!z.includes(Y))return!1;const Re=S[Y],Te=k[Y];if(po(Re)&&po(Te)){if(!Zo(Re,Te))return!1}else if(Re!==Te)return!1}for(const Y of z)if(!L.includes(Y))return!1;return!0}function po(S){return null!==S&&"object"==typeof S}function Jo(S){const k=[];for(const[L,z]of Object.entries(S))Array.isArray(z)?z.forEach(Y=>{k.push(encodeURIComponent(L)+"="+encodeURIComponent(Y))}):k.push(encodeURIComponent(L)+"="+encodeURIComponent(z));return k.length?"&"+k.join("&"):""}function Is(S){const k={};return S.replace(/^\?/,"").split("&").forEach(z=>{if(z){const[Y,Re]=z.split("=");k[decodeURIComponent(Y)]=decodeURIComponent(Re)}}),k}function ea(S){const k=S.indexOf("?");if(!k)return"";const L=S.indexOf("#",k);return S.substring(k,L>0?L:void 0)}function ti(S,k){const L=new or(S,k);return L.subscribe.bind(L)}class or{constructor(k,L){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=L,this.task.then(()=>{k(this)}).catch(z=>{this.error(z)})}next(k){this.forEachObserver(L=>{L.next(k)})}error(k){this.forEachObserver(L=>{L.error(k)}),this.close(k)}complete(){this.forEachObserver(k=>{k.complete()}),this.close()}subscribe(k,L,z){let Y;if(void 0===k&&void 0===L&&void 0===z)throw new Error("Missing Observer.");Y=function xs(S,k){if("object"!=typeof S||null===S)return!1;for(const L of k)if(L in S&&"function"==typeof S[L])return!0;return!1}(k,["next","error","complete"])?k:{next:k,error:L,complete:z},void 0===Y.next&&(Y.next=qn),void 0===Y.error&&(Y.error=qn),void 0===Y.complete&&(Y.complete=qn);const Re=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch{}}),this.observers.push(Y),Re}unsubscribeOne(k){void 0===this.observers||void 0===this.observers[k]||(delete this.observers[k],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(k){if(!this.finalized)for(let L=0;L<this.observers.length;L++)this.sendOne(L,k)}sendOne(k,L){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[k])try{L(this.observers[k])}catch(z){typeof console<"u"&&console.error&&console.error(z)}})}close(k){this.finalized||(this.finalized=!0,void 0!==k&&(this.finalError=k),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qn(){}function Qs(S){return S&&S._delegate?S._delegate:S}},984:(Ks,Fi,ut)=>{function A(n){return"function"==typeof n}function Je(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Pe=Je(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function oe(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class ct{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(A(i))try{i()}catch(s){e=s instanceof Pe?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{vi(s)}catch(o){e=e??[],o instanceof Pe?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Pe(e)}}add(e){var t;if(e&&e!==this)if(this.closed)vi(e);else{if(e instanceof ct){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&oe(t,e)}remove(e){const{_finalizers:t}=this;t&&oe(t,e),e instanceof ct&&e._removeParent(this)}}ct.EMPTY=(()=>{const n=new ct;return n.closed=!0,n})();const xn=ct.EMPTY;function Cn(n){return n instanceof ct||n&&"closed"in n&&A(n.remove)&&A(n.add)&&A(n.unsubscribe)}function vi(n){A(n)?n():n.unsubscribe()}const vt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ue={setTimeout(n,e,...t){const{delegate:i}=ue;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=ue;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ve(n){ue.setTimeout(()=>{const{onUnhandledError:e}=vt;if(!e)throw n;e(n)})}function Ve(){}const bt=Lt("C",void 0,void 0);function Lt(n,e,t){return{kind:n,value:e,error:t}}let et=null;function ft(n){if(vt.useDeprecatedSynchronousErrorHandling){const e=!et;if(e&&(et={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=et;if(et=null,t)throw i}}else n()}class Di extends ct{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Cn(e)&&e.add(this)):this.destination=pe}static create(e,t,i){return new qi(e,t,i)}next(e){this.isStopped?tn(function Ti(n){return Lt("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?tn(function Nt(n){return Lt("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?tn(bt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const fn=Function.prototype.bind;function zt(n,e){return fn.call(n,e)}class en{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Ke(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Ke(i)}else Ke(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ke(t)}}}class qi extends Di{constructor(e,t,i){let r;if(super(),A(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let s;this&&vt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&zt(e.next,s),error:e.error&&zt(e.error,s),complete:e.complete&&zt(e.complete,s)}):r=e}this.destination=new en(r)}}function Ke(n){vt.useDeprecatedSynchronousErrorHandling?function Ai(n){vt.useDeprecatedSynchronousErrorHandling&&et&&(et.errorThrown=!0,et.error=n)}(n):ve(n)}function tn(n,e){const{onStoppedNotification:t}=vt;t&&ue.setTimeout(()=>t(n,e))}const pe={closed:!0,next:Ve,error:function $n(n){throw n},complete:Ve},mn="function"==typeof Symbol&&Symbol.observable||"@@observable";function cn(n){return n}function $r(n){return 0===n.length?cn:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let rt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const s=function Es(n){return n&&n instanceof Di||function Ja(n){return n&&A(n.next)&&A(n.error)&&A(n.complete)}(n)&&Cn(n)}(t)?t:new qi(t,i,r);return ft(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=fo(i))((r,s)=>{const o=new qi({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[mn](){return this}pipe(...t){return $r(t)(this)}toPromise(t){return new(t=fo(t))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function fo(n){var e;return null!==(e=n??vt.Promise)&&void 0!==e?e:Promise}const mo=Je(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let j=(()=>{class n extends rt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new ie(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new mo}next(t){ft(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){ft(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){ft(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:s}=this;return i||r?xn:(this.currentObservers=null,s.push(t),new ct(()=>{this.currentObservers=null,oe(s,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){const t=new rt;return t.source=this,t}}return n.create=(e,t)=>new ie(e,t),n})();class ie extends j{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:xn}}function le(n){return A(n?.lift)}function q(n){return e=>{if(le(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function te(n,e,t,i,r){return new _e(n,e,t,i,r)}class _e extends Di{constructor(e,t,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function he(n,e){return q((t,i)=>{let r=0;t.subscribe(te(i,s=>{i.next(n.call(e,s,r++))}))})}var mt=ut(635);const Vt=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Ye(n){return A(n?.then)}function Bt(n){return A(n[mn])}function Nn(n){return Symbol.asyncIterator&&A(n?.[Symbol.asyncIterator])}function rs(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Jn=function Ft(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function hi(n){return A(n?.[Jn])}function Li(n){return(0,mt.AQ)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,mt.N3)(t.read());if(r)return yield(0,mt.N3)(void 0);yield yield(0,mt.N3)(i)}}finally{t.releaseLock()}})}function sr(n){return A(n?.getReader)}function ei(n){if(n instanceof rt)return n;if(null!=n){if(Bt(n))return function Zo(n){return new rt(e=>{const t=n[mn]();if(A(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Vt(n))return function po(n){return new rt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Ye(n))return function Kd(n){return new rt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ve)})}(n);if(Nn(n))return Is(n);if(hi(n))return function Jo(n){return new rt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(sr(n))return function ea(n){return Is(Li(n))}(n)}throw rs(n)}function Is(n){return new rt(e=>{(function qr(n,e){var t,i,r,s;return(0,mt.sH)(this,void 0,void 0,function*(){try{for(t=(0,mt.xN)(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function ti(n,e,t,i=0,r=!1){const s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function Fn(n,e,t=1/0){return A(e)?Fn((i,r)=>he((s,o)=>e(i,s,r,o))(ei(n(i,r))),t):("number"==typeof e&&(t=e),q((i,r)=>function or(n,e,t,i,r,s,o,a){const l=[];let d=0,f=0,g=!1;const y=()=>{g&&!l.length&&!d&&e.complete()},b=x=>d<i?I(x):l.push(x),I=x=>{s&&e.next(x),d++;let T=!1;ei(t(x,f++)).subscribe(te(e,V=>{r?.(V),s?b(V):e.next(V)},()=>{T=!0},void 0,()=>{if(T)try{for(d--;l.length&&d<i;){const V=l.shift();o?ti(e,o,()=>I(V)):I(V)}y()}catch(V){e.error(V)}}))};return n.subscribe(te(e,b,()=>{g=!0,y()})),()=>{a?.()}}(i,r,n,t)))}function xs(n=1/0){return Fn(cn,n)}const qn=new rt(n=>n.complete());function ta(n){return n&&A(n.schedule)}function ar(n){return n[n.length-1]}function na(n){return A(ar(n))?n.pop():void 0}function go(n){return ta(ar(n))?n.pop():void 0}function lr(n,e=0){return q((t,i)=>{t.subscribe(te(i,r=>ti(i,n,()=>i.next(r),e),()=>ti(i,n,()=>i.complete(),e),r=>ti(i,n,()=>i.error(r),e)))})}function cr(n,e=0){return q((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function nl(n,e){if(!n)throw new Error("Iterable cannot be null");return new rt(t=>{ti(t,e,()=>{const i=n[Symbol.asyncIterator]();ti(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function S(n,e){return e?function Qs(n,e){if(null!=n){if(Bt(n))return function ia(n,e){return ei(n).pipe(cr(e),lr(e))}(n,e);if(Vt(n))return function ra(n,e){return new rt(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(Ye(n))return function tl(n,e){return ei(n).pipe(cr(e),lr(e))}(n,e);if(Nn(n))return nl(n,e);if(hi(n))return function Qd(n,e){return new rt(t=>{let i;return ti(t,e,()=>{i=n[Jn](),ti(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void t.error(o)}s?t.complete():t.next(r)},0,!0)}),()=>A(i?.return)&&i.return()})}(n,e);if(sr(n))return function il(n,e){return nl(Li(n),e)}(n,e)}throw rs(n)}(n,e):ei(n)}function k(...n){const e=go(n),t=function Gi(n,e){return"number"==typeof ar(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?ei(i[0]):xs(t)(S(i,e)):qn}class L extends j{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function z(...n){return S(n,go(n))}function Y(n={}){const{connector:e=(()=>new j),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o,a,l,d=0,f=!1,g=!1;const y=()=>{a?.unsubscribe(),a=void 0},b=()=>{y(),o=l=void 0,f=g=!1},I=()=>{const x=o;b(),x?.unsubscribe()};return q((x,T)=>{d++,!g&&!f&&y();const V=l=l??e();T.add(()=>{d--,0===d&&!g&&!f&&(a=Re(I,r))}),V.subscribe(T),!o&&d>0&&(o=new qi({next:M=>V.next(M),error:M=>{g=!0,y(),a=Re(b,t,M),V.error(M)},complete:()=>{f=!0,y(),a=Re(b,i),V.complete()}}),ei(x).subscribe(o))})(s)}}function Re(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new qi({next:()=>{i.unsubscribe(),n()}});return ei(e(...t)).subscribe(i)}function Te(n,e){return q((t,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();t.subscribe(te(i,l=>{r?.unsubscribe();let d=0;const f=s++;ei(n(l,f)).subscribe(r=te(i,g=>i.next(e?e(l,g,f,d++):g),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function rn(n,e=cn){return n=n??ni,q((t,i)=>{let r,s=!0;t.subscribe(te(i,o=>{const a=e(o);(s||!n(r,a))&&(s=!1,r=a,i.next(o))}))})}function ni(n,e){return n===e}function qe(n){for(let e in n)if(n[e]===qe)return e;throw Error("Could not find renamed property on target object.")}function Gn(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ge(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ge).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Si(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Ys=qe({__forward_ref__:qe});function Ut(n){return n.__forward_ref__=Ut,n.toString=function(){return Ge(this())},n}function Xe(n){return Ts(n)?n():n}function Ts(n){return"function"==typeof n&&n.hasOwnProperty(Ys)&&n.__forward_ref__===Ut}function rl(n){return n&&!!n.\u0275providers}const Xs="https://g.co/ng/security#xss";class re extends Error{constructor(e,t){super(function ee(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function F(n){return"string"==typeof n?n:null==n?"":String(n)}function dt(n,e){throw new re(-201,!1)}function Gr(n,e){null==n&&function tt(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function be(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function wt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Zd(n){return Vf(n,hc)||Vf(n,sa)}function Vf(n,e){return n.hasOwnProperty(e)?n[e]:null}function Jd(n){return n&&(n.hasOwnProperty(Bf)||n.hasOwnProperty(S_))?n[Bf]:null}const hc=qe({\u0275prov:qe}),Bf=qe({\u0275inj:qe}),sa=qe({ngInjectableDef:qe}),S_=qe({ngInjectorDef:qe});var _t=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(_t||{});let Uf;function dr(n){const e=Uf;return Uf=n,e}function tu(n,e,t){const i=Zd(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&_t.Optional?null:void 0!==e?e:void dt(Ge(n))}const nn=globalThis;class de{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=be({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const mc={},pc="__NG_DI_FLAG__",_o="ngTempTokenPath",qf=/\n/gm,ss="__source";let sl;function yo(n){const e=sl;return sl=n,e}function Wf(n,e=_t.Default){if(void 0===sl)throw new re(-203,!1);return null===sl?tu(n,void 0,e):sl.get(n,e&_t.Optional?null:void 0,e)}function Q(n,e=_t.Default){return(function eu(){return Uf}()||Wf)(Xe(n),e)}function Ee(n,e=_t.Default){return Q(n,ru(e))}function ru(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function gc(n){const e=[];for(let t=0;t<n.length;t++){const i=Xe(n[t]);if(Array.isArray(i)){if(0===i.length)throw new re(900,!1);let r,s=_t.Default;for(let o=0;o<i.length;o++){const a=i[o],l=K0(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}e.push(Q(r,s))}else e.push(Q(i))}return e}function os(n,e){return n[pc]=e,n.prototype[pc]=e,n}function K0(n){return n[pc]}function vo(n){return{toString:n}.toString()}var ol=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(ol||{}),ii=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(ii||{});const Wi={},Et=[],yc=qe({\u0275cmp:qe}),su=qe({\u0275dir:qe}),ou=qe({\u0275pipe:qe}),O_=qe({\u0275mod:qe}),ur=qe({\u0275fac:qe}),vc=qe({__NG_ELEMENT_ID__:qe}),bc=qe({__NG_ENV_ID__:qe});function Kf(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}function au(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const s=t[i++],o=t[i++],a=t[i++];n.setAttribute(e,o,a,s)}else{const s=r,o=t[++i];Ar(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),i++}}return i}function lu(n){return 3===n||4===n||6===n}function Ar(n){return 64===n.charCodeAt(0)}function al(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||N_(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function N_(n,e,t,i,r){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}const cu="ng-template";function du(n,e,t){let i=0,r=!0;for(;i<n.length;){let s=n[i++];if("string"==typeof s&&r){const o=n[i++];if(t&&"class"===s&&-1!==Kf(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function Qf(n){return 4===n.type&&n.value!==cu}function F_(n,e,t){return e===(4!==n.type||t?n.value:cu)}function Y0(n,e,t){let i=4;const r=n.attrs||[],s=function Xf(n){for(let e=0;e<n.length;e++)if(lu(n[e]))return e;return n.length}(r);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!F_(n,l,t)||""===l&&1===e.length){if(Dr(i))return!1;o=!0}}else{const d=8&i?l:e[++a];if(8&i&&null!==n.attrs){if(!du(n.attrs,d,t)){if(Dr(i))return!1;o=!0}continue}const g=Yf(8&i?"class":l,r,Qf(n),t);if(-1===g){if(Dr(i))return!1;o=!0;continue}if(""!==d){let y;y=g>s?"":r[g+1].toLowerCase();const b=8&i?y:null;if(b&&-1!==Kf(b,d,0)||2&i&&d!==y){if(Dr(i))return!1;o=!0}}}}else{if(!o&&!Dr(i)&&!Dr(l))return!1;if(o&&Dr(l))continue;o=!1,i=l|1&i}}return Dr(i)||o}function Dr(n){return 0==(1&n)}function Yf(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){const o=e[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function L_(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function uu(n,e,t=!1){for(let i=0;i<e.length;i++)if(Y0(n,e[i],t))return!0;return!1}function Zf(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function Jf(n,e){return n?":not("+e.trim()+")":e}function em(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&i){const a=n[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!Dr(o)&&(e+=Jf(s,r),r=""),i=o,s=s||!Dr(i);t++}return""!==r&&(e+=Jf(s,r)),e}function Wn(n){return vo(()=>{const e=U_(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ol.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ii.Emulated,styles:n.styles||Et,_:null,schemas:n.schemas||null,tView:null,id:""};mu(t);const i=n.dependencies;return t.directiveDefs=pu(i,!1),t.pipeDefs=pu(i,!0),t.id=function X0(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function V_(n){return Tt(n)||fi(n)}function im(n){return null!==n}function kt(n){return vo(()=>({type:n.type,bootstrap:n.bootstrap||Et,declarations:n.declarations||Et,imports:n.imports||Et,exports:n.exports||Et,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function B_(n,e){if(null==n)return Wi;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),t[r]=i,e&&(e[r]=s)}return t}function xe(n){return vo(()=>{const e=U_(n);return mu(e),e})}function bi(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Tt(n){return n[yc]||null}function fi(n){return n[su]||null}function wi(n){return n[ou]||null}function Ki(n,e){const t=n[O_]||null;if(!t&&!0===e)throw new Error(`Type ${Ge(n)} does not have '\u0275mod' property.`);return t}function U_(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Wi,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Et,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:B_(n.inputs,e),outputs:B_(n.outputs)}}function mu(n){n.features?.forEach(e=>e(n))}function pu(n,e){if(!n)return null;const t=e?wi:V_;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(im)}const pn=0,ke=1,st=2,gn=3,Sr=4,wc=5,Ei=6,ll=7,Kn=8,Ds=9,cl=10,ot=11,oa=12,j_=13,wo=14,Qn=15,aa=16,dl=17,Wr=18,Ec=19,gu=20,Eo=21,as=22,Ic=23,la=24,It=25,_u=1,yu=2,Ss=7,ca=9,ki=11;function hr(n){return Array.isArray(n)&&"object"==typeof n[_u]}function Qi(n){return Array.isArray(n)&&!0===n[_u]}function z_(n){return 0!=(4&n.flags)}function ul(n){return n.componentOffset>-1}function om(n){return 1==(1&n.flags)}function kr(n){return!!n.template}function am(n){return 0!=(512&n[st])}function da(n,e){return n.hasOwnProperty(ur)?n[ur]:null}let _n=null,bu=!1;function Kr(n){const e=_n;return _n=n,e}const fl={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Yn(n){if(!ml(n)||n.dirty){if(!n.producerMustRecompute(n)&&!Y_(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function Q_(n){n.dirty=!0,function K_(n){if(void 0===n.liveConsumerNode)return;const e=bu;bu=!0;try{for(const t of n.liveConsumerNode)t.dirty||Q_(t)}finally{bu=e}}(n),n.consumerMarkedDirty?.(n)}function Tc(n){return n&&(n.nextProducerIndex=0),Kr(n)}function dm(n,e){if(Kr(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(ml(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)ha(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Y_(n){ks(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(Yn(t),i!==t.version))return!0}return!1}function um(n){if(ks(n),ml(n))for(let e=0;e<n.producerNode.length;e++)ha(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function ha(n,e){if(function Ac(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),ks(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)ha(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];ks(r),r.producerIndexOfThis[i]=e}}function ml(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function ks(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let fm=null;const Eu=()=>{},aE=(()=>({...fl,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:Eu}))();class lE{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Yi(){return pm}function pm(n){return n.type.prototype.ngOnChanges&&(n.setInput=dE),cE}function cE(){const n=Iu(this),e=n?.current;if(e){const t=n.previous;if(t===Wi)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function dE(n,e,t,i){const r=this.declaredInputs[t],s=Iu(n)||function uE(n,e){return n[ry]=e}(n,{previous:Wi,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[r];o[r]=new lE(l&&l.currentValue,e,a===Wi),n[i]=e}Yi.ngInherit=!0;const ry="__ngSimpleChanges__";function Iu(n){return n[ry]||null}const Qr=function(n,e,t){},sy="svg";function Wt(n){for(;Array.isArray(n);)n=n[pn];return n}function Cu(n,e){return Wt(e[n])}function Vi(n,e){return Wt(e[n.index])}function Io(n,e){return n.data[e]}function xo(n,e){return n[e]}function Rr(n,e){const t=e[n];return hr(t)?t:t[pn]}function eo(n,e){return null==e?null:n[e]}function oy(n){n[dl]=0}function pE(n){1024&n[st]||(n[st]|=1024,ay(n,1))}function Tu(n){1024&n[st]&&(n[st]&=-1025,ay(n,-1))}function ay(n,e){let t=n[gn];if(null===t)return;t[wc]+=e;let i=t;for(t=t[gn];null!==t&&(1===e&&1===i[wc]||-1===e&&0===i[wc]);)t[wc]+=e,i=t,t=t[gn]}const Ze={lFrame:Fc(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Su(){return Ze.bindingsEnabled}function Co(){return null!==Ze.skipHydrationRootTNode}function fe(){return Ze.lFrame.lView}function Rt(){return Ze.lFrame.tView}function ls(n){return Ze.lFrame.contextLView=n,n[Kn]}function to(n){return Ze.lFrame.contextLView=null,n}function Ri(){let n=ku();for(;null!==n&&64===n.type;)n=n.parent;return n}function ku(){return Ze.lFrame.currentTNode}function Rs(n,e){const t=Ze.lFrame;t.currentTNode=n,t.isParent=e}function Oc(){return Ze.lFrame.isParent}function vm(){Ze.lFrame.isParent=!1}function fa(){return Ze.lFrame.bindingIndex++}function Ms(n){const e=Ze.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function fy(n,e){const t=Ze.lFrame;t.bindingIndex=t.bindingRootIndex=n,Im(e)}function Im(n){Ze.lFrame.currentDirectiveIndex=n}function my(){return Ze.lFrame.currentQueryIndex}function Nc(n){Ze.lFrame.currentQueryIndex=n}function bE(n){const e=n[ke];return 2===e.type?e.declTNode:1===e.type?n[Ei]:null}function py(n,e,t){if(t&_t.SkipSelf){let r=e,s=n;for(;!(r=r.parent,null!==r||t&_t.Host||(r=bE(s),null===r||(s=s[wo],10&r.type))););if(null===r)return!1;e=r,n=s}const i=Ze.lFrame=gy();return i.currentTNode=e,i.lView=n,!0}function Mu(n){const e=gy(),t=n[ke];Ze.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function gy(){const n=Ze.lFrame,e=null===n?null:n.child;return null===e?Fc(n):e}function Fc(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function _y(){const n=Ze.lFrame;return Ze.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const yy=_y;function Cm(){const n=_y();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Xi(){return Ze.lFrame.selectedIndex}function ma(n){Ze.lFrame.selectedIndex=n}function An(){const n=Ze.lFrame;return Io(n.tView,n.selectedIndex)}function pl(){Ze.lFrame.currentNamespace=sy}let by=!0;function Lc(){return by}function To(n){by=n}function Pu(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:f}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),d&&((n.viewHooks??=[]).push(t,d),(n.viewCheckHooks??=[]).push(t,d)),null!=f&&(n.destroyHooks??=[]).push(t,f)}}function Ou(n,e,t){Fu(n,e,3,t)}function Nu(n,e,t,i){(3&n[st])===t&&Fu(n,e,t,i)}function Vc(n,e){let t=n[st];(3&t)===e&&(t&=8191,t+=1,n[st]=t)}function Fu(n,e,t,i){const s=i??-1,o=e.length-1;let a=0;for(let l=void 0!==i?65535&n[dl]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=i&&a>=i)break}else e[l]<0&&(n[dl]+=65536),(a<s||-1==s)&&(Am(n,t,e,l),n[dl]=(4294901760&n[dl])+l+2),l++}function wy(n,e){Qr(4,n,e);const t=Kr(null);try{e.call(n)}finally{Kr(t),Qr(5,n,e)}}function Am(n,e,t,i){const r=t[i]<0,s=t[i+1],a=n[r?-t[i]:t[i]];r?n[st]>>13<n[dl]>>16&&(3&n[st])===e&&(n[st]+=8192,wy(a,s)):wy(a,s)}const gl=-1;class _l{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Lu(n){return n!==gl}function Bc(n){return 32767&n}function Uc(n,e){let t=function AE(n){return n>>16}(n),i=e;for(;t>0;)i=i[wo],t--;return i}let Rm=!0;function Vu(n){const e=Rm;return Rm=n,e}const Cy=255,SE=5;let kE=0;const Ui={};function Bu(n,e){const t=Ty(n,e);if(-1!==t)return t;const i=e[ke];i.firstCreatePass&&(n.injectorIndex=e.length,jc(i.data,n),jc(e,null),jc(i.blueprint,null));const r=yl(n,e),s=n.injectorIndex;if(Lu(r)){const o=Bc(r),a=Uc(r,e),l=a[ke].data;for(let d=0;d<8;d++)e[s+d]=a[o+d]|l[o+d]}return e[s+8]=r,s}function jc(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Ty(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function yl(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=zc(r),null===i)return gl;if(t++,r=r[wo],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return gl}function Mm(n,e,t){!function RE(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(vc)&&(i=t[vc]),null==i&&(i=t[vc]=kE++);const r=i&Cy;e.data[n+(r>>SE)]|=1<<r}(n,e,t)}function Uu(n,e,t){if(t&_t.Optional||void 0!==n)return n;dt()}function Ay(n,e,t,i){if(t&_t.Optional&&void 0===i&&(i=null),!(t&(_t.Self|_t.Host))){const r=n[Ds],s=dr(void 0);try{return r?r.get(e,i,t&_t.Optional):tu(e,i,t&_t.Optional)}finally{dr(s)}}return Uu(i,0,t)}function Dy(n,e,t,i=_t.Default,r){if(null!==n){if(2048&e[st]&&!(i&_t.Self)){const o=function FE(n,e,t,i,r){let s=n,o=e;for(;null!==s&&null!==o&&2048&o[st]&&!(512&o[st]);){const a=ju(s,o,t,i|_t.Self,Ui);if(a!==Ui)return a;let l=s.parent;if(!l){const d=o[gu];if(d){const f=d.get(t,Ui,i);if(f!==Ui)return f}l=zc(o),o=o[wo]}s=l}return r}(n,e,t,i,Ui);if(o!==Ui)return o}const s=ju(n,e,t,i,Ui);if(s!==Ui)return s}return Ay(e,t,i,r)}function ju(n,e,t,i,r){const s=function OE(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(vc)?n[vc]:void 0;return"number"==typeof e?e>=0?e&Cy:Om:e}(t);if("function"==typeof s){if(!py(e,n,i))return i&_t.Host?Uu(r,0,i):Ay(e,t,i,r);try{let o;if(o=s(i),null!=o||i&_t.Optional)return o;dt()}finally{yy()}}else if("number"==typeof s){let o=null,a=Ty(n,e),l=gl,d=i&_t.Host?e[Qn][Ei]:null;for((-1===a||i&_t.SkipSelf)&&(l=-1===a?yl(n,e):e[a+8],l!==gl&&Pm(i,!1)?(o=e[ke],a=Bc(l),e=Uc(l,e)):a=-1);-1!==a;){const f=e[ke];if(Sy(s,a,f.data)){const g=PE(a,e,t,o,i,d);if(g!==Ui)return g}l=e[a+8],l!==gl&&Pm(i,e[ke].data[a+8]===d)&&Sy(s,a,e)?(o=f,a=Bc(l),e=Uc(l,e)):a=-1}}return r}function PE(n,e,t,i,r,s){const o=e[ke],a=o.data[n+8],f=zu(a,o,t,null==i?ul(a)&&Rm:i!=o&&0!=(3&a.type),r&_t.Host&&s===a);return null!==f?pa(e,o,f,a):Ui}function zu(n,e,t,i,r){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,f=s>>20,y=r?a+f:n.directiveEnd;for(let b=i?a:a+f;b<y;b++){const I=o[b];if(b<l&&t===I||b>=l&&I.type===t)return b}if(r){const b=o[l];if(b&&kr(b)&&b.type===t)return l}return null}function pa(n,e,t,i){let r=n[t];const s=e.data;if(function Ey(n){return n instanceof _l}(r)){const o=r;o.resolving&&function Ae(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new re(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Z(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():F(n)}(s[t]));const a=Vu(o.canSeeViewProviders);o.resolving=!0;const d=o.injectImpl?dr(o.injectImpl):null;py(n,i,_t.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&function CE(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const o=pm(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}r&&(t.preOrderHooks??=[]).push(0-n,r),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}(t,s[t],e)}finally{null!==d&&dr(d),Vu(a),o.resolving=!1,yy()}}return r}function Sy(n,e,t){return!!(t[e+(n>>SE)]&1<<n)}function Pm(n,e){return!(n&_t.Self||n&_t.Host&&e)}class Zi{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return Dy(this._tNode,this._lView,e,ru(i),t)}}function Om(){return new Zi(Ri(),fe())}function Ln(n){return vo(()=>{const e=n.prototype.constructor,t=e[ur]||Nm(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[ur]||Nm(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Nm(n){return Ts(n)?()=>{const e=Nm(Xe(n));return e&&e()}:da(n)}function zc(n){const e=n[ke],t=e.type;return 2===t?e.declTNode:1===t?n[Ei]:null}function vl(n){return function ME(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const s=t[r];if(lu(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(s===e)return t[r+1];r+=2}}}return null}(Ri(),n)}const wl="__parameters__";function El(n,e,t){return vo(()=>{const i=function Fm(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,d,f){const g=l.hasOwnProperty(wl)?l[wl]:Object.defineProperty(l,wl,{value:[]})[wl];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(o),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function Ps(n,e){n.forEach(t=>Array.isArray(t)?Ps(t,e):e(t))}function Bm(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Hu(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ba(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function si(n,e,t){let i=Il(n,e);return i>=0?n[1|i]=t:(i=~i,function Ry(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function $u(n,e){const t=Il(n,e);if(t>=0)return n[1|t]}function Il(n,e){return function My(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<t];if(e===o)return s<<t;o>e?r=s:i=s+1}return~(r<<t)}(n,e,1)}const Ao=os(El("Optional"),8),qc=os(El("SkipSelf"),4);function Uy(n){return 128==(128&n.flags)}var xl=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(xl||{});const $E=new Map;let t$=0;const GE="__ngContext__";function mr(n,e){hr(e)?(n[GE]=e[Ec],function i$(n){$E.set(n[Ec],n)}(e)):n[GE]=e}let WE;function KE(n,e){return WE(n,e)}function Xm(n){const e=n[gn];return Qi(e)?e[gn]:e}function yR(n){return bR(n[oa])}function vR(n){return bR(n[Sr])}function bR(n){for(;null!==n&&!Qi(n);)n=n[Sr];return n}function Ku(n,e,t,i,r){if(null!=i){let s,o=!1;Qi(i)?s=i:hr(i)&&(o=!0,i=i[pn]);const a=Wt(i);0===n&&null!==t?null==r?xR(e,t,a):Gc(e,t,a,r||null,!0):1===n&&null!==t?Gc(e,t,a,r||null,!0):2===n?function Wy(n,e,t){const i=qy(n,e);i&&function E$(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function C$(n,e,t,i,r){const s=t[Ss];s!==Wt(t)&&Ku(e,n,i,s,r);for(let a=ki;a<t.length;a++){const l=t[a];Jm(l[ke],l,n,e,i,s)}}(e,n,s,t,r)}}function Hy(n,e,t){return n.createElement(e,t)}function ER(n,e){const t=n[ca],i=t.indexOf(e);Tu(e),t.splice(i,1)}function $y(n,e){if(n.length<=ki)return;const t=ki+e,i=n[t];if(i){const r=i[aa];null!==r&&r!==n&&ER(r,i),e>0&&(n[t-1][Sr]=i[Sr]);const s=Hu(n,ki+e);!function m$(n,e){Jm(n,e,e[ot],2,null,null),e[pn]=null,e[Ei]=null}(i[ke],i);const o=s[Wr];null!==o&&o.detachView(s[ke]),i[gn]=null,i[Sr]=null,i[st]&=-129}return i}function YE(n,e){if(!(256&e[st])){const t=e[ot];e[Ic]&&um(e[Ic]),e[la]&&um(e[la]),t.destroyNode&&Jm(n,e,t,3,null,null),function _$(n){let e=n[oa];if(!e)return XE(n[ke],n);for(;e;){let t=null;if(hr(e))t=e[oa];else{const i=e[ki];i&&(t=i)}if(!t){for(;e&&!e[Sr]&&e!==n;)hr(e)&&XE(e[ke],e),e=e[gn];null===e&&(e=n),hr(e)&&XE(e[ke],e),t=e&&e[Sr]}e=t}}(e)}}function XE(n,e){if(!(256&e[st])){e[st]&=-129,e[st]|=256,function w$(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof _l)){const s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];Qr(4,a,l);try{l.call(a)}finally{Qr(5,a,l)}}else{Qr(4,r,s);try{s.call(r)}finally{Qr(5,r,s)}}}}}(n,e),function b$(n,e){const t=n.cleanup,i=e[ll];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else t[s].call(i[t[s+1]]);null!==i&&(e[ll]=null);const r=e[Eo];if(null!==r){e[Eo]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(n,e),1===e[ke].type&&e[ot].destroy();const t=e[aa];if(null!==t&&Qi(e[gn])){t!==e[gn]&&ER(t,e);const i=e[Wr];null!==i&&i.detachView(n)}!function r$(n){$E.delete(n[Ec])}(e)}}function ZE(n,e,t){return function IR(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[pn];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=n.data[i.directiveStart+r];if(s===ii.None||s===ii.Emulated)return null}return Vi(i,t)}}(n,e.parent,t)}function Gc(n,e,t,i,r){n.insertBefore(e,t,i,r)}function xR(n,e,t){n.appendChild(e,t)}function CR(n,e,t,i,r){null!==i?Gc(n,e,t,i,r):xR(n,e,t)}function qy(n,e){return n.parentNode(e)}function TR(n,e,t){return DR(n,e,t)}let JE,Ky,iI,DR=function AR(n,e,t){return 40&n.type?Vi(n,t):null};function Gy(n,e,t,i){const r=ZE(n,i,e),s=e[ot],a=TR(i.parent||e[Ei],i,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)CR(s,r,t[l],a,!1);else CR(s,r,t,a,!1);void 0!==JE&&JE(s,i,e,t,r)}function Zm(n,e){if(null!==e){const t=e.type;if(3&t)return Vi(e,n);if(4&t)return eI(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Zm(n,i);{const r=n[e.index];return Qi(r)?eI(-1,r):Wt(r)}}if(32&t)return KE(e,n)()||Wt(n[e.index]);{const i=kR(n,e);return null!==i?Array.isArray(i)?i[0]:Zm(Xm(n[Qn]),i):Zm(n,e.next)}}return null}function kR(n,e){return null!==e?n[Qn][Ei].projection[e.projection]:null}function eI(n,e){const t=ki+n+1;if(t<e.length){const i=e[t],r=i[ke].firstChild;if(null!==r)return Zm(i,r)}return e[Ss]}function tI(n,e,t,i,r,s,o){for(;null!=t;){const a=i[t.index],l=t.type;if(o&&0===e&&(a&&mr(Wt(a),i),t.flags|=2),32!=(32&t.flags))if(8&l)tI(n,e,t.child,i,r,s,!1),Ku(e,n,r,a,s);else if(32&l){const d=KE(t,i);let f;for(;f=d();)Ku(e,n,r,f,s);Ku(e,n,r,a,s)}else 16&l?MR(n,e,i,t,r,s):Ku(e,n,r,a,s);t=o?t.projectionNext:t.next}}function Jm(n,e,t,i,r,s){tI(t,i,n.firstChild,e,r,s,!1)}function MR(n,e,t,i,r,s){const o=t[Qn],l=o[Ei].projection[i.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++)Ku(e,n,r,l[d],s);else{let d=l;const f=o[gn];Uy(i)&&(d.flags|=128),tI(n,e,d,f,r,s,!0)}}function PR(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function OR(n,e,t){const{mergedAttrs:i,classes:r,styles:s}=t;null!==i&&au(n,e,i),null!==r&&PR(n,e,r),null!==s&&function A$(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function Qu(n){return function nI(){if(void 0===Ky&&(Ky=null,nn.trustedTypes))try{Ky=nn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ky}()?.createHTML(n)||n}class Wc{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Xs})`}}class M$ extends Wc{getTypeName(){return"HTML"}}class P$ extends Wc{getTypeName(){return"Style"}}class O$ extends Wc{getTypeName(){return"Script"}}class N$ extends Wc{getTypeName(){return"URL"}}class F$ extends Wc{getTypeName(){return"ResourceURL"}}function us(n){return n instanceof Wc?n.changingThisBreaksApplicationSecurity:n}function Do(n,e){const t=function L$(n){return n instanceof Wc&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Xs})`)}return t===e}class H${constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Qu(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class $${constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=Qu(e),t}}const G$=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Yy(n){return(n=String(n)).match(G$)?n:"unsafe:"+n}function Ia(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function ep(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const BR=Ia("area,br,col,hr,img,wbr"),UR=Ia("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),jR=Ia("rp,rt"),sI=ep(BR,ep(UR,Ia("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ep(jR,Ia("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ep(jR,UR)),oI=Ia("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zR=ep(oI,Ia("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ia("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),W$=Ia("script,style,template");class K${constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!sI.hasOwnProperty(t))return this.sanitizedSomething=!0,!W$.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,a=o.toLowerCase();if(!zR.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;oI[a]&&(l=Yy(l)),this.buf.push(" ",o,'="',HR(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();sI.hasOwnProperty(t)&&!BR.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(HR(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Q$=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Y$=/([^\#-~ |!])/g;function HR(n){return n.replace(/&/g,"&amp;").replace(Q$,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Y$,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Xy;function $R(n,e){let t=null;try{Xy=Xy||function VR(n){const e=new $$(n);return function q$(){try{return!!(new window.DOMParser).parseFromString(Qu(""),"text/html")}catch{return!1}}()?new H$(e):e}(n);let i=e?String(e):"";t=Xy.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=t.innerHTML,t=Xy.getInertBodyElement(i)}while(i!==s);return Qu((new K$).sanitizeChildren(aI(t)||t))}finally{if(t){const i=aI(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function aI(n){return"content"in n&&function X$(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Ji=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Ji||{});function lI(n){const e=function tp(){const n=fe();return n&&n[cl].sanitizer}();return e?e.sanitize(Ji.URL,n)||"":Do(n,"URL")?us(n):Yy(F(n))}const np=new de("ENVIRONMENT_INITIALIZER"),WR=new de("INJECTOR",-1),KR=new de("INJECTOR_DEF_TYPES");class cI{get(e,t=mc){if(t===mc){const i=new Error(`NullInjectorError: No provider for ${Ge(e)}!`);throw i.name="NullInjectorError",i}return t}}function r6(...n){return{\u0275providers:QR(0,n),\u0275fromNgModule:!0}}function QR(n,...e){const t=[],i=new Set;let r;const s=o=>{t.push(o)};return Ps(e,o=>{const a=o;Zy(a,s,[],i)&&(r||=[],r.push(a))}),void 0!==r&&YR(r,s),t}function YR(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:r}=n[t];uI(r,s=>{e(s,i)})}}function Zy(n,e,t,i){if(!(n=Xe(n)))return!1;let r=null,s=Jd(n);const o=!s&&Tt(n);if(s||o){if(o&&!o.standalone)return!1;r=n}else{const l=n.ngModule;if(s=Jd(l),!s)return!1;r=l}const a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const d of l)Zy(d,e,t,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let d;i.add(r);try{Ps(s.imports,f=>{Zy(f,e,t,i)&&(d||=[],d.push(f))})}finally{}void 0!==d&&YR(d,e)}if(!a){const d=da(r)||(()=>new r);e({provide:r,useFactory:d,deps:Et},r),e({provide:KR,useValue:r,multi:!0},r),e({provide:np,useValue:()=>Q(r),multi:!0},r)}const l=s.providers;if(null!=l&&!a){const d=n;uI(l,f=>{e(f,d)})}}}return r!==n&&void 0!==n.providers}function uI(n,e){for(let t of n)rl(t)&&(t=t.\u0275providers),Array.isArray(t)?uI(t,e):e(t)}const s6=qe({provide:String,useValue:qe});function hI(n){return null!==n&&"object"==typeof n&&s6 in n}function Kc(n){return"function"==typeof n}const fI=new de("Set Injector scope."),Jy={},a6={};let mI;function ev(){return void 0===mI&&(mI=new cI),mI}class hs{}class Xu extends hs{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,gI(e,o=>this.processProvider(o)),this.records.set(WR,Zu(void 0,this)),r.has("environment")&&this.records.set(hs,Zu(void 0,this));const s=this.records.get(fI);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(KR.multi,Et,_t.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=yo(this),i=dr(void 0);try{return e()}finally{yo(t),dr(i)}}get(e,t=mc,i=_t.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(bc))return e[bc](this);i=ru(i);const s=yo(this),o=dr(void 0);try{if(!(i&_t.SkipSelf)){let l=this.records.get(e);if(void 0===l){const d=function h6(n){return"function"==typeof n||"object"==typeof n&&n instanceof de}(e)&&Zd(e);l=d&&this.injectableDefInScope(d)?Zu(pI(e),Jy):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(i&_t.Self?ev():this.parent).get(e,t=i&_t.Optional&&t===mc?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[_o]=a[_o]||[]).unshift(Ge(e)),s)throw a;return function Q0(n,e,t,i){const r=n[_o];throw e[ss]&&r.unshift(e[ss]),n.message=function _c(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Ge(e);if(Array.isArray(e))r=e.map(Ge).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ge(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(qf,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[_o]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{dr(o),yo(s)}}resolveInjectorInitializers(){const e=yo(this),t=dr(void 0);try{const r=this.get(np.multi,Et,_t.Self);for(const s of r)s()}finally{yo(e),dr(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(Ge(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new re(205,!1)}processProvider(e){let t=Kc(e=Xe(e))?e:Xe(e&&e.provide);const i=function c6(n){return hI(n)?Zu(void 0,n.useValue):Zu(JR(n),Jy)}(e);if(Kc(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=Zu(void 0,Jy,!0),r.factory=()=>gc(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===Jy&&(t.value=a6,t.value=t.factory()),"object"==typeof t.value&&t.value&&function u6(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Xe(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function pI(n){const e=Zd(n),t=null!==e?e.factory:da(n);if(null!==t)return t;if(n instanceof de)throw new re(204,!1);if(n instanceof Function)return function l6(n){const e=n.length;if(e>0)throw ba(e,"?"),new re(204,!1);const t=function D_(n){return n&&(n[hc]||n[sa])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new re(204,!1)}function JR(n,e,t){let i;if(Kc(n)){const r=Xe(n);return da(r)||pI(r)}if(hI(n))i=()=>Xe(n.useValue);else if(function ZR(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...gc(n.deps||[]));else if(function XR(n){return!(!n||!n.useExisting)}(n))i=()=>Q(Xe(n.useExisting));else{const r=Xe(n&&(n.useClass||n.provide));if(!function d6(n){return!!n.deps}(n))return da(r)||pI(r);i=()=>new r(...gc(n.deps))}return i}function Zu(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function gI(n,e){for(const t of n)Array.isArray(t)?gI(t,e):t&&rl(t)?gI(t.\u0275providers,e):e(t)}const tv=new de("AppId",{providedIn:"root",factory:()=>f6}),f6="ng",eM=new de("Platform Initializer"),Os=new de("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),xa=new de("AnimationModuleType"),_I=new de("CSP nonce",{providedIn:"root",factory:()=>function Yu(){if(void 0!==iI)return iI;if(typeof document<"u")return document;throw new re(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let tM=(n,e,t)=>null;function CI(n,e,t=!1){return tM(n,e,t)}class I6{}class rM{}class C6{resolveComponentFactory(e){throw function x6(n){const e=Error(`No component factory found for ${Ge(n)}.`);return e.ngComponent=n,e}(e)}}let sp=(()=>{class n{static{this.NULL=new C6}}return n})();function T6(){return th(Ri(),fe())}function th(n,e){return new Ht(Vi(n,e))}let Ht=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=T6}}return n})();function A6(n){return n instanceof Ht?n.nativeElement:n}class op{}let Ca=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function D6(){const n=fe(),t=Rr(Ri().index,n);return(hr(t)?t:n)[ot]}()}}return n})(),S6=(()=>{class n{static{this.\u0275prov=be({token:n,providedIn:"root",factory:()=>null})}}return n})();class Cl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const oM=new Cl("16.2.12"),DI={};function dM(n,e=null,t=null,i){const r=uM(n,e,t,i);return r.resolveInjectorInitializers(),r}function uM(n,e=null,t=null,i,r=new Set){const s=[t||Et,r6(n)];return i=i||("object"==typeof n?void 0:Ge(n)),new Xu(s,e||ev(),i||null,r)}let pr=(()=>{class n{static{this.THROW_IF_NOT_FOUND=mc}static{this.NULL=new cI}static create(t,i){if(Array.isArray(t))return dM({name:""},i,t,"");{const r=t.name??"";return dM({name:r},t.parent,t.providers,r)}}static{this.\u0275prov=be({token:n,providedIn:"any",factory:()=>Q(WR)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();function kI(n){return n.ngOriginalError}class Ns{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&kI(e);for(;t&&kI(t);)t=kI(t);return t||null}}function RI(n){return e=>{setTimeout(n,void 0,e)}}const At=class L6 extends j{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,s=t||(()=>null),o=i;if(e&&"object"==typeof e){const l=e;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=RI(s),r&&(r=RI(r)),o&&(o=RI(o)));const a=super.subscribe({next:r,error:s,complete:o});return e instanceof ct&&e.add(a),a}};function fM(...n){}class Qe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new At(!1),this.onMicrotaskEmpty=new At(!1),this.onStable=new At(!1),this.onError=new At(!1),typeof Zone>"u")throw new re(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function V6(){const n="function"==typeof nn.requestAnimationFrame;let e=nn[n?"requestAnimationFrame":"setTimeout"],t=nn[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function j6(n){const e=()=>{!function U6(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(nn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,PI(n),n.isCheckStableRunning=!0,MI(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),PI(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,s,o,a)=>{if(function H6(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,s,o,a);try{return mM(n),t.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),pM(n)}},onInvoke:(t,i,r,s,o,a,l)=>{try{return mM(n),t.invoke(r,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),pM(n)}},onHasTask:(t,i,r,s)=>{t.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,PI(n),MI(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,r,s)=>(t.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qe.isInAngularZone())throw new re(909,!1)}static assertNotInAngularZone(){if(Qe.isInAngularZone())throw new re(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,B6,fM,fM);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const B6={};function MI(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function PI(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function mM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function pM(n){n._nesting--,MI(n)}class z6{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new At,this.onMicrotaskEmpty=new At,this.onStable=new At,this.onError=new At}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const gM=new de("",{providedIn:"root",factory:_M});function _M(){const n=Ee(Qe);let e=!0;return k(new rt(r=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(e),r.complete()})}),new rt(r=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{Qe.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,r.next(!0))})})});const o=n.onUnstable.subscribe(()=>{Qe.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(Y()))}function Ta(n){return n instanceof Function?n():n}let OI=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=be({token:n,providedIn:"root",factory:()=>new n})}}return n})();function ap(n){for(;n;){n[st]|=64;const e=Xm(n);if(am(n)&&!e)return n;n=e}return null}const EM=new de("",{providedIn:"root",factory:()=>!1});let cv=null;function TM(n,e){return n[e]??SM()}function AM(n,e){const t=SM();t.producerNode?.length&&(n[e]=cv,t.lView=n,cv=DM())}const J6={...fl,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{ap(n.lView)},lView:null};function DM(){return Object.create(J6)}function SM(){return cv??=DM(),cv}const ht={};function $e(n){kM(Rt(),fe(),Xi()+n,!1)}function kM(n,e,t,i){if(!i)if(3==(3&e[st])){const s=n.preOrderCheckHooks;null!==s&&Ou(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Nu(e,s,0,t)}ma(t)}function H(n,e=_t.Default){const t=fe();return null===t?Q(n,e):Dy(Ri(),t,Xe(n),e)}function NI(){throw new Error("invalid")}function dv(n,e,t,i,r,s,o,a,l,d,f){const g=e.blueprint.slice();return g[pn]=r,g[st]=140|i,(null!==d||n&&2048&n[st])&&(g[st]|=2048),oy(g),g[gn]=g[wo]=n,g[Kn]=t,g[cl]=o||n&&n[cl],g[ot]=a||n&&n[ot],g[Ds]=l||n&&n[Ds]||null,g[Ei]=s,g[Ec]=function n$(){return t$++}(),g[as]=f,g[gu]=d,g[Qn]=2==e.type?n[Qn]:g,g}function rh(n,e,t,i,r){let s=n.data[e];if(null===s)s=function FI(n,e,t,i,r){const s=ku(),o=Oc(),l=n.data[e]=function a5(n,e,t,i,r,s){let o=e?e.injectorIndex:-1,a=0;return Co()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(n,e,t,i,r),function uy(){return Ze.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=i,s.attrs=r;const o=function Pc(){const n=Ze.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Rs(s,!0),s}function lp(n,e,t,i){if(0===t)return-1;const r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function RM(n,e,t,i,r){const s=TM(e,Ic),o=Xi(),a=2&i;try{ma(-1),a&&e.length>It&&kM(n,e,It,!1),Qr(a?2:0,r);const d=a?s:null,f=Tc(d);try{null!==d&&(d.dirty=!1),t(i,r)}finally{dm(d,f)}}finally{a&&null===e[Ic]&&AM(e,Ic),ma(o),Qr(a?3:1,r)}}function LI(n,e,t){if(z_(e)){const i=Kr(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{Kr(i)}}}function VI(n,e,t){Su()&&(function m5(n,e,t,i){const r=t.directiveStart,s=t.directiveEnd;ul(t)&&function w5(n,e,t){const i=Vi(e,n),r=MM(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=uv(n,dv(n,r,null,o,i,e,null,n[cl].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Bu(t,e),mr(i,e);const o=t.initialInputs;for(let a=r;a<s;a++){const l=n.data[a],d=pa(e,n,a,t);mr(d,e),null!==o&&E5(0,a-r,d,l,0,o),kr(l)&&(Rr(t.index,e)[Kn]=pa(e,n,a,t))}}(n,e,t,Vi(t,e)),64==(64&t.flags)&&LM(n,e,t))}function BI(n,e,t=Vi){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?t(e,n):n[o];n[r++]=a}}}function MM(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=UI(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function UI(n,e,t,i,r,s,o,a,l,d,f){const g=It+i,y=g+r,b=function t5(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:ht);return t}(g,y),I="function"==typeof d?d():d;return b[ke]={type:n,blueprint:b,template:t,queries:null,viewQuery:a,declTNode:e,data:b.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:I,incompleteFirstPass:!1,ssrId:f}}let PM=n=>null;function OM(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const s=n[r];null===i?NM(t,e,r,s):i.hasOwnProperty(r)&&NM(t,e,i[r],s)}return t}function NM(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function fs(n,e,t,i,r,s,o,a){const l=Vi(e,t);let f,d=e.inputs;!a&&null!=d&&(f=d[i])?(qI(n,t,f,i,r),ul(e)&&function d5(n,e){const t=Rr(e,n);16&t[st]||(t[st]|=64)}(t,e.index)):3&e.type&&(i=function c5(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,e.value||"",i):r,s.setProperty(l,i,r))}function jI(n,e,t,i){if(Su()){const r=null===i?null:{"":-1},s=function g5(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(uu(e,o.selectors,!1))if(i||(i=[]),kr(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o),zI(n,e,a.length)}else i.unshift(o),zI(n,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&FM(n,e,t,o,r,a),r&&function _5(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const s=t[e[r+1]];if(null==s)throw new re(-301,!1);i.push(e[r],s)}}}(t,i,r)}t.mergedAttrs=al(t.mergedAttrs,t.attrs)}function FM(n,e,t,i,r,s){for(let d=0;d<i.length;d++)Mm(Bu(t,e),n,i[d].type);!function v5(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let d=0;d<i.length;d++){const f=i[d];f.providersResolver&&f.providersResolver(f)}let o=!1,a=!1,l=lp(n,e,i.length,null);for(let d=0;d<i.length;d++){const f=i[d];t.mergedAttrs=al(t.mergedAttrs,f.hostAttrs),b5(n,t,e,l,f),y5(l,f,r),null!==f.contentQueries&&(t.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(t.flags|=64);const g=f.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function l5(n,e,t){const r=e.directiveEnd,s=n.data,o=e.attrs,a=[];let l=null,d=null;for(let f=e.directiveStart;f<r;f++){const g=s[f],y=t?t.get(g):null,I=y?y.outputs:null;l=OM(g.inputs,f,l,y?y.inputs:null),d=OM(g.outputs,f,d,I);const x=null===l||null===o||Qf(e)?null:I5(l,f,o);a.push(x)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=d}(n,t,s)}function LM(n,e,t){const i=t.directiveStart,r=t.directiveEnd,s=t.index,o=function Em(){return Ze.lFrame.currentDirectiveIndex}();try{ma(s);for(let a=i;a<r;a++){const l=n.data[a],d=e[a];Im(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&p5(l,d)}}finally{ma(-1),Im(o)}}function p5(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function zI(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function y5(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;kr(e)&&(t[""]=n)}}function b5(n,e,t,i,r){n.data[i]=r;const s=r.factory||(r.factory=da(r.type)),o=new _l(s,kr(r),H);n.blueprint[i]=o,t[i]=o,function h5(n,e,t,i,r){const s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function f5(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,i,s)}}(n,e,i,lp(n,t,r.hostVars,ht),r)}function So(n,e,t,i,r,s){const o=Vi(n,e);!function HI(n,e,t,i,r,s,o){if(null==s)n.removeAttribute(e,r,t);else{const a=null==o?F(s):o(s,i||"",r);n.setAttribute(e,r,a,t)}}(e[ot],o,s,n.value,t,i,r)}function E5(n,e,t,i,r,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)VM(i,t,o[a++],o[a++],o[a++])}function VM(n,e,t,i,r){const s=Kr(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(i)&&(r=o[i].call(e,r)),null!==n.setInput?n.setInput(e,r,t,i):e[i]=r}finally{Kr(s)}}function I5(n,e,t){let i=null,r=0;for(;r<t.length;){const s=t[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===i&&(i=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){i.push(s,o[a+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function BM(n,e,t,i){return[n,!0,!1,e,null,0,i,t,null,null,null]}function UM(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const s=t[i+1];if(-1!==s){const o=n.data[s];Nc(t[i]),o.contentQueries(2,e[s],s)}}}function uv(n,e){return n[oa]?n[j_][Sr]=e:n[oa]=e,n[j_]=e,e}function $I(n,e,t){Nc(0);const i=Kr(null);try{e(n,t)}finally{Kr(i)}}function jM(n){return n[ll]||(n[ll]=[])}function zM(n){return n.cleanup||(n.cleanup=[])}function $M(n,e){const t=n[Ds],i=t?t.get(Ns,null):null;i&&i.handleError(e)}function qI(n,e,t,i,r){for(let s=0;s<t.length;){const o=t[s++],a=t[s++];VM(n.data[o],e[o],i,a,r)}}function x5(n,e){const t=Rr(e,n),i=t[ke];!function C5(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[pn];null!==r&&null===t[as]&&(t[as]=CI(r,t[Ds])),GI(i,t,t[Kn])}function GI(n,e,t){Mu(e);try{const i=n.viewQuery;null!==i&&$I(1,i,t);const r=n.template;null!==r&&RM(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&UM(n,e),n.staticViewQueries&&$I(2,n.viewQuery,t);const s=n.components;null!==s&&function T5(n,e){for(let t=0;t<e.length;t++)x5(n,e[t])}(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[st]&=-5,Cm()}}let qM=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,i,r){const s=typeof Zone>"u"?null:Zone.current,o=function oE(n,e,t){const i=Object.create(aE);t&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=e;const r=o=>{i.cleanupFn=o};return i.ref={notify:()=>Q_(i),run:()=>{if(i.dirty=!1,i.hasRun&&!Y_(i))return;i.hasRun=!0;const o=Tc(i);try{i.cleanupFn(),i.cleanupFn=Eu,i.fn(r)}finally{dm(i,o)}},cleanup:()=>i.cleanupFn()},i.ref}(t,d=>{this.all.has(d)&&this.queue.set(d,s)},r);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[t,i]of this.queue)this.queue.delete(t),i?i.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=be({token:n,providedIn:"root",factory:()=>new n})}}return n})();function hv(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?r=Si(r,a):2==s&&(i=Si(i,a+": "+e[++o]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function cp(n,e,t,i,r=!1){for(;null!==t;){const s=e[t.index];null!==s&&i.push(Wt(s)),Qi(s)&&GM(s,i);const o=t.type;if(8&o)cp(n,e,t.child,i);else if(32&o){const a=KE(t,e);let l;for(;l=a();)i.push(l)}else if(16&o){const a=kR(e,t);if(Array.isArray(a))i.push(...a);else{const l=Xm(e[Qn]);cp(l[ke],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function GM(n,e){for(let t=ki;t<n.length;t++){const i=n[t],r=i[ke].firstChild;null!==r&&cp(i[ke],i,r,e)}n[Ss]!==n[pn]&&e.push(n[Ss])}function fv(n,e,t,i=!0){const r=e[cl],s=r.rendererFactory,o=r.afterRenderEventManager;s.begin?.(),o?.begin();try{WM(n,e,n.template,t)}catch(l){throw i&&$M(e,l),l}finally{s.end?.(),r.effectManager?.flush(),o?.end()}}function WM(n,e,t,i){const r=e[st];if(256!=(256&r)){e[cl].effectManager?.flush(),Mu(e);try{oy(e),function dy(n){return Ze.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&RM(n,e,t,2,i);const o=3==(3&r);if(o){const d=n.preOrderCheckHooks;null!==d&&Ou(e,d,null)}else{const d=n.preOrderHooks;null!==d&&Nu(e,d,0,null),Vc(e,0)}if(function S5(n){for(let e=yR(n);null!==e;e=vR(e)){if(!e[yu])continue;const t=e[ca];for(let i=0;i<t.length;i++){pE(t[i])}}}(e),KM(e,2),null!==n.contentQueries&&UM(n,e),o){const d=n.contentCheckHooks;null!==d&&Ou(e,d)}else{const d=n.contentHooks;null!==d&&Nu(e,d,1),Vc(e,1)}!function e5(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const i=TM(e,la);try{for(let r=0;r<t.length;r++){const s=t[r];if(s<0)ma(~s);else{const o=s,a=t[++r],l=t[++r];fy(a,o),i.dirty=!1;const d=Tc(i);try{l(2,e[o])}finally{dm(i,d)}}}}finally{null===e[la]&&AM(e,la),ma(-1)}}(n,e);const a=n.components;null!==a&&YM(e,a,0);const l=n.viewQuery;if(null!==l&&$I(2,l,i),o){const d=n.viewCheckHooks;null!==d&&Ou(e,d)}else{const d=n.viewHooks;null!==d&&Nu(e,d,2),Vc(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[st]&=-73,Tu(e)}finally{Cm()}}}function KM(n,e){for(let t=yR(n);null!==t;t=vR(t))for(let i=ki;i<t.length;i++)QM(t[i],e)}function k5(n,e,t){QM(Rr(e,n),t)}function QM(n,e){if(!function mE(n){return 128==(128&n[st])}(n))return;const t=n[ke],i=n[st];if(80&i&&0===e||1024&i||2===e)WM(t,n,t.template,n[Kn]);else if(n[wc]>0){KM(n,1);const r=t.components;null!==r&&YM(n,r,1)}}function YM(n,e,t){for(let i=0;i<e.length;i++)k5(n,e[i],t)}class dp{get rootNodes(){const e=this._lView,t=e[ke];return cp(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Kn]}set context(e){this._lView[Kn]=e}get destroyed(){return 256==(256&this._lView[st])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[gn];if(Qi(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&($y(e,i),Hu(t,i))}this._attachedToViewContainer=!1}YE(this._lView[ke],this._lView)}onDestroy(e){!function Au(n,e){if(256==(256&n[st]))throw new re(911,!1);null===n[Eo]&&(n[Eo]=[]),n[Eo].push(e)}(this._lView,e)}markForCheck(){ap(this._cdRefInjectingView||this._lView)}detach(){this._lView[st]&=-129}reattach(){this._lView[st]|=128}detectChanges(){fv(this._lView[ke],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function g$(n,e){Jm(n,e,e[ot],2,null,null)}(this._lView[ke],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new re(902,!1);this._appRef=e}}class R5 extends dp{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;fv(e[ke],e,e[Kn],!1)}checkNoChanges(){}get context(){return null}}class XM extends sp{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Tt(e);return new up(t,this.ngModule)}}function ZM(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class P5{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=ru(i);const r=this.injector.get(e,DI,i);return r!==DI||t===DI?r:this.parentInjector.get(e,t,i)}}class up extends rM{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=ZM(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return ZM(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function fu(n){return n.map(em).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let s=(r=r||this.ngModule)instanceof hs?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new P5(e,s):e,a=o.get(op,null);if(null===a)throw new re(407,!1);const g={rendererFactory:a,sanitizer:o.get(S6,null),effectManager:o.get(qM,null),afterRenderEventManager:o.get(OI,null)},y=a.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",I=i?function n5(n,e,t,i){const s=i.get(EM,!1)||t===ii.ShadowDom,o=n.selectRootElement(e,s);return function i5(n){PM(n)}(o),o}(y,i,this.componentDef.encapsulation,o):Hy(y,b,function M5(n){const e=n.toLowerCase();return"svg"===e?sy:"math"===e?"math":null}(b)),V=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let M=null;null!==I&&(M=CI(I,o,!0));const U=UI(0,null,null,1,0,null,null,null,null,null,null),J=dv(null,U,null,V,null,null,g,y,o,null,M);let ye,Se;Mu(J);try{const N=this.componentDef;let D,P=null;N.findHostDirectiveDefs?(D=[],P=new Map,N.findHostDirectiveDefs(N,D,P),D.push(N)):D=[N];const B=function N5(n,e){const t=n[ke],i=It;return n[i]=e,rh(t,i,2,"#host",null)}(J,I),G=function F5(n,e,t,i,r,s,o){const a=r[ke];!function L5(n,e,t,i){for(const r of n)e.mergedAttrs=al(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(hv(e,e.mergedAttrs,!0),null!==t&&OR(i,t,e))}(i,n,e,o);let l=null;null!==e&&(l=CI(e,r[Ds]));const d=s.rendererFactory.createRenderer(e,t);let f=16;t.signals?f=4096:t.onPush&&(f=64);const g=dv(r,MM(t),null,f,r[n.index],n,s,d,null,null,l);return a.firstCreatePass&&zI(a,n,i.length-1),uv(r,g),r[n.index]=g}(B,I,N,D,J,g,y);Se=Io(U,It),I&&function B5(n,e,t,i){if(i)au(n,t,["ng-version",oM.full]);else{const{attrs:r,classes:s}=function tm(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&e.push(s,n[++i]):8===r&&t.push(s);else{if(!Dr(r))break;r=s}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&au(n,t,r),s&&s.length>0&&PR(n,t,s.join(" "))}}(y,N,I,i),void 0!==t&&function U5(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const s=t[r];i.push(null!=s?Array.from(s):null)}}(Se,this.ngContentSelectors,t),ye=function V5(n,e,t,i,r,s){const o=Ri(),a=r[ke],l=Vi(o,r);FM(a,r,o,t,null,i);for(let f=0;f<t.length;f++)mr(pa(r,a,o.directiveStart+f,o),r);LM(a,r,o),l&&mr(l,r);const d=pa(r,a,o.directiveStart+o.componentOffset,o);if(n[Kn]=r[Kn]=d,null!==s)for(const f of s)f(d,e);return LI(a,o,n),d}(G,N,D,P,J,[j5]),GI(U,J,null)}finally{Cm()}return new O5(this.componentType,ye,th(Se,J),J,Se)}}class O5 extends I6{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new R5(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;qI(s[ke],s,r,e,t),this.previousInputValues.set(e,t),ap(Rr(this._tNode.index,s))}}get injector(){return new Zi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function j5(){const n=Ri();Pu(fe()[ke],n)}function xt(n){let e=function JM(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(kr(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new re(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const o=n;o.inputs=mv(n.inputs),o.inputTransforms=mv(n.inputTransforms),o.declaredInputs=mv(n.declaredInputs),o.outputs=mv(n.outputs);const a=r.hostBindings;a&&q5(n,a);const l=r.viewQuery,d=r.contentQueries;if(l&&H5(n,l),d&&$5(n,d),Gn(n.inputs,r.inputs),Gn(n.declaredInputs,r.declaredInputs),Gn(n.outputs,r.outputs),null!==r.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Gn(o.inputTransforms,r.inputTransforms)),kr(r)&&r.data.animation){const f=n.data;f.animation=(f.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===xt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function z5(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=al(r.hostAttrs,t=al(t,r.hostAttrs))}}(i)}function mv(n){return n===Wi?{}:n===Et?[]:n}function H5(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function $5(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,s)=>{e(i,r,s),t(i,r,s)}:e}function q5(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function pv(n){return!!WI(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function WI(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function gr(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function oi(n,e,t,i){const r=fe();return gr(r,fa(),e)&&(Rt(),So(An(),r,n,e,t,i)),oi}function oh(n,e,t,i){return gr(n,fa(),t)?e+F(t)+i:ht}function nt(n,e,t,i,r,s,o,a){const l=fe(),d=Rt(),f=n+It,g=d.firstCreatePass?function gq(n,e,t,i,r,s,o,a,l){const d=e.consts,f=rh(e,n,4,o||null,eo(d,a));jI(e,t,f,eo(d,l)),Pu(e,f);const g=f.tView=UI(2,f,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return null!==e.queries&&(e.queries.template(e,f),g.queries=e.queries.embeddedTView(f)),f}(f,d,l,e,t,i,r,s,o):d.data[f];Rs(g,!1);const y=gP(d,l,g,n);Lc()&&Gy(d,l,y,g),mr(y,l),uv(l,l[f]=BM(y,l,y,g)),om(g)&&VI(d,l,g),null!=o&&BI(l,g,a)}let gP=function _P(n,e,t,i){return To(!0),e[ot].createComment("")};function Ls(n){return xo(function bm(){return Ze.lFrame.contextLView}(),It+n)}function je(n,e,t){const i=fe();return gr(i,fa(),e)&&fs(Rt(),An(),i,n,e,i[ot],t,!1),je}function JI(n,e,t,i,r){const o=r?"class":"style";qI(n,t,e.inputs[o],o,i)}function Le(n,e,t,i){const r=fe(),s=Rt(),o=It+n,a=r[ot],l=s.firstCreatePass?function bq(n,e,t,i,r,s){const o=e.consts,l=rh(e,n,2,i,eo(o,r));return jI(e,t,l,eo(o,s)),null!==l.attrs&&hv(l,l.attrs,!1),null!==l.mergedAttrs&&hv(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,r,e,t,i):s.data[o],d=yP(s,r,l,a,e,n);r[o]=d;const f=om(l);return Rs(l,!0),OR(a,d,l),32!=(32&l.flags)&&Lc()&&Gy(s,r,d,l),0===function Mc(){return Ze.lFrame.elementDepthCount}()&&mr(d,r),function _E(){Ze.lFrame.elementDepthCount++}(),f&&(VI(s,r,l),LI(s,l,r)),null!==i&&BI(r,l),Le}function Fe(){let n=Ri();Oc()?vm():(n=n.parent,Rs(n,!1));const e=n;(function _m(n){return Ze.skipHydrationRootTNode===n})(e)&&function cy(){Ze.skipHydrationRootTNode=null}(),function yE(){Ze.lFrame.elementDepthCount--}();const t=Rt();return t.firstCreatePass&&(Pu(t,n),z_(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Sm(n){return 0!=(8&n.flags)}(e)&&JI(t,e,fe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function xy(n){return 0!=(16&n.flags)}(e)&&JI(t,e,fe(),e.stylesWithoutHost,!1),Fe}function vn(n,e,t,i){return Le(n,e,t,i),Fe(),vn}let yP=(n,e,t,i,r,s)=>(To(!0),Hy(i,r,function vy(){return Ze.lFrame.currentNamespace}()));function mh(){return fe()}function gp(n){return!!n&&"function"==typeof n.then}function wP(n){return!!n&&"function"==typeof n.subscribe}function Kt(n,e,t,i){const r=fe(),s=Rt(),o=Ri();return function IP(n,e,t,i,r,s,o){const a=om(i),d=n.firstCreatePass&&zM(n),f=e[Kn],g=jM(e);let y=!0;if(3&i.type||o){const x=Vi(i,e),T=o?o(x):x,V=g.length,M=o?J=>o(Wt(J[i.index])):i.index;let U=null;if(!o&&a&&(U=function Tq(n,e,t,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===t&&r[s+1]===i){const a=e[ll],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,r,i.index)),null!==U)(U.__ngLastListenerFn__||U).__ngNextListenerFn__=s,U.__ngLastListenerFn__=s,y=!1;else{s=CP(i,e,f,s,!1);const J=t.listen(T,r,s);g.push(s,J),d&&d.push(r,M,V,V+1)}}else s=CP(i,e,f,s,!1);const b=i.outputs;let I;if(y&&null!==b&&(I=b[r])){const x=I.length;if(x)for(let T=0;T<x;T+=2){const ye=e[I[T]][I[T+1]].subscribe(s),Se=g.length;g.push(s,ye),d&&d.push(r,i.index,Se,-(Se+1))}}}(s,r,r[ot],o,n,e,i),Kt}function xP(n,e,t,i){try{return Qr(6,e,t),!1!==t(i)}catch(r){return $M(n,r),!1}finally{Qr(7,e,t)}}function CP(n,e,t,i,r){return function s(o){if(o===Function)return i;ap(n.componentOffset>-1?Rr(n.index,e):e);let l=xP(e,t,i,o),d=s.__ngNextListenerFn__;for(;d;)l=xP(e,t,d,o)&&l,d=d.__ngNextListenerFn__;return r&&!1===l&&o.preventDefault(),l}}function $t(n=1){return function wE(n){return(Ze.lFrame.contextLView=function EE(n,e){for(;n>0;)e=e[wo],n--;return e}(n,Ze.lFrame.contextLView))[Kn]}(n)}function Aq(n,e){let t=null;const i=function hu(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?uu(n,s,!0):Zf(i,s))return r}else t=r}return t}function Vs(n){const e=fe()[Qn][Ei];if(!e.projection){const i=e.projection=ba(n?n.length:1,null),r=i.slice();let s=e.child;for(;null!==s;){const o=n?Aq(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function Qt(n,e=0,t){const i=fe(),r=Rt(),s=rh(r,It+n,16,null,t||null);null===s.projection&&(s.projection=e),vm(),(!i[as]||Co())&&32!=(32&s.flags)&&function x$(n,e,t){MR(e[ot],0,e,t,ZE(n,t,e),TR(t.parent||e[Ei],t,e))}(r,i,s)}function bv(n,e){return n<<17|e<<2}function Tl(n){return n>>17&32767}function ix(n){return 2|n}function Yc(n){return(131068&n)>>2}function rx(n,e){return-131069&n|e<<2}function sx(n){return 1|n}function NP(n,e,t,i,r){const s=n[t+1],o=null===e;let a=i?Tl(s):Yc(s),l=!1;for(;0!==a&&(!1===l||o);){const f=n[a+1];Pq(n[a],e)&&(l=!0,n[a+1]=i?sx(f):ix(f)),a=i?Tl(f):Yc(f)}l&&(n[t+1]=i?ix(s):sx(s))}function Pq(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Il(n,e)>=0}const Mi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function FP(n){return n.substring(Mi.key,Mi.keyEnd)}function LP(n,e){const t=Mi.textEnd;return t===e?-1:(e=Mi.keyEnd=function Lq(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Mi.key=e,t),ph(n,e,t))}function ph(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function wv(n,e,t){return io(n,e,t,!1),wv}function Vn(n,e){return io(n,e,null,!0),Vn}function Mo(n,e){for(let t=function Nq(n){return function BP(n){Mi.key=0,Mi.keyEnd=0,Mi.value=0,Mi.valueEnd=0,Mi.textEnd=n.length}(n),LP(n,ph(n,0,Mi.textEnd))}(e);t>=0;t=LP(e,t))si(n,FP(e),!0)}function io(n,e,t,i){const r=fe(),s=Rt(),o=Ms(2);s.firstUpdatePass&&HP(s,n,o,i),e!==ht&&gr(r,o,e)&&qP(s,s.data[Xi()],r,r[ot],n,r[o+1]=function Qq(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ge(us(n)))),n}(e,t),i,o)}function zP(n,e){return e>=n.expandoStartIndex}function HP(n,e,t,i){const r=n.data;if(null===r[t+1]){const s=r[Xi()],o=zP(n,t);WP(s,i)&&null===e&&!o&&(e=!1),e=function zq(n,e,t,i){const r=function xm(n){const e=Ze.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=_p(t=ox(null,n,e,t,i),e.attrs,i),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==r)if(t=ox(r,n,e,t,i),null===s){let l=function Hq(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==Yc(i))return n[Tl(i)]}(n,e,i);void 0!==l&&Array.isArray(l)&&(l=ox(null,n,e,l[1],i),l=_p(l,e.attrs,i),function $q(n,e,t,i){n[Tl(t?e.classBindings:e.styleBindings)]=i}(n,e,i,l))}else s=function qq(n,e,t){let i;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=_p(i,n[s].hostAttrs,t);return _p(i,e.attrs,t)}(n,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),t}(r,s,e,i),function Rq(n,e,t,i,r,s){let o=s?e.classBindings:e.styleBindings,a=Tl(o),l=Yc(o);n[i]=t;let f,d=!1;if(Array.isArray(t)?(f=t[1],(null===f||Il(t,f)>0)&&(d=!0)):f=t,r)if(0!==l){const y=Tl(n[a+1]);n[i+1]=bv(y,a),0!==y&&(n[y+1]=rx(n[y+1],i)),n[a+1]=function Sq(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=bv(a,0),0!==a&&(n[a+1]=rx(n[a+1],i)),a=i;else n[i+1]=bv(l,0),0===a?a=i:n[l+1]=rx(n[l+1],i),l=i;d&&(n[i+1]=ix(n[i+1])),NP(n,f,i,!0),NP(n,f,i,!1),function Mq(n,e,t,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Il(s,e)>=0&&(t[i+1]=sx(t[i+1]))}(e,f,n,i,s),o=bv(a,l),s?e.classBindings=o:e.styleBindings=o}(r,s,e,t,o,i)}}function ox(n,e,t,i,r){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],i=_p(i,s.hostAttrs,r),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function _p(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),si(n,o,!!t||e[++s]))}return void 0===n?null:n}function qP(n,e,t,i,r,s,o,a){if(!(3&e.type))return;const l=n.data,d=l[a+1],f=function kq(n){return 1==(1&n)}(d)?GP(l,e,t,r,Yc(d),o):void 0;Ev(f)||(Ev(s)||function Dq(n){return 2==(2&n)}(d)&&(s=GP(l,null,t,r,a,o)),function T$(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let s=-1===i.indexOf("-")?void 0:xl.DashCase;null==r?n.removeStyle(t,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=xl.Important),n.setStyle(t,i,r,s))}}(i,o,Cu(Xi(),t),r,s))}function GP(n,e,t,i,r,s){const o=null===e;let a;for(;r>0;){const l=n[r],d=Array.isArray(l),f=d?l[1]:l,g=null===f;let y=t[r+1];y===ht&&(y=g?Et:void 0);let b=g?$u(y,i):f===i?y:void 0;if(d&&!Ev(b)&&(b=$u(l,i)),Ev(b)&&(a=b,o))return a;const I=n[r+1];r=o?Tl(I):Yc(I)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=$u(l,i))}return a}function Ev(n){return void 0!==n}function WP(n,e){return 0!=(n.flags&(e?8:16))}function bn(n,e=""){const t=fe(),i=Rt(),r=n+It,s=i.firstCreatePass?rh(i,r,1,e,null):i.data[r],o=KP(i,t,s,e,n);t[r]=o,Lc()&&Gy(i,t,o,s),Rs(s,!1)}let KP=(n,e,t,i,r)=>(To(!0),function zy(n,e){return n.createText(e)}(e[ot],i));function Xc(n){return Zc("",n,""),Xc}function Zc(n,e,t){const i=fe(),r=oh(i,n,e,t);return r!==ht&&function Aa(n,e,t){const i=Cu(e,n);!function wR(n,e,t){n.setValue(e,t)}(n[ot],i,t)}(i,Xi(),r),Zc}function r1(n,e,t){!function ro(n,e,t,i){const r=Rt(),s=Ms(2);r.firstUpdatePass&&HP(r,null,s,i);const o=fe();if(t!==ht&&gr(o,s,t)){const a=r.data[Xi()];if(WP(a,i)&&!zP(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=Si(l,t||"")),JI(r,a,o,t,i)}else!function Kq(n,e,t,i,r,s,o,a){r===ht&&(r=Et);let l=0,d=0,f=0<r.length?r[0]:null,g=0<s.length?s[0]:null;for(;null!==f||null!==g;){const y=l<r.length?r[l+1]:void 0,b=d<s.length?s[d+1]:void 0;let x,I=null;f===g?(l+=2,d+=2,y!==b&&(I=g,x=b)):null===g||null!==f&&f<g?(l+=2,I=f):(d+=2,I=g,x=b),null!==I&&qP(n,e,t,i,I,x,o,a),f=l<r.length?r[l]:null,g=d<s.length?s[d]:null}}(r,a,o,o[ot],o[s+1],o[s+1]=function Gq(n,e,t){if(null==t||""===t)return Et;const i=[],r=us(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else"string"==typeof r&&e(i,r);return i}(n,e,t),i,s)}}(si,Mo,oh(fe(),n,e,t),!0)}function Iv(n,e,t){const i=fe();return gr(i,fa(),e)&&fs(Rt(),An(),i,n,e,i[ot],t,!0),Iv}const Jc=void 0;var g8=["en",[["a","p"],["AM","PM"],Jc],[["AM","PM"],Jc,Jc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jc,"{1} 'at' {0}",Jc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function p8(n){const t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let gh={};function Mr(n){const e=function _8(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=g1(e);if(t)return t;const i=e.split("-")[0];if(t=g1(i),t)return t;if("en"===i)return g8;throw new re(701,!1)}function g1(n){return n in gh||(gh[n]=nn.ng&&nn.ng.common&&nn.ng.common.locales&&nn.ng.common.locales[n]),gh[n]}var wn=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(wn||{});const _h="en-US";let _1=_h;function cx(n,e,t,i,r){if(n=Xe(n),Array.isArray(n))for(let s=0;s<n.length;s++)cx(n[s],e,t,i,r);else{const s=Rt(),o=fe(),a=Ri();let l=Kc(n)?n:Xe(n.provide);const d=JR(n),f=1048575&a.providerIndexes,g=a.directiveStart,y=a.providerIndexes>>20;if(Kc(n)||!n.multi){const b=new _l(d,r,H),I=ux(l,e,r?f:f+y,g);-1===I?(Mm(Bu(a,o),s,l),dx(s,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(b),o.push(b)):(t[I]=b,o[I]=b)}else{const b=ux(l,e,f+y,g),I=ux(l,e,f,f+y),T=I>=0&&t[I];if(r&&!T||!r&&!(b>=0&&t[b])){Mm(Bu(a,o),s,l);const V=function pG(n,e,t,i,r){const s=new _l(n,t,H);return s.multi=[],s.index=e,s.componentProviders=0,z1(s,r,i&&!t),s}(r?mG:fG,t.length,r,i,d);!r&&T&&(t[I].providerFactory=V),dx(s,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(V),o.push(V)}else dx(s,n,b>-1?b:I,z1(t[r?I:b],d,!r&&i));!r&&i&&T&&t[I].componentProviders++}}}function dx(n,e,t,i){const r=Kc(e),s=function o6(n){return!!n.useClass}(e);if(r||s){const l=(s?Xe(e.useClass):e).prototype.ngOnDestroy;if(l){const d=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const f=d.indexOf(t);-1===f?d.push(t,[i,l]):d[f+1].push(i,l)}else d.push(t,l)}}}function z1(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function ux(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function fG(n,e,t,i){return hx(this.multi,[])}function mG(n,e,t,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=pa(t,t[ke],this.providerFactory.index,i);s=a.slice(0,o),hx(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],hx(r,s);return s}function hx(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function an(n,e=[]){return t=>{t.providersResolver=(i,r)=>function hG(n,e,t){const i=Rt();if(i.firstCreatePass){const r=kr(n);cx(t,i.data,i.blueprint,r,!0),cx(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class ed{}class H1{}class fx extends ed{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new XM(this);const r=Ki(e);this._bootstrapComponents=Ta(r.bootstrap),this._r3Injector=uM(e,t,[{provide:ed,useValue:this},{provide:sp,useValue:this.componentFactoryResolver},...i],Ge(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class mx extends H1{constructor(e){super(),this.moduleType=e}create(e){return new fx(this.moduleType,e,[])}}class $1 extends ed{constructor(e){super(),this.componentFactoryResolver=new XM(this),this.instance=null;const t=new Xu([...e.providers,{provide:ed,useValue:this},{provide:sp,useValue:this.componentFactoryResolver}],e.parent||ev(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function px(n,e,t=null){return new $1({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let yG=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=QR(0,t.type),r=i.length>0?px([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=be({token:n,providedIn:"environment",factory:()=>new n(Q(hs))})}}return n})();function q1(n){n.getStandaloneInjector=e=>e.get(yG).getOrCreateStandaloneInjector(n)}function J1(n,e,t,i,r,s,o){const a=e+t;return function Qc(n,e,t,i){const r=gr(n,e,t);return gr(n,e+1,i)||r}(n,a,r,s)?function ko(n,e,t){return n[e]=t}(n,a+2,o?i.call(o,r,s):i(r,s)):function Ip(n,e){const t=n[e];return t===ht?void 0:t}(n,a+2)}function rO(n,e,t,i){const r=n+It,s=fe(),o=xo(s,r);return function xp(n,e){return n[ke].data[e].pure}(s,r)?J1(s,function Bi(){const n=Ze.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),e,o.transform,t,i,o):o.transform(t,i)}function zG(){return this._results[Symbol.iterator]()}class Cp{get changes(){return this._changes||(this._changes=new At)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Cp.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=zG)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=function yn(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function BE(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function $G(n,e,t,i=!0){const r=e[ke];if(function y$(n,e,t,i){const r=ki+i,s=t.length;i>0&&(t[r-1][Sr]=e),i<s-ki?(e[Sr]=t[r],Bm(t,ki+i,e)):(t.push(e),e[Sr]=null),e[gn]=t;const o=e[aa];null!==o&&t!==o&&function v$(n,e){const t=n[ca];e[Qn]!==e[gn][gn][Qn]&&(n[yu]=!0),null===t?n[ca]=[e]:t.push(e)}(o,e);const a=e[Wr];null!==a&&a.insertView(n),e[st]|=128}(r,e,n,t),i){const s=eI(t,n),o=e[ot],a=qy(o,n[Ss]);null!==a&&function p$(n,e,t,i,r,s){i[pn]=r,i[Ei]=e,Jm(n,i,t,1,r,s)}(r,n[Ei],o,e,a,s)}}let Po=(()=>{class n{static{this.__NG_ELEMENT_ID__=WG}}return n})();const qG=Po,GG=class extends qG{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const r=function HG(n,e,t,i){const r=e.tView,a=dv(n,r,t,4096&n[st]?4096:16,null,e,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[aa]=n[e.index];const d=n[Wr];return null!==d&&(a[Wr]=d.createEmbeddedView(r)),GI(r,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:i});return new dp(r)}};function WG(){return Dv(Ri(),fe())}function Dv(n,e){return 4&n.type?new GG(e,n,th(n,e)):null}let Bs=(()=>{class n{static{this.__NG_ELEMENT_ID__=JG}}return n})();function JG(){return uO(Ri(),fe())}const e9=Bs,cO=class extends e9{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return th(this._hostTNode,this._hostLView)}get injector(){return new Zi(this._hostTNode,this._hostLView)}get parentInjector(){const e=yl(this._hostTNode,this._hostLView);if(Lu(e)){const t=Uc(e,this._hostLView),i=Bc(e);return new Zi(t[ke].data[i+8],t)}return new Zi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=dO(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-ki}createEmbeddedView(e,t,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const a=e.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(a,r,false),a}createComponent(e,t,i,r,s){const o=e&&!function va(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const x=t||{};a=x.index,i=x.injector,r=x.projectableNodes,s=x.environmentInjector||x.ngModuleRef}const l=o?e:new up(Tt(e)),d=i||this.parentInjector;if(!s&&null==l.ngModule){const T=(o?d:this.parentInjector).get(hs,null);T&&(s=T)}Tt(l.componentType??{});const b=l.create(d,r,null,s);return this.insertImpl(b.hostView,a,false),b}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,i){const r=e._lView;if(function gm(n){return Qi(n[gn])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[gn],f=new cO(d,d[Ei],d[gn]);f.detach(f.indexOf(e))}}const o=this._adjustIndex(t),a=this._lContainer;return $G(a,r,o,!i),e.attachToViewContainerRef(),Bm(_x(a),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=dO(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=$y(this._lContainer,t);i&&(Hu(_x(this._lContainer),t),YE(i[ke],i))}detach(e){const t=this._adjustIndex(e,-1),i=$y(this._lContainer,t);return i&&null!=Hu(_x(this._lContainer),t)?new dp(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function dO(n){return n[8]}function _x(n){return n[8]||(n[8]=[])}function uO(n,e){let t;const i=e[n.index];return Qi(i)?t=i:(t=BM(i,e,null,n),e[n.index]=t,uv(e,t)),hO(t,e,n,i),new cO(t,n,e)}let hO=function fO(n,e,t,i){if(n[Ss])return;let r;r=8&t.type?Wt(i):function t9(n,e){const t=n[ot],i=t.createComment(""),r=Vi(e,n);return Gc(t,qy(t,r),i,function I$(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[Ss]=r};class yx{constructor(e){this.queryList=e,this.matches=null}clone(){return new yx(this.queryList)}setDirty(){this.queryList.setDirty()}}class vx{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){const o=t.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new vx(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==yO(e,t).matches&&this.queries[t].setDirty()}}class mO{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class bx{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,null!==t?t.push(s):t=[s])}return null!==t?new bx(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class wx{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new wx(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(e,t,r9(t,s)),this.matchTNodeWithReadOption(e,t,zu(t,e,s,!1,!1))}else i===Po?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,zu(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Ht||r===Bs||r===Po&&4&t.type)this.addMatch(t.index,-2);else{const s=zu(t,e,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function r9(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function o9(n,e,t,i){return-1===t?function s9(n,e){return 11&n.type?th(n,e):4&n.type?Dv(n,e):null}(e,n):-2===t?function a9(n,e,t){return t===Ht?th(e,n):t===Po?Dv(e,n):t===Bs?uO(e,n):void 0}(n,e,i):pa(n,n[ke],t,e)}function pO(n,e,t,i){const r=e[Wr].queries[i];if(null===r.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const d=o[l];a.push(d<0?null:o9(e,s[d],o[l+1],t.metadata.read))}r.matches=a}return r.matches}function Ex(n,e,t,i){const r=n.queries.getByIndex(t),s=r.matches;if(null!==s){const o=pO(n,e,r,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const d=s[a+1],f=e[-l];for(let g=ki;g<f.length;g++){const y=f[g];y[aa]===y[gn]&&Ex(y[ke],y,d,i)}if(null!==f[ca]){const g=f[ca];for(let y=0;y<g.length;y++){const b=g[y];Ex(b[ke],b,d,i)}}}}}return i}function Yt(n){const e=fe(),t=Rt(),i=my();Nc(i+1);const r=yO(t,i);if(n.dirty&&function fE(n){return 4==(4&n[st])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?Ex(t,e,i,[]):pO(t,e,r,i);n.reset(s,A6),n.notifyOnChanges()}return!0}return!1}function Zr(n,e,t){const i=Rt();i.firstCreatePass&&(_O(i,new mO(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),gO(i,fe(),e)}function ji(n,e,t,i){const r=Rt();if(r.firstCreatePass){const s=Ri();_O(r,new mO(e,t,i),s.index),function c9(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}gO(r,fe(),t)}function Xt(){return function l9(n,e){return n[Wr].queries[e].queryList}(fe(),my())}function gO(n,e,t){const i=new Cp(4==(4&t));(function o5(n,e,t,i){const r=jM(e);r.push(t),n.firstCreatePass&&zM(n).push(i,r.length-1)})(n,e,i,i.destroy),null===e[Wr]&&(e[Wr]=new vx),e[Wr].queries.push(new yx(i))}function _O(n,e,t){null===n.queries&&(n.queries=new bx),n.queries.track(new wx(e,t))}function yO(n,e){return n.queries.getByIndex(e)}function td(n,e){return Dv(n,e)}const Dx=new de("Application Initializer");let Sx=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=Ee(Dx,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const s=r();if(gp(s))t.push(s);else if(wP(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),NO=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const Oo=new de("LocaleId",{providedIn:"root",factory:()=>Ee(Oo,_t.Optional|_t.SkipSelf)||function k9(){return typeof $localize<"u"&&$localize.locale||_h}()});let Rv=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new L(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class P9{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let FO=(()=>{class n{compileModuleSync(t){return new mx(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),s=Ta(Ki(t).declarations).reduce((o,a)=>{const l=Tt(a);return l&&o.push(new up(l)),o},[]);return new P9(i,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const UO=new de(""),Pv=new de("");let Ox,Mx=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ox||(function tW(n){Ox=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static{this.\u0275fac=function(i){return new(i||n)(Q(Qe),Q(Px),Q(Pv))}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac})}}return n})(),Px=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return Ox?.findTestabilityInTree(this,t,i)??null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),Al=null;const jO=new de("AllowMultipleToken"),Nx=new de("PlatformDestroyListeners"),Fx=new de("appBootstrapListener");class HO{constructor(e,t){this.name=e,this.token=t}}function qO(n,e,t=[]){const i=`Platform: ${e}`,r=new de(i);return(s=[])=>{let o=Lx();if(!o||o.injector.get(jO,!1)){const a=[...t,...s,{provide:r,useValue:!0}];n?n(a):function rW(n){if(Al&&!Al.get(jO,!1))throw new re(400,!1);(function zO(){!function nE(n){fm=n}(()=>{throw new re(600,!1)})})(),Al=n;const e=n.get(WO);(function $O(n){n.get(eM,null)?.forEach(t=>t())})(n)}(function GO(n=[],e){return pr.create({name:e,providers:[{provide:fI,useValue:"platform"},{provide:Nx,useValue:new Set([()=>Al=null])},...n]})}(a,i))}return function oW(n){const e=Lx();if(!e)throw new re(401,!1);return e}()}}function Lx(){return Al?.get(WO)??null}let WO=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function aW(n="zone.js",e){return"noop"===n?new z6:"zone.js"===n?new Qe(e):n}(i?.ngZone,function KO(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const s=function _G(n,e,t){return new fx(n,e,t)}(t.moduleType,this.injector,function JO(n){return[{provide:Qe,useFactory:n},{provide:np,multi:!0,useFactory:()=>{const e=Ee(cW,{optional:!0});return()=>e.initialize()}},{provide:ZO,useFactory:lW},{provide:gM,useFactory:_M}]}(()=>r)),o=s.injector.get(Ns,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{Ov(this._modules,s),a.unsubscribe()})}),function QO(n,e,t){try{const i=t();return gp(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(o,r,()=>{const a=s.injector.get(Sx);return a.runInitializers(),a.donePromise.then(()=>(function y1(n){Gr(n,"Expected localeId to be defined"),"string"==typeof n&&(_1=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Oo,_h)||_h),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,i=[]){const r=YO({},i);return function nW(n,e,t){const i=new mx(t);return Promise.resolve(i)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(t){const i=t.injector.get(Dl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new re(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new re(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(Nx,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(i){return new(i||n)(Q(pr))}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function YO(n,e){return Array.isArray(e)?e.reduce(YO,n):{...n,...e}}let Dl=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ee(ZO),this.zoneIsStable=Ee(gM),this.componentTypes=[],this.components=[],this.isStable=Ee(Rv).hasPendingTasks.pipe(Te(t=>t?z(!1):this.zoneIsStable),rn(),Y()),this._injector=Ee(hs)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof rM;if(!this._injector.get(Sx).done)throw!r&&function bo(n){const e=Tt(n)||fi(n)||wi(n);return null!==e&&e.standalone}(t),new re(405,!1);let o;o=r?t:this._injector.get(sp).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function iW(n){return n.isBoundToModule}(o)?void 0:this._injector.get(ed),d=o.create(pr.NULL,[],i||o.selector,a),f=d.location.nativeElement,g=d.injector.get(UO,null);return g?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),Ov(this.components,d),g?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){if(this._runningTick)throw new re(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;Ov(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(Fx,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Ov(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new re(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Ov(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const ZO=new de("",{providedIn:"root",factory:()=>Ee(Ns).handleError.bind(void 0)});function lW(){const n=Ee(Qe),e=Ee(Ns);return t=>n.runOutsideAngular(()=>e.handleError(t))}let cW=(()=>{class n{constructor(){this.zone=Ee(Qe),this.applicationRef=Ee(Dl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();let Da=(()=>{class n{static{this.__NG_ELEMENT_ID__=uW}}return n})();function uW(n){return function hW(n,e,t){if(ul(n)&&!t){const i=Rr(n.index,e);return new dp(i,i)}return 47&n.type?new dp(e[Qn],e):null}(Ri(),fe(),16==(16&n))}class sN{constructor(){}supports(e){return pv(e)}create(e){return new _W(e)}}const gW=(n,e)=>e;class _W{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||gW}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){const o=!i||t&&t.currentIndex<aN(i,r,s)?t:i,a=aN(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{s||(s=[]);const d=a-r,f=l-r;if(d!=f){for(let y=0;y<d;y++){const b=y<s.length?s[y]:s[y]=0,I=b+y;f<=I&&I<d&&(s[y]=b+1)}s[o.previousIndex]=f-d}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!pv(e))throw new re(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,s,o,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),i=!0),t=t._next}else r=0,function Z5(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{o=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,a,o,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new yW(t,i),s,r),e}_verifyReinsertion(e,t,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,s=e._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new oN),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new oN),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class yW{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vW{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class oN{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new vW,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function aN(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class lN{constructor(){}supports(e){return e instanceof Map||WI(e)}create(){return new bW}}class bW{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||WI(e)))throw new re(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new wW(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class wW{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function cN(){return new Lv([new sN])}let Lv=(()=>{class n{static{this.\u0275prov=be({token:n,providedIn:"root",factory:cN})}constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||cN()),deps:[[n,new qc,new Ao]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new re(901,!1)}}return n})();function dN(){return new Dp([new lN])}let Dp=(()=>{class n{static{this.\u0275prov=be({token:n,providedIn:"root",factory:dN})}constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||dN()),deps:[[n,new qc,new Ao]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new re(901,!1)}}return n})();const xW=qO(null,"core",[]);let CW=(()=>{class n{constructor(t){}static{this.\u0275fac=function(i){return new(i||n)(Q(Dl))}}static{this.\u0275mod=kt({type:n})}static{this.\u0275inj=wt({})}}return n})(),Hx=null;function Sl(){return Hx}class BW{}const Mt=new de("DocumentToken");let $x=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=be({token:n,factory:function(){return Ee(jW)},providedIn:"platform"})}}return n})();const UW=new de("Location Initialized");let jW=(()=>{class n extends $x{constructor(){super(),this._doc=Ee(Mt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Sl().getBaseHref(this._doc)}onPopState(t){const i=Sl().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Sl().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=be({token:n,factory:function(){return new n},providedIn:"platform"})}}return n})();function qx(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function vN(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Sa(n){return n&&"?"!==n[0]?"?"+n:n}let id=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=be({token:n,factory:function(){return Ee(wN)},providedIn:"root"})}}return n})();const bN=new de("appBaseHref");let wN=(()=>{class n extends id{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Ee(Mt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return qx(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Sa(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const o=this.prepareExternalUrl(r+Sa(s));this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){const o=this.prepareExternalUrl(r+Sa(s));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(Q($x),Q(bN,8))}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),zW=(()=>{class n extends id{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=qx(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+Sa(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+Sa(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(Q($x),Q(bN,8))}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac})}}return n})(),Bv=(()=>{class n{constructor(t){this._subject=new At,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function qW(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(vN(EN(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Sa(i))}normalize(t){return n.stripTrailingSlash(function $W(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,EN(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Sa(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Sa(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static{this.normalizeQueryParams=Sa}static{this.joinWithSlash=qx}static{this.stripTrailingSlash=vN}static{this.\u0275fac=function(i){return new(i||n)(Q(id))}}static{this.\u0275prov=be({token:n,factory:function(){return function HW(){return new Bv(Q(id))}()},providedIn:"root"})}}return n})();function EN(n){return n.replace(/\/index.html$/,"")}var Or=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Or||{}),dn=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(dn||{}),ms=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(ms||{}),mi=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(mi||{});function jv(n,e){return js(Mr(n)[wn.DateFormat],e)}function zv(n,e){return js(Mr(n)[wn.TimeFormat],e)}function Hv(n,e){return js(Mr(n)[wn.DateTimeFormat],e)}function Us(n,e){const t=Mr(n),i=t[wn.NumberSymbols][e];if(typeof i>"u"){if(e===mi.CurrencyDecimal)return t[wn.NumberSymbols][mi.Decimal];if(e===mi.CurrencyGroup)return t[wn.NumberSymbols][mi.Group]}return i}function xN(n){if(!n[wn.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[wn.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function js(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Wx(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const sK=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Sp={},oK=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ka=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(ka||{}),Zt=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Zt||{}),Jt=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Jt||{});function aK(n,e,t,i){let r=function gK(n){if(AN(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,o=1]=n.split("-").map(a=>+a);return $v(r,s-1,o)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(sK))return function _K(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-t,a=Number(n[5]||0)-i,l=Number(n[6]||0),d=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,o,a,l,d),e}(i)}const e=new Date(n);if(!AN(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Ra(t,e)||e;let a,o=[];for(;e;){if(a=oK.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const f=o.pop();if(!f)break;e=f}}let l=r.getTimezoneOffset();i&&(l=TN(i,l),r=function pK(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function mK(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(TN(e,r)-r))}(r,i,!0));let d="";return o.forEach(f=>{const g=function fK(n){if(Qx[n])return Qx[n];let e;switch(n){case"G":case"GG":case"GGG":e=En(Jt.Eras,dn.Abbreviated);break;case"GGGG":e=En(Jt.Eras,dn.Wide);break;case"GGGGG":e=En(Jt.Eras,dn.Narrow);break;case"y":e=Ii(Zt.FullYear,1,0,!1,!0);break;case"yy":e=Ii(Zt.FullYear,2,0,!0,!0);break;case"yyy":e=Ii(Zt.FullYear,3,0,!1,!0);break;case"yyyy":e=Ii(Zt.FullYear,4,0,!1,!0);break;case"Y":e=Kv(1);break;case"YY":e=Kv(2,!0);break;case"YYY":e=Kv(3);break;case"YYYY":e=Kv(4);break;case"M":case"L":e=Ii(Zt.Month,1,1);break;case"MM":case"LL":e=Ii(Zt.Month,2,1);break;case"MMM":e=En(Jt.Months,dn.Abbreviated);break;case"MMMM":e=En(Jt.Months,dn.Wide);break;case"MMMMM":e=En(Jt.Months,dn.Narrow);break;case"LLL":e=En(Jt.Months,dn.Abbreviated,Or.Standalone);break;case"LLLL":e=En(Jt.Months,dn.Wide,Or.Standalone);break;case"LLLLL":e=En(Jt.Months,dn.Narrow,Or.Standalone);break;case"w":e=Kx(1);break;case"ww":e=Kx(2);break;case"W":e=Kx(1,!0);break;case"d":e=Ii(Zt.Date,1);break;case"dd":e=Ii(Zt.Date,2);break;case"c":case"cc":e=Ii(Zt.Day,1);break;case"ccc":e=En(Jt.Days,dn.Abbreviated,Or.Standalone);break;case"cccc":e=En(Jt.Days,dn.Wide,Or.Standalone);break;case"ccccc":e=En(Jt.Days,dn.Narrow,Or.Standalone);break;case"cccccc":e=En(Jt.Days,dn.Short,Or.Standalone);break;case"E":case"EE":case"EEE":e=En(Jt.Days,dn.Abbreviated);break;case"EEEE":e=En(Jt.Days,dn.Wide);break;case"EEEEE":e=En(Jt.Days,dn.Narrow);break;case"EEEEEE":e=En(Jt.Days,dn.Short);break;case"a":case"aa":case"aaa":e=En(Jt.DayPeriods,dn.Abbreviated);break;case"aaaa":e=En(Jt.DayPeriods,dn.Wide);break;case"aaaaa":e=En(Jt.DayPeriods,dn.Narrow);break;case"b":case"bb":case"bbb":e=En(Jt.DayPeriods,dn.Abbreviated,Or.Standalone,!0);break;case"bbbb":e=En(Jt.DayPeriods,dn.Wide,Or.Standalone,!0);break;case"bbbbb":e=En(Jt.DayPeriods,dn.Narrow,Or.Standalone,!0);break;case"B":case"BB":case"BBB":e=En(Jt.DayPeriods,dn.Abbreviated,Or.Format,!0);break;case"BBBB":e=En(Jt.DayPeriods,dn.Wide,Or.Format,!0);break;case"BBBBB":e=En(Jt.DayPeriods,dn.Narrow,Or.Format,!0);break;case"h":e=Ii(Zt.Hours,1,-12);break;case"hh":e=Ii(Zt.Hours,2,-12);break;case"H":e=Ii(Zt.Hours,1);break;case"HH":e=Ii(Zt.Hours,2);break;case"m":e=Ii(Zt.Minutes,1);break;case"mm":e=Ii(Zt.Minutes,2);break;case"s":e=Ii(Zt.Seconds,1);break;case"ss":e=Ii(Zt.Seconds,2);break;case"S":e=Ii(Zt.FractionalSeconds,1);break;case"SS":e=Ii(Zt.FractionalSeconds,2);break;case"SSS":e=Ii(Zt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Gv(ka.Short);break;case"ZZZZZ":e=Gv(ka.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Gv(ka.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Gv(ka.Long);break;default:return null}return Qx[n]=e,e}(f);d+=g?g(r,t,l):"''"===f?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function $v(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function Ra(n,e){const t=function WW(n){return Mr(n)[wn.LocaleId]}(n);if(Sp[t]=Sp[t]||{},Sp[t][e])return Sp[t][e];let i="";switch(e){case"shortDate":i=jv(n,ms.Short);break;case"mediumDate":i=jv(n,ms.Medium);break;case"longDate":i=jv(n,ms.Long);break;case"fullDate":i=jv(n,ms.Full);break;case"shortTime":i=zv(n,ms.Short);break;case"mediumTime":i=zv(n,ms.Medium);break;case"longTime":i=zv(n,ms.Long);break;case"fullTime":i=zv(n,ms.Full);break;case"short":const r=Ra(n,"shortTime"),s=Ra(n,"shortDate");i=qv(Hv(n,ms.Short),[r,s]);break;case"medium":const o=Ra(n,"mediumTime"),a=Ra(n,"mediumDate");i=qv(Hv(n,ms.Medium),[o,a]);break;case"long":const l=Ra(n,"longTime"),d=Ra(n,"longDate");i=qv(Hv(n,ms.Long),[l,d]);break;case"full":const f=Ra(n,"fullTime"),g=Ra(n,"fullDate");i=qv(Hv(n,ms.Full),[f,g])}return i&&(Sp[t][e]=i),i}function qv(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function so(n,e,t="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return i&&(o=o.slice(o.length-e)),s+o}function Ii(n,e,t=0,i=!1,r=!1){return function(s,o){let a=function cK(n,e){switch(n){case Zt.FullYear:return e.getFullYear();case Zt.Month:return e.getMonth();case Zt.Date:return e.getDate();case Zt.Hours:return e.getHours();case Zt.Minutes:return e.getMinutes();case Zt.Seconds:return e.getSeconds();case Zt.FractionalSeconds:return e.getMilliseconds();case Zt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||a>-t)&&(a+=t),n===Zt.Hours)0===a&&-12===t&&(a=12);else if(n===Zt.FractionalSeconds)return function lK(n,e){return so(n,3).substring(0,e)}(a,e);const l=Us(o,mi.MinusSign);return so(a,e,l,i,r)}}function En(n,e,t=Or.Format,i=!1){return function(r,s){return function dK(n,e,t,i,r,s){switch(t){case Jt.Months:return function YW(n,e,t){const i=Mr(n),s=js([i[wn.MonthsFormat],i[wn.MonthsStandalone]],e);return js(s,t)}(e,r,i)[n.getMonth()];case Jt.Days:return function QW(n,e,t){const i=Mr(n),s=js([i[wn.DaysFormat],i[wn.DaysStandalone]],e);return js(s,t)}(e,r,i)[n.getDay()];case Jt.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const d=function eK(n){const e=Mr(n);return xN(e),(e[wn.ExtraData][2]||[]).map(i=>"string"==typeof i?Wx(i):[Wx(i[0]),Wx(i[1])])}(e),f=function tK(n,e,t){const i=Mr(n);xN(i);const s=js([i[wn.ExtraData][0],i[wn.ExtraData][1]],e)||[];return js(s,t)||[]}(e,r,i),g=d.findIndex(y=>{if(Array.isArray(y)){const[b,I]=y,x=o>=b.hours&&a>=b.minutes,T=o<I.hours||o===I.hours&&a<I.minutes;if(b.hours<I.hours){if(x&&T)return!0}else if(x||T)return!0}else if(y.hours===o&&y.minutes===a)return!0;return!1});if(-1!==g)return f[g]}return function KW(n,e,t){const i=Mr(n),s=js([i[wn.DayPeriodsFormat],i[wn.DayPeriodsStandalone]],e);return js(s,t)}(e,r,i)[o<12?0:1];case Jt.Eras:return function XW(n,e){return js(Mr(n)[wn.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,s,n,e,t,i)}}function Gv(n){return function(e,t,i){const r=-1*i,s=Us(t,mi.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case ka.Short:return(r>=0?"+":"")+so(o,2,s)+so(Math.abs(r%60),2,s);case ka.ShortGMT:return"GMT"+(r>=0?"+":"")+so(o,1,s);case ka.Long:return"GMT"+(r>=0?"+":"")+so(o,2,s)+":"+so(Math.abs(r%60),2,s);case ka.Extended:return 0===i?"Z":(r>=0?"+":"")+so(o,2,s)+":"+so(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const uK=0,Wv=4;function CN(n){return $v(n.getFullYear(),n.getMonth(),n.getDate()+(Wv-n.getDay()))}function Kx(n,e=!1){return function(t,i){let r;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();r=1+Math.floor((o+s)/7)}else{const s=CN(t),o=function hK(n){const e=$v(n,uK,1).getDay();return $v(n,0,1+(e<=Wv?Wv:Wv+7)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return so(r,n,Us(i,mi.MinusSign))}}function Kv(n,e=!1){return function(t,i){return so(CN(t).getFullYear(),n,Us(i,mi.MinusSign),e)}}const Qx={};function TN(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function AN(n){return n instanceof Date&&!isNaN(n.valueOf())}function RN(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}const tC=/\s+/,MN=[];let PN=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=MN,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(tC):MN}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(tC):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(tC).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||n)(H(Lv),H(Dp),H(Ht),H(Ca))}}static{this.\u0275dir=xe({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();class kK{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let nC=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new kK(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),NN(a,r)}});for(let r=0,s=i.length;r<s;r++){const a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{NN(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(H(Bs),H(Po),H(Lv))}}static{this.\u0275dir=xe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function NN(n,e){n.context.$implicit=e.item}let Eh=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new RK,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){FN("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){FN("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(H(Bs),H(Po))}}static{this.\u0275dir=xe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class RK{constructor(){this.$implicit=null,this.ngIf=null}}function FN(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ge(e)}'.`)}class iC{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Rp=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const i of this._defaultViews)i.enforceState(t)}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=xe({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return n})(),rC=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new iC(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(i){return new(i||n)(H(Bs),H(Po),H(Rp,9))}}static{this.\u0275dir=xe({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return n})(),LN=(()=>{class n{constructor(t,i,r){r._addDefault(new iC(t,i))}static{this.\u0275fac=function(i){return new(i||n)(H(Bs),H(Po),H(Rp,9))}}static{this.\u0275dir=xe({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return n})(),sC=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=i.createEmbeddedView(r,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static{this.\u0275fac=function(i){return new(i||n)(H(Bs))}}static{this.\u0275dir=xe({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Yi]})}}return n})();const $K=new de("DATE_PIPE_DEFAULT_TIMEZONE"),qK=new de("DATE_PIPE_DEFAULT_OPTIONS");let BN=(()=>{class n{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,s){if(null==t||""===t||t!=t)return null;try{return aK(t,i??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw function oo(n,e){return new re(2100,!1)}()}}static{this.\u0275fac=function(i){return new(i||n)(H(Oo,16),H($K,24),H(qK,24))}}static{this.\u0275pipe=bi({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),rd=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=kt({type:n})}static{this.\u0275inj=wt({})}}return n})();const jN="browser";function Yv(n){return"server"===n}let s7=(()=>{class n{static{this.\u0275prov=be({token:n,providedIn:"root",factory:()=>new o7(Q(Mt),window)})}}return n})();class o7{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function a7(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class zN{}class k7 extends BW{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class dC extends k7{static makeCurrent(){!function VW(n){Hx||(Hx=n)}(new dC)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function R7(){return Pp=Pp||document.querySelector("base"),Pp?Pp.getAttribute("href"):null}();return null==t?null:function M7(n){Jv=Jv||document.createElement("a"),Jv.setAttribute("href",n);const e=Jv.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Pp=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return RN(document.cookie,e)}}let Jv,Pp=null,O7=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac})}}return n})();const uC=new de("EventManagerPlugins");let WN=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(s=>s.supports(t)),!i)throw new re(5101,!1);return this._eventNameToPlugin.set(t,i),i}static{this.\u0275fac=function(i){return new(i||n)(Q(uC),Q(Qe))}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac})}}return n})();class KN{constructor(e){this._doc=e}}const hC="ng-app-id";let QN=(()=>{class n{constructor(t,i,r,s={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Yv(s),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${hC}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const s=r.get(t);return s.usage+=i,s.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===t)return r.delete(i),s.removeAttribute(hC),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(hC,this.appId),o}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(Q(Mt),Q(tv),Q(_I,8),Q(Os))}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac})}}return n})();const fC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},mC=/%COMP%/g,V7=new de("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function XN(n,e){return e.map(t=>t.replace(mC,n))}let pC=(()=>{class n{constructor(t,i,r,s,o,a,l,d=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Yv(a),this.defaultRenderer=new gC(t,o,l,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===ii.ShadowDom&&(i={...i,encapsulation:ii.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof JN?r.applyToHost(t):r instanceof _C&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(i.encapsulation){case ii.Emulated:s=new JN(l,d,i,this.appId,f,o,a,g);break;case ii.ShadowDom:return new z7(l,d,t,i,o,a,this.nonce,g);default:s=new _C(l,d,i,f,o,a,g)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(Q(WN),Q(QN),Q(tv),Q(V7),Q(Mt),Q(Os),Q(Qe),Q(_I))}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac})}}return n})();class gC{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(fC[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(ZN(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(ZN(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new re(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=fC[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=fC[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(xl.DashCase|xl.Important)?e.style.setProperty(t,i,r&xl.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&xl.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=Sl().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function ZN(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class z7 extends gC{constructor(e,t,i,r,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=XN(r.id,r.styles);for(const f of d){const g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=f,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class _C extends gC{constructor(e,t,i,r,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?XN(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class JN extends _C{constructor(e,t,i,r,s,o,a,l){const d=r+"-"+i.id;super(e,t,i,s,o,a,l,d),this.contentAttr=function B7(n){return"_ngcontent-%COMP%".replace(mC,n)}(d),this.hostAttr=function U7(n){return"_nghost-%COMP%".replace(mC,n)}(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let H7=(()=>{class n extends KN{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(Q(Mt))}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac})}}return n})();const eF=["alt","control","meta","shift"],$7={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},q7={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let G7=(()=>{class n extends KN{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Sl().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),eF.forEach(d=>{const f=i.indexOf(d);f>-1&&(i.splice(f,1),o+=d+".")}),o+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(t,i){let r=$7[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),eF.forEach(o=>{o!==r&&(0,q7[o])(t)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(i){return new(i||n)(Q(Mt))}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac})}}return n})();const Y7=qO(xW,"browser",[{provide:Os,useValue:jN},{provide:eM,useValue:function W7(){dC.makeCurrent()},multi:!0},{provide:Mt,useFactory:function Q7(){return function R$(n){iI=n}(document),document},deps:[]}]),X7=new de(""),iF=[{provide:Pv,useClass:class P7{addToWindow(e){nn.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new re(5103,!1);return s},nn.getAllAngularTestabilities=()=>e.getAllTestabilities(),nn.getAllAngularRootElements=()=>e.getAllRootElements(),nn.frameworkStabilizers||(nn.frameworkStabilizers=[]),nn.frameworkStabilizers.push(i=>{const r=nn.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Sl().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:UO,useClass:Mx,deps:[Qe,Px,Pv]},{provide:Mx,useClass:Mx,deps:[Qe,Px,Pv]}],rF=[{provide:fI,useValue:"root"},{provide:Ns,useFactory:function K7(){return new Ns},deps:[]},{provide:uC,useClass:H7,multi:!0,deps:[Mt,Qe,Os]},{provide:uC,useClass:G7,multi:!0,deps:[Mt]},pC,QN,WN,{provide:op,useExisting:pC},{provide:zN,useClass:O7,deps:[]},[]];let sF=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:tv,useValue:t.appId}]}}static{this.\u0275fac=function(i){return new(i||n)(Q(X7,12))}}static{this.\u0275mod=kt({type:n})}static{this.\u0275inj=wt({providers:[...rF,...iF],imports:[rd,CW]})}}return n})(),oF=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(i){return new(i||n)(Q(Mt))}}static{this.\u0275prov=be({token:n,factory:function(i){let r=null;return r=i?new i:function J7(){return new oF(Q(Mt))}(),r},providedIn:"root"})}}return n})();typeof window<"u"&&window;let vC=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=be({token:n,factory:function(i){let r=null;return r=i?new(i||n):Q(cF),r},providedIn:"root"})}}return n})(),cF=(()=>{class n extends vC{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case Ji.NONE:return i;case Ji.HTML:return Do(i,"HTML")?us(i):$R(this._doc,String(i)).toString();case Ji.STYLE:return Do(i,"Style")?us(i):i;case Ji.SCRIPT:if(Do(i,"Script"))return us(i);throw new re(5200,!1);case Ji.URL:return Do(i,"URL")?us(i):Yy(String(i));case Ji.RESOURCE_URL:if(Do(i,"ResourceURL"))return us(i);throw new re(5201,!1);default:throw new re(5202,!1)}}bypassSecurityTrustHtml(t){return function V$(n){return new M$(n)}(t)}bypassSecurityTrustStyle(t){return function B$(n){return new P$(n)}(t)}bypassSecurityTrustScript(t){return function U$(n){return new O$(n)}(t)}bypassSecurityTrustUrl(t){return function j$(n){return new N$(n)}(t)}bypassSecurityTrustResourceUrl(t){return function z$(n){return new F$(n)}(t)}static{this.\u0275fac=function(i){return new(i||n)(Q(Mt))}}static{this.\u0275prov=be({token:n,factory:function(i){let r=null;return r=i?new i:function iQ(n){return new cF(n.get(Mt))}(Q(pr)),r},providedIn:"root"})}}return n})();const{isArray:rQ}=Array,{getPrototypeOf:sQ,prototype:oQ,keys:aQ}=Object;function hF(n){if(1===n.length){const e=n[0];if(rQ(e))return{args:e,keys:null};if(function lQ(n){return n&&"object"==typeof n&&sQ(n)===oQ}(e)){const t=aQ(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:cQ}=Array;function bC(n){return he(e=>function dQ(n,e){return cQ(e)?n(...e):n(e)}(n,e))}function fF(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function eb(...n){const e=go(n),t=na(n),{args:i,keys:r}=hF(n);if(0===i.length)return S([],e);const s=new rt(function uQ(n,e,t=cn){return i=>{mF(e,()=>{const{length:r}=n,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)mF(e,()=>{const d=S(n[l],e);let f=!1;d.subscribe(te(i,g=>{s[l]=g,f||(f=!0,a--),a||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,e,r?o=>fF(r,o):cn));return t?s.pipe(bC(t)):s}function mF(n,e,t){n?ti(t,n,e):e()}const tb=Je(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function nb(...n){return function hQ(){return xs(1)}()(S(n,go(n)))}function wC(n){return new rt(e=>{ei(n()).subscribe(e)})}function Ih(n,e){const t=A(n)?n:()=>n,i=r=>r.error(t());return new rt(e?r=>e.schedule(i,0,r):i)}function EC(){return q((n,e)=>{let t=null;n._refCount++;const i=te(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class pF extends rt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,le(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ct;const t=this.getSubject();e.add(this.source.subscribe(te(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ct.EMPTY)}return e}refCount(){return EC()(this)}}function zs(n){return n<=0?()=>qn:q((e,t)=>{let i=0;e.subscribe(te(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function sd(...n){const e=go(n);return q((t,i)=>{(e?nb(n,t,e):nb(n,t)).subscribe(i)})}function Pi(n,e){return q((t,i)=>{let r=0;t.subscribe(te(i,s=>n.call(e,s,r++)&&i.next(s)))})}function ib(n){return q((e,t)=>{let i=!1;e.subscribe(te(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function gF(n=fQ){return q((e,t)=>{let i=!1;e.subscribe(te(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function fQ(){return new tb}function Rl(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Pi((r,s)=>n(r,s,i)):cn,zs(1),t?ib(e):gF(()=>new tb))}function xh(n,e){return A(e)?Fn(n,e,1):Fn(n,1)}function pi(n,e,t){const i=A(n)||e||t?{next:n,error:e,complete:t}:n;return i?q((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(te(s,l=>{var d;null===(d=i.next)||void 0===d||d.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var d;a=!1,null===(d=i.error)||void 0===d||d.call(i,l),s.error(l)},()=>{var l,d;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(d=i.finalize)||void 0===d||d.call(i)}))}):cn}function Ml(n){return q((e,t)=>{let s,i=null,r=!1;i=e.subscribe(te(t,void 0,void 0,o=>{s=ei(n(o,Ml(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function rb(n,e){return q(function mQ(n,e,t,i,r){return(s,o)=>{let a=t,l=e,d=0;s.subscribe(te(o,f=>{const g=d++;l=a?n(l,f,g):(a=!0,f),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}(n,e,arguments.length>=2,!0))}function IC(n){return n<=0?()=>qn:q((e,t)=>{let i=[];e.subscribe(te(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Ch(n){return q((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Nr(n){return q((e,t)=>{ei(n).subscribe(te(t,()=>t.complete(),Ve)),!t.closed&&e.subscribe(t)})}const pt="primary",Op=Symbol("RouteTitle");class _Q{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Th(n){return new _Q(n)}function yQ(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function No(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!_F(n[r],e[r]))return!1;return!0}function _F(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function yF(n){return n.length>0?n[n.length-1]:null}function Pl(n){return function uF(n){return!!n&&(n instanceof rt||A(n.lift)&&A(n.subscribe))}(n)?n:gp(n)?S(Promise.resolve(n)):z(n)}const bQ={exact:function wF(n,e,t){if(!od(n.segments,e.segments)||!sb(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!wF(n.children[i],e.children[i],t))return!1;return!0},subset:EF},vF={exact:function wQ(n,e){return No(n,e)},subset:function EQ(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>_F(n[t],e[t]))},ignored:()=>!0};function bF(n,e,t){return bQ[t.paths](n.root,e.root,t.matrixParams)&&vF[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function EF(n,e,t){return IF(n,e,e.segments,t)}function IF(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!od(r,t)||e.hasChildren()||!sb(r,t,i))}if(n.segments.length===t.length){if(!od(n.segments,t)||!sb(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!EF(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(od(n.segments,r)&&sb(n.segments,r,i)&&n.children[pt])&&IF(n.children[pt],e,s,i)}}function sb(n,e,t){return e.every((i,r)=>vF[t](n[r].parameters,i.parameters))}class Ah{constructor(e=new sn([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Th(this.queryParams)),this._queryParamMap}toString(){return CQ.serialize(this)}}class sn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ob(this)}}class Np{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Th(this.parameters)),this._parameterMap}toString(){return TF(this)}}function od(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Fp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=be({token:n,factory:function(){return new xC},providedIn:"root"})}}return n})();class xC{parse(e){const t=new FQ(e);return new Ah(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Lp(e.root,!0)}`,i=function DQ(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${ab(t)}=${ab(r)}`).join("&"):`${ab(t)}=${ab(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function TQ(n){return encodeURI(n)}(e.fragment)}`:""}`}}const CQ=new xC;function ob(n){return n.segments.map(e=>TF(e)).join("/")}function Lp(n,e){if(!n.hasChildren())return ob(n);if(e){const t=n.children[pt]?Lp(n.children[pt],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==pt&&i.push(`${r}:${Lp(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function xQ(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===pt&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==pt&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===pt?[Lp(n.children[pt],!1)]:[`${r}:${Lp(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[pt]?`${ob(n)}/${t[0]}`:`${ob(n)}/(${t.join("//")})`}}function xF(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ab(n){return xF(n).replace(/%3B/gi,";")}function CC(n){return xF(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lb(n){return decodeURIComponent(n)}function CF(n){return lb(n.replace(/\+/g,"%20"))}function TF(n){return`${CC(n.path)}${function AQ(n){return Object.keys(n).map(e=>`;${CC(e)}=${CC(n[e])}`).join("")}(n.parameters)}`}const SQ=/^[^\/()?;#]+/;function TC(n){const e=n.match(SQ);return e?e[0]:""}const kQ=/^[^\/()?;=#]+/,MQ=/^[^=?&#]+/,OQ=/^[^&#]+/;class FQ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new sn([],{}):new sn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[pt]=new sn(e,t)),i}parseSegment(){const e=TC(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new re(4009,!1);return this.capture(e),new Np(lb(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function RQ(n){const e=n.match(kQ);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=TC(this.remaining);r&&(i=r,this.capture(i))}e[lb(t)]=lb(i)}parseQueryParam(e){const t=function PQ(n){const e=n.match(MQ);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const o=function NQ(n){const e=n.match(OQ);return e?e[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=CF(t),s=CF(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=TC(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new re(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=pt);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[pt]:new sn([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new re(4011,!1)}}function AF(n){return n.segments.length>0?new sn([],{[pt]:n}):n}function DF(n){const e={};for(const i of Object.keys(n.children)){const s=DF(n.children[i]);if(i===pt&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function LQ(n){if(1===n.numberOfChildren&&n.children[pt]){const e=n.children[pt];return new sn(n.segments.concat(e.segments),e.children)}return n}(new sn(n.segments,e))}function ad(n){return n instanceof Ah}function SF(n){let e;const r=AF(function t(s){const o={};for(const l of s.children){const d=t(l);o[l.outlet]=d}const a=new sn(s.url,o);return s===n&&(e=a),a}(n.root));return e??r}function kF(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return AC(r,r,r,t,i);const s=function BQ(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new MF(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,d])=>{a[l]="string"==typeof d?d.split("/"):d}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new MF(t,e,i)}(e);if(s.toRoot())return AC(r,r,new sn([],{}),t,i);const o=function UQ(n,e,t){if(n.isAbsolute)return new db(e,!0,0);if(!t)return new db(e,!1,NaN);if(null===t.parent)return new db(t,!0,0);const i=cb(n.commands[0])?0:1;return function jQ(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new re(4005,!1);r=i.segments.length}return new db(i,!1,r-s)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),a=o.processChildren?Bp(o.segmentGroup,o.index,s.commands):PF(o.segmentGroup,o.index,s.commands);return AC(r,o.segmentGroup,a,t,i)}function cb(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Vp(n){return"object"==typeof n&&null!=n&&n.outlets}function AC(n,e,t,i,r){let o,s={};i&&Object.entries(i).forEach(([l,d])=>{s[l]=Array.isArray(d)?d.map(f=>`${f}`):`${d}`}),o=n===e?t:RF(n,e,t);const a=AF(DF(o));return new Ah(a,s,r)}function RF(n,e,t){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===e?t:RF(s,e,t)}),new sn(n.segments,i)}class MF{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&cb(i[0]))throw new re(4003,!1);const r=i.find(Vp);if(r&&r!==yF(i))throw new re(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class db{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function PF(n,e,t){if(n||(n=new sn([],{})),0===n.segments.length&&n.hasChildren())return Bp(n,e,t);const i=function HQ(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const o=n.segments[r],a=t[i];if(Vp(a))break;const l=`${a}`,d=i<t.length-1?t[i+1]:null;if(r>0&&void 0===l)break;if(l&&d&&"object"==typeof d&&void 0===d.outlets){if(!NF(l,d,o))return s;i+=2}else{if(!NF(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new sn(n.segments.slice(0,i.pathIndex),{});return s.children[pt]=new sn(n.segments.slice(i.pathIndex),n.children),Bp(s,0,r)}return i.match&&0===r.length?new sn(n.segments,{}):i.match&&!n.hasChildren()?DC(n,e,t):i.match?Bp(n,0,r):DC(n,e,t)}function Bp(n,e,t){if(0===t.length)return new sn(n.segments,{});{const i=function zQ(n){return Vp(n[0])?n[0].outlets:{[pt]:n}}(t),r={};if(Object.keys(i).some(s=>s!==pt)&&n.children[pt]&&1===n.numberOfChildren&&0===n.children[pt].segments.length){const s=Bp(n.children[pt],e,t);return new sn(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=PF(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===i[s]&&(r[s]=o)}),new sn(n.segments,r)}}function DC(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(Vp(s)){const l=$Q(s.outlets);return new sn(i,l)}if(0===r&&cb(t[0])){i.push(new Np(n.segments[e].path,OF(t[0]))),r++;continue}const o=Vp(s)?s.outlets[pt]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&cb(a)?(i.push(new Np(o,OF(a))),r+=2):(i.push(new Np(o,{})),r++)}return new sn(i,{})}function $Q(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=DC(new sn([],{}),0,i))}),e}function OF(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function NF(n,e,t){return n==t.path&&No(e,t.parameters)}const Up="imperative";class Fo{constructor(e,t){this.id=e,this.url=t}}class ub extends Fo{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ol extends Fo{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class jp extends Fo{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Dh extends Fo{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class hb extends Fo{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class FF extends Fo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qQ extends Fo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GQ extends Fo{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class WQ extends Fo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KQ extends Fo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QQ{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class YQ{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class XQ{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZQ{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JQ{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eY{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LF{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class SC{}class kC{constructor(e){this.url=e}}class tY{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new zp,this.attachRef=null}}let zp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new tY,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class VF{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=RC(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=RC(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=MC(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return MC(e,this._root).map(t=>t.value)}}function RC(n,e){if(n===e.value)return e;for(const t of e.children){const i=RC(n,t);if(i)return i}return null}function MC(n,e){if(n===e.value)return[e];for(const t of e.children){const i=MC(n,t);if(i.length)return i.unshift(e),i}return[]}class Ma{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Sh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class BF extends VF{constructor(e,t){super(e),this.snapshot=t,PC(this,e)}toString(){return this.snapshot.toString()}}function UF(n,e){const t=function nY(n,e){const o=new fb([],{},{},"",{},pt,e,null,{});return new zF("",new Ma(o,[]))}(0,e),i=new L([new Np("",{})]),r=new L({}),s=new L({}),o=new L({}),a=new L(""),l=new ld(i,r,o,a,s,pt,e,t.root);return l.snapshot=t.root,new BF(new Ma(l,[]),t)}class ld{constructor(e,t,i,r,s,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(he(d=>d[Op]))??z(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(he(e=>Th(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(he(e=>Th(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jF(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function iY(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class fb{get title(){return this.data?.[Op]}constructor(e,t,i,r,s,o,a,l,d){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Th(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Th(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zF extends VF{constructor(e,t){super(t),this.url=e,PC(this,t)}toString(){return HF(this._root)}}function PC(n,e){e.value._routerState=n,e.children.forEach(t=>PC(n,t))}function HF(n){const e=n.children.length>0?` { ${n.children.map(HF).join(", ")} } `:"";return`${n.value}${e}`}function OC(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,No(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),No(e.params,t.params)||n.paramsSubject.next(t.params),function vQ(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!No(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),No(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function NC(n,e){const t=No(n.params,e.params)&&function IQ(n,e){return od(n,e)&&n.every((t,i)=>No(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||NC(n.parent,e.parent))}let FC=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=pt,this.activateEvents=new At,this.deactivateEvents=new At,this.attachEvents=new At,this.detachEvents=new At,this.parentContexts=Ee(zp),this.location=Ee(Bs),this.changeDetector=Ee(Da),this.environmentInjector=Ee(hs),this.inputBinder=Ee(mb,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new re(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new re(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new re(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new re(4013,!1);this._activatedRoute=t;const r=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new rY(t,a,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=xe({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Yi]})}}return n})();class rY{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===ld?this.route:e===zp?this.childContexts:this.parent.get(e,t)}}const mb=new de("");let $F=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=eb([i.queryParams,i.params,i.data]).pipe(Te(([s,o,a],l)=>(a={...s,...o,...a},0===l?z(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const o=function LW(n){const e=Tt(n);if(!e)return null;const t=new up(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac})}}return n})();function Hp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function oY(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Hp(n,i,r);return Hp(n,i)})}(n,e,t);return new Ma(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Hp(n,a)),o}}const i=function aY(n){return new ld(new L(n.url),new L(n.params),new L(n.queryParams),new L(n.fragment),new L(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>Hp(n,s));return new Ma(i,r)}}const LC="ngNavigationCancelingError";function qF(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=ad(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=GF(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function GF(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[LC]=!0,i.cancellationCode=e,t&&(i.url=t),i}function WF(n){return n&&n[LC]}let KF=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Wn({type:n,selectors:[["ng-component"]],standalone:!0,features:[q1],decls:1,vars:0,template:function(i,r){1&i&&vn(0,"router-outlet")},dependencies:[FC],encapsulation:2})}}return n})();function VC(n){const e=n.children&&n.children.map(VC),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==pt&&(t.component=KF),t}function ao(n){return n.outlet||pt}function $p(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class pY{constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),OC(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Sh(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Sh(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Sh(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=Sh(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new eY(s.value.snapshot))}),e.children.length&&this.forwardEvent(new ZQ(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(OC(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),OC(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=$p(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}}class QF{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class pb{constructor(e,t){this.component=e,this.route=t}}function gY(n,e,t){const i=n._root;return qp(i,e?e._root:null,t,[i.value])}function kh(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function G0(n){return null!==Zd(n)}(n)?e.get(n):n:i}function qp(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Sh(e);return n.children.forEach(o=>{(function yY(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function vY(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!od(n.url,e.url);case"pathParamsOrQueryParamsChange":return!od(n.url,e.url)||!No(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!NC(n,e)||!No(n.queryParams,e.queryParams);default:return!NC(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new QF(i)):(s.data=o.data,s._resolvedData=o._resolvedData),qp(n,e,s.component?a?a.children:null:t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new pb(a.outlet.component,o))}else o&&Gp(e,a,r),r.canActivateChecks.push(new QF(i)),qp(n,null,s.component?a?a.children:null:t,i,r)})(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Gp(a,t.getContext(o),r)),r}function Gp(n,e,t){const i=Sh(n),r=n.value;Object.entries(i).forEach(([s,o])=>{Gp(o,r.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new pb(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Wp(n){return"function"==typeof n}function YF(n){return n instanceof tb||"EmptyError"===n?.name}const gb=Symbol("INITIAL_VALUE");function Rh(){return Te(n=>eb(n.map(e=>e.pipe(zs(1),sd(gb)))).pipe(he(e=>{for(const t of e)if(!0!==t){if(t===gb)return gb;if(!1===t||t instanceof Ah)return t}return!0}),Pi(e=>e!==gb),zs(1)))}function XF(n){return function rr(...n){return $r(n)}(pi(e=>{if(ad(e))throw qF(0,e)}),he(e=>!0===e))}class _b{constructor(e){this.segmentGroup=e||null}}class ZF{constructor(e){this.urlTree=e}}function Mh(n){return Ih(new _b(n))}function JF(n){return Ih(new ZF(n))}class BY{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new re(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return z(i);if(r.numberOfChildren>1||!r.children[pt])return Ih(new re(4e3,!1));r=r.children[pt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new Ah(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);i[r]=t[a]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,i,r)}),new sn(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new re(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const BC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function UY(n,e,t,i,r){const s=UC(n,e,t);return s.matched?(i=function cY(n,e){return n.providers&&!n._injector&&(n._injector=px(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function FY(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?z(r.map(o=>{const a=kh(o,n);return Pl(function CY(n){return n&&Wp(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Rh(),XF()):z(!0)}(i,e,t).pipe(he(o=>!0===o?s:{...BC}))):z(s)}function UC(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...BC}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||yQ)(t,n,e);if(!r)return{...BC};const s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function eL(n,e,t,i){return t.length>0&&function HY(n,e,t){return t.some(i=>yb(n,e,i)&&ao(i)!==pt)}(n,t,i)?{segmentGroup:new sn(e,zY(i,new sn(t,n.children))),slicedSegments:[]}:0===t.length&&function $Y(n,e,t){return t.some(i=>yb(n,e,i))}(n,t,i)?{segmentGroup:new sn(n.segments,jY(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new sn(n.segments,n.children),slicedSegments:t}}function jY(n,e,t,i,r){const s={};for(const o of i)if(yb(n,t,o)&&!r[ao(o)]){const a=new sn([],{});s[ao(o)]=a}return{...r,...s}}function zY(n,e){const t={};t[pt]=e;for(const i of n)if(""===i.path&&ao(i)!==pt){const r=new sn([],{});t[ao(i)]=r}return t}function yb(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class KY{constructor(e,t,i,r,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new BY(this.urlSerializer,this.urlTree)}noMatchError(e){return new re(4002,!1)}recognize(){const e=eL(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,pt).pipe(Ml(t=>{if(t instanceof ZF)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof _b?this.noMatchError(t):t}),he(t=>{const i=new fb([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},pt,this.rootComponentType,null,{}),r=new Ma(i,t),s=new zF("",r),o=function VQ(n,e,t=null,i=null){return kF(SF(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,pt).pipe(Ml(i=>{throw i instanceof _b?this.noMatchError(i):i}))}inheritParamsAndData(e){const t=e.value,i=jF(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0)}processChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return S(r).pipe(xh(s=>{const o=i.children[s],a=function fY(n,e){const t=n.filter(i=>ao(i)===e);return t.push(...n.filter(i=>ao(i)!==e)),t}(t,s);return this.processSegmentGroup(e,a,o,s)}),rb((s,o)=>(s.push(...o),s)),ib(null),function pQ(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Pi((r,s)=>n(r,s,i)):cn,IC(1),t?ib(e):gF(()=>new tb))}(),Fn(s=>{if(null===s)return Mh(i);const o=tL(s);return function QY(n){n.sort((e,t)=>e.value.outlet===pt?-1:t.value.outlet===pt?1:e.value.outlet.localeCompare(t.value.outlet))}(o),z(o)}))}processSegment(e,t,i,r,s,o){return S(t).pipe(xh(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,s,o).pipe(Ml(l=>{if(l instanceof _b)return z(null);throw l}))),Rl(a=>!!a),Ml(a=>{if(YF(a))return function GY(n,e,t){return 0===e.length&&!n.children[t]}(i,r,s)?z([]):Mh(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,s,o,a){return function qY(n,e,t,i){return!!(ao(n)===i||i!==pt&&yb(e,t,n))&&("**"===n.path||UC(e,n,t).matched)}(i,r,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,o):Mh(r):Mh(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?JF(s):this.applyRedirects.lineralizeSegments(i,s).pipe(Fn(o=>{const a=new sn(o,{});return this.processSegment(e,t,a,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){const{matched:a,consumedSegments:l,remainingSegments:d,positionalParamSegments:f}=UC(t,r,s);if(!a)return Mh(t);const g=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,f);return r.redirectTo.startsWith("/")?JF(g):this.applyRedirects.lineralizeSegments(r,g).pipe(Fn(y=>this.processSegment(e,i,t,y.concat(d),o,!1)))}matchSegmentAgainstRoute(e,t,i,r,s,o){let a;if("**"===i.path){const l=r.length>0?yF(r).parameters:{};a=z({snapshot:new fb(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,nL(i),ao(i),i.component??i._loadedComponent??null,i,iL(i)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=UY(t,i,r,e).pipe(he(({matched:l,consumedSegments:d,remainingSegments:f,parameters:g})=>l?{snapshot:new fb(d,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,nL(i),ao(i),i.component??i._loadedComponent??null,i,iL(i)),consumedSegments:d,remainingSegments:f}:null));return a.pipe(Te(l=>null===l?Mh(t):this.getChildConfig(e=i._injector??e,i,r).pipe(Te(({routes:d})=>{const f=i._loadedInjector??e,{snapshot:g,consumedSegments:y,remainingSegments:b}=l,{segmentGroup:I,slicedSegments:x}=eL(t,y,b,d);if(0===x.length&&I.hasChildren())return this.processChildren(f,d,I).pipe(he(V=>null===V?null:[new Ma(g,V)]));if(0===d.length&&0===x.length)return z([new Ma(g,[])]);const T=ao(i)===s;return this.processSegment(f,d,I,x,T?pt:s,!0).pipe(he(V=>[new Ma(g,V)]))}))))}getChildConfig(e,t,i){return t.children?z({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?z({routes:t._loadedRoutes,injector:t._loadedInjector}):function NY(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?z(!0):z(r.map(o=>{const a=kh(o,n);return Pl(function wY(n){return n&&Wp(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Rh(),XF())}(e,t,i).pipe(Fn(r=>r?this.configLoader.loadChildren(e,t).pipe(pi(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function VY(n){return Ih(GF(!1,3))}())):z({routes:[],injector:e})}}function YY(n){const e=n.value.routeConfig;return e&&""===e.path}function tL(n){const e=[],t=new Set;for(const i of n){if(!YY(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=tL(i.children);e.push(new Ma(i.value,r))}return e.filter(i=>!t.has(i))}function nL(n){return n.data||{}}function iL(n){return n.resolve||{}}function rL(n){return"string"==typeof n.title||null===n.title}function jC(n){return Te(e=>{const t=n(e);return t?S(t).pipe(he(()=>e)):z(e)})}const Ph=new de("ROUTES");let zC=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ee(FO)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return z(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Pl(t.loadComponent()).pipe(he(sL),pi(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Ch(()=>{this.componentLoaders.delete(t)})),r=new pF(i,()=>new j).pipe(EC());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return z({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function iX(n,e,t,i){return Pl(n.loadChildren()).pipe(he(sL),Fn(r=>r instanceof H1||Array.isArray(r)?z(r):S(e.compileModuleAsync(r))),he(r=>{i&&i(n);let s,o,a=!1;return Array.isArray(r)?(o=r,!0):(s=r.create(t).injector,o=s.get(Ph,[],{optional:!0,self:!0}).flat()),{routes:o.map(VC),injector:s}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(Ch(()=>{this.childrenLoaders.delete(i)})),o=new pF(s,()=>new j).pipe(EC());return this.childrenLoaders.set(i,o),o}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function sL(n){return function rX(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let vb=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new j,this.transitionAbortSubject=new j,this.configLoader=Ee(zC),this.environmentInjector=Ee(hs),this.urlSerializer=Ee(Fp),this.rootContexts=Ee(zp),this.inputBindingEnabled=null!==Ee(mb,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>z(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new YQ(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new QQ(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new L({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:t.urlHandlingStrategy.extract(i),urlAfterRedirects:t.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Up,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Pi(s=>0!==s.id),he(s=>({...s,extractedUrl:t.urlHandlingStrategy.extract(s.rawUrl)})),Te(s=>{this.currentTransition=s;let o=!1,a=!1;return z(s).pipe(pi(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Te(l=>{const d=l.currentBrowserUrl.toString(),f=!t.navigated||l.extractedUrl.toString()!==d||d!==l.currentUrlTree.toString();if(!f&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const y="";return this.events.next(new Dh(l.id,this.urlSerializer.serialize(l.rawUrl),y,0)),l.resolve(null),qn}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return z(l).pipe(Te(y=>{const b=this.transitions?.getValue();return this.events.next(new ub(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),b!==this.transitions?.getValue()?qn:Promise.resolve(y)}),function XY(n,e,t,i,r,s){return Fn(o=>function WY(n,e,t,i,r,s,o="emptyOnly"){return new KY(n,e,t,i,r,o,s).recognize()}(n,e,t,i,o.extractedUrl,r,s).pipe(he(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),pi(y=>{s.targetSnapshot=y.targetSnapshot,s.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:y.urlAfterRedirects};const b=new FF(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(b)}));if(f&&t.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:y,extractedUrl:b,source:I,restoredState:x,extras:T}=l,V=new ub(y,this.urlSerializer.serialize(b),I,x);this.events.next(V);const M=UF(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:M,urlAfterRedirects:b,extras:{...T,skipLocationChange:!1,replaceUrl:!1}},z(s)}{const y="";return this.events.next(new Dh(l.id,this.urlSerializer.serialize(l.extractedUrl),y,1)),l.resolve(null),qn}}),pi(l=>{const d=new qQ(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),he(l=>(this.currentTransition=s={...l,guards:gY(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function AY(n,e){return Fn(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?z({...t,guardsResult:!0}):function DY(n,e,t,i){return S(n).pipe(Fn(r=>function OY(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?z(s.map(a=>{const l=$p(e)??r,d=kh(a,l);return Pl(function xY(n){return n&&Wp(n.canDeactivate)}(d)?d.canDeactivate(n,e,t,i):l.runInContext(()=>d(n,e,t,i))).pipe(Rl())})).pipe(Rh()):z(!0)}(r.component,r.route,t,e,i)),Rl(r=>!0!==r,!0))}(o,i,r,n).pipe(Fn(a=>a&&function bY(n){return"boolean"==typeof n}(a)?function SY(n,e,t,i){return S(e).pipe(xh(r=>nb(function RY(n,e){return null!==n&&e&&e(new XQ(n)),z(!0)}(r.route.parent,i),function kY(n,e){return null!==n&&e&&e(new JQ(n)),z(!0)}(r.route,i),function PY(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function _Y(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>wC(()=>z(o.guards.map(l=>{const d=$p(o.node)??t,f=kh(l,d);return Pl(function IY(n){return n&&Wp(n.canActivateChild)}(f)?f.canActivateChild(i,n):d.runInContext(()=>f(i,n))).pipe(Rl())})).pipe(Rh())));return z(s).pipe(Rh())}(n,r.path,t),function MY(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return z(!0);const r=i.map(s=>wC(()=>{const o=$p(e)??t,a=kh(s,o);return Pl(function EY(n){return n&&Wp(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(Rl())}));return z(r).pipe(Rh())}(n,r.route,t))),Rl(r=>!0!==r,!0))}(i,s,n,e):z(a)),he(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),pi(l=>{if(s.guardsResult=l.guardsResult,ad(l.guardsResult))throw qF(0,l.guardsResult);const d=new GQ(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),Pi(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),jC(l=>{if(l.guards.canActivateChecks.length)return z(l).pipe(pi(d=>{const f=new WQ(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),Te(d=>{let f=!1;return z(d).pipe(function ZY(n,e){return Fn(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return z(t);let s=0;return S(r).pipe(xh(o=>function JY(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!rL(r)&&(s[Op]=r.title),function eX(n,e,t,i){const r=function tX(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return z({});const s={};return S(r).pipe(Fn(o=>function nX(n,e,t,i){const r=$p(e)??i,s=kh(n,r);return Pl(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[o],e,t,i).pipe(Rl(),pi(a=>{s[o]=a}))),IC(1),function gQ(n){return he(()=>n)}(s),Ml(o=>YF(o)?qn:Ih(o)))}(s,n,e,i).pipe(he(o=>(n._resolvedData=o,n.data=jF(n,t).resolve,r&&rL(r)&&(n.data[Op]=r.title),null)))}(o.route,i,n,e)),pi(()=>s++),IC(1),Fn(o=>s===r.length?z(t):qn))})}(t.paramsInheritanceStrategy,this.environmentInjector),pi({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",2)}}))}),pi(d=>{const f=new KQ(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),jC(l=>{const d=f=>{const g=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(f.routeConfig).pipe(pi(y=>{f.component=y}),he(()=>{})));for(const y of f.children)g.push(...d(y));return g};return eb(d(l.targetSnapshot.root)).pipe(ib(),zs(1))}),jC(()=>this.afterPreactivation()),he(l=>{const d=function sY(n,e,t){const i=Hp(n,e._root,t?t._root:void 0);return new BF(i,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:d},s}),pi(()=>{this.events.next(new SC)}),((n,e,t,i)=>he(r=>(new pY(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),zs(1),pi({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ol(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),Nr(this.transitionAbortSubject.pipe(pi(l=>{throw l}))),Ch(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Ml(l=>{if(a=!0,WF(l))this.events.next(new jp(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function lY(n){return WF(n)&&ad(n.url)}(l)?this.events.next(new kC(l.url)):s.resolve(!1);else{this.events.next(new hb(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(l))}catch(d){s.reject(d)}}return qn}))}))}cancelNavigationTransition(t,i,r){const s=new jp(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function oL(n){return n!==Up}let aL=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===pt);return i}getResolvedTitleForRoute(t){return t.data[Op]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=be({token:n,factory:function(){return Ee(sX)},providedIn:"root"})}}return n})(),sX=(()=>{class n extends aL{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(Q(oF))}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),oX=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=be({token:n,factory:function(){return Ee(lX)},providedIn:"root"})}}return n})();class aX{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let lX=(()=>{class n extends aX{static{this.\u0275fac=function(){let t;return function(r){return(t||(t=Ln(n)))(r||n)}}()}static{this.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const bb=new de("",{providedIn:"root",factory:()=>({})});let cX=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=be({token:n,factory:function(){return Ee(dX)},providedIn:"root"})}}return n})(),dX=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Kp=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Kp||{});function lL(n,e){n.events.pipe(Pi(t=>t instanceof Ol||t instanceof jp||t instanceof hb||t instanceof Dh),he(t=>t instanceof Ol||t instanceof Dh?Kp.COMPLETE:t instanceof jp&&(0===t.code||1===t.code)?Kp.REDIRECTING:Kp.FAILED),Pi(t=>t!==Kp.REDIRECTING),zs(1)).subscribe(()=>{e()})}function uX(n){throw n}function hX(n,e,t){return e.parse("/")}const fX={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mX={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let es=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Ee(NO),this.isNgZoneEnabled=!1,this._events=new j,this.options=Ee(bb,{optional:!0})||{},this.pendingTasks=Ee(Rv),this.errorHandler=this.options.errorHandler||uX,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||hX,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Ee(cX),this.routeReuseStrategy=Ee(oX),this.titleStrategy=Ee(aL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Ee(Ph,{optional:!0})?.flat()??[],this.navigationTransitions=Ee(vb),this.urlSerializer=Ee(Fp),this.location=Ee(Bv),this.componentInputBindingEnabled=!!Ee(mb,{optional:!0}),this.eventsSubscription=new ct,this.isNgZoneEnabled=Ee(Qe)instanceof Qe&&Qe.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ah,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=UF(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(cL(i)&&this._events.next(i));if(i instanceof ub)oL(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof Dh)this.rawUrlTree=r.rawUrl;else if(i instanceof FF){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(s,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof SC)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof jp)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof kC){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),o={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||oL(r.source)};this.scheduleNavigation(s,Up,null,o,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof hb&&this.restoreHistory(r,!0),i instanceof Ol&&(this.navigated=!0),cL(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Up,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(VC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,d=l?this.currentUrlTree.fragment:o;let g,f=null;switch(a){case"merge":f={...this.currentUrlTree.queryParams,...s};break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}null!==f&&(f=this.removeEmptyProps(f));try{g=SF(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),g=this.currentUrlTree.root}return kF(g,t,f,d??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=ad(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Up,null,i)}navigate(t,i={skipLocationChange:!1}){return function pX(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new re(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...fX}:!1===i?{...mX}:i,ad(t))return bF(this.currentUrlTree,t,r);const s=this.parseUrl(t);return bF(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(t,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,d;o?(a=o.resolve,l=o.reject,d=o.promise):d=new Promise((g,y)=>{a=g,l=y});const f=this.pendingTasks.add();return lL(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function cL(n){return!(n instanceof SC||n instanceof kC)}class dL{}let yX=(()=>{class n{constructor(t,i,r,s,o){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Pi(t=>t instanceof Ol),xh(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=px(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return S(r).pipe(xs())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):z(null);const s=r.pipe(Fn(o=>null===o?z(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return i.loadComponent&&!i._loadedComponent?S([s,this.loader.loadComponent(i)]).pipe(xs()):s})}static{this.\u0275fac=function(i){return new(i||n)(Q(es),Q(FO),Q(hs),Q(dL),Q(zC))}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const $C=new de("");let uL=(()=>{class n{constructor(t,i,r,s,o={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ub?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ol?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Dh&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof LF&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new LF(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){NI()}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac})}}return n})();function Pa(n,e){return{\u0275kind:n,\u0275providers:e}}function fL(){const n=Ee(pr);return e=>{const t=n.get(Dl);if(e!==t.components[0])return;const i=n.get(es),r=n.get(mL);1===n.get(qC)&&i.initialNavigation(),n.get(pL,null,_t.Optional)?.setUpPreloading(),n.get($C,null,_t.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const mL=new de("",{factory:()=>new j}),qC=new de("",{providedIn:"root",factory:()=>1}),pL=new de("");function EX(n){return Pa(0,[{provide:pL,useExisting:yX},{provide:dL,useExisting:n}])}const gL=new de("ROUTER_FORROOT_GUARD"),xX=[Bv,{provide:Fp,useClass:xC},es,zp,{provide:ld,useFactory:function hL(n){return n.routerState.root},deps:[es]},zC,[]];function CX(){return new HO("Router",es)}let _L=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[xX,[],{provide:Ph,multi:!0,useValue:t},{provide:gL,useFactory:SX,deps:[[es,new Ao,new qc]]},{provide:bb,useValue:i||{}},i?.useHash?{provide:id,useClass:zW}:{provide:id,useClass:wN},{provide:$C,useFactory:()=>{const n=Ee(s7),e=Ee(Qe),t=Ee(bb),i=Ee(vb),r=Ee(Fp);return t.scrollOffset&&n.setOffset(t.scrollOffset),new uL(r,i,n,e,t)}},i?.preloadingStrategy?EX(i.preloadingStrategy).\u0275providers:[],{provide:HO,multi:!0,useFactory:CX},i?.initialNavigation?kX(i):[],i?.bindToComponentInputs?Pa(8,[$F,{provide:mb,useExisting:$F}]).\u0275providers:[],[{provide:yL,useFactory:fL},{provide:Fx,multi:!0,useExisting:yL}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Ph,multi:!0,useValue:t}]}}static{this.\u0275fac=function(i){return new(i||n)(Q(gL,8))}}static{this.\u0275mod=kt({type:n})}static{this.\u0275inj=wt({})}}return n})();function SX(n){return"guarded"}function kX(n){return["disabled"===n.initialNavigation?Pa(3,[{provide:Dx,multi:!0,useFactory:()=>{const e=Ee(es);return()=>{e.setUpLocationChangeListener()}}},{provide:qC,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Pa(2,[{provide:qC,useValue:0},{provide:Dx,multi:!0,deps:[pr],useFactory:e=>{const t=e.get(UW,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(es),s=e.get(mL);lL(r,()=>{i(!0)}),e.get(vb).afterPreactivation=()=>(i(!0),s.closed?z(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const yL=new de("");var ae=ut(467),Lo=ut(852);(0,Lo.registerVersion)("firebase","10.14.1","app");class OX extends ct{constructor(e,t){super()}schedule(e,t=0){return this}}const wb={setInterval(n,e,...t){const{delegate:i}=wb;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=wb;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class Eb extends OX{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return wb.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&wb.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,oe(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const GC={now:()=>(GC.delegate||Date).now(),delegate:void 0};class Qp{constructor(e,t=Qp.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}Qp.now=GC.now;class Ib extends Qp{constructor(e,t=Qp.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const LX=new class FX extends Ib{}(class NX extends Eb{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),Yp=new Ib(Eb),VX=Yp,xb=new Cl("ANGULARFIRE2_VERSION");class WC{constructor(){return((n,e)=>{const t=(0,Lo.getApps)(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i})(UX)}}const UX="app-check";function Oh(){}class vL{zone;delegate;constructor(e,t=LX){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(o){r.runGuarded(()=>{e.apply(this,[o])})},t,i)}}class jX{zone;task=null;constructor(e){this.zone=e}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Oh,{},Oh,Oh)),t.pipe(pi({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let KC=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new vL(Zone.current)),this.insideAngular=t.run(()=>new vL(Zone.current,Yp)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(Q(Qe))};static \u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Nh(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function bL(n){return n.pipe(lr(Nh().outsideAngular))}function Fr(n){return function HX(n){return function(t){return(t=t.lift(new jX(n.ngZone))).pipe(cr(n.outsideAngular),lr(n.insideAngular))}}(Nh())(n)}var Vo=ut(345);Vo.A.registerVersion("firebase","10.14.1","app-compat");const WX=["ngOnDestroy"];class wL{constructor(e){return e}}const Xp=new de("angularfire2.app.options"),Zp=new de("angularfire2.app.name");function Cb(n,e,t){const r="object"==typeof t&&t||{};r.name=r.name||"string"==typeof t&&t||"[DEFAULT]";const o=Vo.A.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>Vo.A.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(o.options)){const a=!!module.hot;YX("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new wL(o)}const YX=(n,...e)=>{},XX={provide:wL,useFactory:Cb,deps:[Xp,Qe,[new Ao,Zp]]};let ZX=(()=>{class n{static initializeApp(t,i){return{ngModule:n,providers:[{provide:Xp,useValue:t},{provide:Zp,useValue:i}]}}constructor(t){Vo.A.registerVersion("angularfire",xb.full,"core"),Vo.A.registerVersion("angularfire",xb.full,"app-compat"),Vo.A.registerVersion("angular",oM.full,t.toString())}static \u0275fac=function(i){return new(i||n)(Q(Os))};static \u0275mod=kt({type:n});static \u0275inj=wt({providers:[XX]})}return n})();function QC(n,e,t,i,r){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(s)return function JX(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(r,o)||(EL("error",`${e} was already initialized on the ${t} Firebase App with different settings.${eZ?" You may need to reload as Firebase is not HMR aware.":""}`),EL("warn",{is:r,was:o})),s;{const a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}const eZ=typeof module<"u"&&!!module.hot,EL=(n,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[],ut(955);class tZ extends j{constructor(e=1/0,t=1/0,i=GC){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;t||(i.push(e),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!e.closed;o+=i?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const o=t.now();let a=0;for(let l=1;l<i.length&&i[l]<=o;l+=2)a=l;a&&i.splice(0,a+1)}}}function YC(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,Y({connector:()=>new tZ(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function IL(n,e){return A(e)?Te(()=>n,e):Te(()=>n)}const xL=new de("angularfire2.auth.use-emulator"),CL=new de("angularfire2.auth.settings"),TL=new de("angularfire2.auth.tenant-id"),AL=new de("angularfire2.auth.langugage-code"),DL=new de("angularfire2.auth.use-device-language"),SL=new de("angularfire.auth.persistence"),kL=(n,e,t,i,r,s,o,a)=>QC(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const l=e.runOutsideAngular(()=>n.auth());if(t&&l.useEmulator(...t),i&&(l.tenantId=i),l.languageCode=r,s&&l.useDeviceLanguage(),o)for(const[d,f]of Object.entries(o))l.settings[d]=f;return a&&l.setPersistence(a),l},[t,i,r,s,o,a]);let RL=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,i,r,s,o,a,l,d,f,g,y,b){const I=new j,x=z(void 0).pipe(lr(o.outsideAngular),Te(()=>s.runOutsideAngular(()=>Promise.resolve().then(ut.bind(ut,955)))),he(()=>Cb(t,s,i)),he(T=>kL(T,s,a,d,f,g,l,y)),YC({bufferSize:1,refCount:!1}));if(Yv(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=z(null);else{x.pipe(Rl()).subscribe();const T=x.pipe(Te(U=>U.getRedirectResult().then(J=>J,()=>null)),Fr,YC({bufferSize:1,refCount:!1})),V=x.pipe(Te(U=>new rt(J=>({unsubscribe:s.runOutsideAngular(()=>U.onAuthStateChanged(ye=>J.next(ye),ye=>J.error(ye),()=>J.complete()))})))),M=x.pipe(Te(U=>new rt(J=>({unsubscribe:s.runOutsideAngular(()=>U.onIdTokenChanged(ye=>J.next(ye),ye=>J.error(ye),()=>J.complete()))}))));this.authState=T.pipe(IL(V),cr(o.outsideAngular),lr(o.insideAngular)),this.user=T.pipe(IL(M),cr(o.outsideAngular),lr(o.insideAngular)),this.idToken=this.user.pipe(Te(U=>U?S(U.getIdToken()):z(null))),this.idTokenResult=this.user.pipe(Te(U=>U?S(U.getIdTokenResult()):z(null))),this.credential=k(T,I,this.authState.pipe(Pi(U=>!U))).pipe(he(U=>U?.user?U:null),cr(o.outsideAngular),lr(o.insideAngular))}return((n,e,t,i={})=>new Proxy(n,{get:(r,s)=>t.runOutsideAngular(()=>{if(n[s])return i?.spy?.get&&i.spy.get(s,n[s]),n[s];if(WX.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(a=>{const l=a?.[s];return"function"==typeof l?l.bind(a):l?.then?l.then(d=>t.run(()=>d)):t.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>o[l],apply:(a,l,d)=>o.then(f=>{const g=f?.(...d);return i?.spy?.apply&&i.spy.apply(s,d,g),g})})})}))(this,x,s,{spy:{apply:(T,V,M)=>{(T.startsWith("signIn")||T.startsWith("createUser"))&&M.then(U=>I.next(U))}}})}static \u0275fac=function(i){return new(i||n)(Q(Xp),Q(Zp,8),Q(Os),Q(Qe),Q(KC),Q(xL,8),Q(CL,8),Q(TL,8),Q(AL,8),Q(DL,8),Q(SL,8),Q(WC,8))};static \u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();function XC(){return q((n,e)=>{let t,i=!1;n.subscribe(te(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}var dd,OL,Tb=ut(362),Bo=ut(41),yt=ut(76),ML=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},PL={};(function(){var n;function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function r(N,D,P){P||(P=0);var B=Array(16);if("string"==typeof D)for(var G=0;16>G;++G)B[G]=D.charCodeAt(P++)|D.charCodeAt(P++)<<8|D.charCodeAt(P++)<<16|D.charCodeAt(P++)<<24;else for(G=0;16>G;++G)B[G]=D[P++]|D[P++]<<8|D[P++]<<16|D[P++]<<24;var X=N.g[3],O=(D=N.g[0])+(X^(P=N.g[1])&((G=N.g[2])^X))+B[0]+3614090360&4294967295;O=(P=(G=(X=(D=(P=(G=(X=(D=(P=(G=(X=(D=(P=(G=(X=(D=(P=(G=(X=(D=(P=(G=(X=(D=(P=(G=(X=(D=(P=(G=(X=(D=(P=(G=(X=(D=(P=(G=(X=(D=(P=(G=(X=(D=(P=(G=(X=(D=(P=(G=(X=(D=(P=(G=(X=(D=(P=(G=(X=(D=P+(O<<7&4294967295|O>>>25))+((O=X+(G^D&(P^G))+B[1]+3905402710&4294967295)<<12&4294967295|O>>>20))+((O=G+(P^X&(D^P))+B[2]+606105819&4294967295)<<17&4294967295|O>>>15))+((O=P+(D^G&(X^D))+B[3]+3250441966&4294967295)<<22&4294967295|O>>>10))+((O=D+(X^P&(G^X))+B[4]+4118548399&4294967295)<<7&4294967295|O>>>25))+((O=X+(G^D&(P^G))+B[5]+1200080426&4294967295)<<12&4294967295|O>>>20))+((O=G+(P^X&(D^P))+B[6]+2821735955&4294967295)<<17&4294967295|O>>>15))+((O=P+(D^G&(X^D))+B[7]+4249261313&4294967295)<<22&4294967295|O>>>10))+((O=D+(X^P&(G^X))+B[8]+1770035416&4294967295)<<7&4294967295|O>>>25))+((O=X+(G^D&(P^G))+B[9]+2336552879&4294967295)<<12&4294967295|O>>>20))+((O=G+(P^X&(D^P))+B[10]+4294925233&4294967295)<<17&4294967295|O>>>15))+((O=P+(D^G&(X^D))+B[11]+2304563134&4294967295)<<22&4294967295|O>>>10))+((O=D+(X^P&(G^X))+B[12]+1804603682&4294967295)<<7&4294967295|O>>>25))+((O=X+(G^D&(P^G))+B[13]+4254626195&4294967295)<<12&4294967295|O>>>20))+((O=G+(P^X&(D^P))+B[14]+2792965006&4294967295)<<17&4294967295|O>>>15))+((O=P+(D^G&(X^D))+B[15]+1236535329&4294967295)<<22&4294967295|O>>>10))+((O=D+(G^X&(P^G))+B[1]+4129170786&4294967295)<<5&4294967295|O>>>27))+((O=X+(P^G&(D^P))+B[6]+3225465664&4294967295)<<9&4294967295|O>>>23))+((O=G+(D^P&(X^D))+B[11]+643717713&4294967295)<<14&4294967295|O>>>18))+((O=P+(X^D&(G^X))+B[0]+3921069994&4294967295)<<20&4294967295|O>>>12))+((O=D+(G^X&(P^G))+B[5]+3593408605&4294967295)<<5&4294967295|O>>>27))+((O=X+(P^G&(D^P))+B[10]+38016083&4294967295)<<9&4294967295|O>>>23))+((O=G+(D^P&(X^D))+B[15]+3634488961&4294967295)<<14&4294967295|O>>>18))+((O=P+(X^D&(G^X))+B[4]+3889429448&4294967295)<<20&4294967295|O>>>12))+((O=D+(G^X&(P^G))+B[9]+568446438&4294967295)<<5&4294967295|O>>>27))+((O=X+(P^G&(D^P))+B[14]+3275163606&4294967295)<<9&4294967295|O>>>23))+((O=G+(D^P&(X^D))+B[3]+4107603335&4294967295)<<14&4294967295|O>>>18))+((O=P+(X^D&(G^X))+B[8]+1163531501&4294967295)<<20&4294967295|O>>>12))+((O=D+(G^X&(P^G))+B[13]+2850285829&4294967295)<<5&4294967295|O>>>27))+((O=X+(P^G&(D^P))+B[2]+4243563512&4294967295)<<9&4294967295|O>>>23))+((O=G+(D^P&(X^D))+B[7]+1735328473&4294967295)<<14&4294967295|O>>>18))+((O=P+(X^D&(G^X))+B[12]+2368359562&4294967295)<<20&4294967295|O>>>12))+((O=D+(P^G^X)+B[5]+4294588738&4294967295)<<4&4294967295|O>>>28))+((O=X+(D^P^G)+B[8]+2272392833&4294967295)<<11&4294967295|O>>>21))+((O=G+(X^D^P)+B[11]+1839030562&4294967295)<<16&4294967295|O>>>16))+((O=P+(G^X^D)+B[14]+4259657740&4294967295)<<23&4294967295|O>>>9))+((O=D+(P^G^X)+B[1]+2763975236&4294967295)<<4&4294967295|O>>>28))+((O=X+(D^P^G)+B[4]+1272893353&4294967295)<<11&4294967295|O>>>21))+((O=G+(X^D^P)+B[7]+4139469664&4294967295)<<16&4294967295|O>>>16))+((O=P+(G^X^D)+B[10]+3200236656&4294967295)<<23&4294967295|O>>>9))+((O=D+(P^G^X)+B[13]+681279174&4294967295)<<4&4294967295|O>>>28))+((O=X+(D^P^G)+B[0]+3936430074&4294967295)<<11&4294967295|O>>>21))+((O=G+(X^D^P)+B[3]+3572445317&4294967295)<<16&4294967295|O>>>16))+((O=P+(G^X^D)+B[6]+76029189&4294967295)<<23&4294967295|O>>>9))+((O=D+(P^G^X)+B[9]+3654602809&4294967295)<<4&4294967295|O>>>28))+((O=X+(D^P^G)+B[12]+3873151461&4294967295)<<11&4294967295|O>>>21))+((O=G+(X^D^P)+B[15]+530742520&4294967295)<<16&4294967295|O>>>16))+((O=P+(G^X^D)+B[2]+3299628645&4294967295)<<23&4294967295|O>>>9))+((O=D+(G^(P|~X))+B[0]+4096336452&4294967295)<<6&4294967295|O>>>26))+((O=X+(P^(D|~G))+B[7]+1126891415&4294967295)<<10&4294967295|O>>>22))+((O=G+(D^(X|~P))+B[14]+2878612391&4294967295)<<15&4294967295|O>>>17))+((O=P+(X^(G|~D))+B[5]+4237533241&4294967295)<<21&4294967295|O>>>11))+((O=D+(G^(P|~X))+B[12]+1700485571&4294967295)<<6&4294967295|O>>>26))+((O=X+(P^(D|~G))+B[3]+2399980690&4294967295)<<10&4294967295|O>>>22))+((O=G+(D^(X|~P))+B[10]+4293915773&4294967295)<<15&4294967295|O>>>17))+((O=P+(X^(G|~D))+B[1]+2240044497&4294967295)<<21&4294967295|O>>>11))+((O=D+(G^(P|~X))+B[8]+1873313359&4294967295)<<6&4294967295|O>>>26))+((O=X+(P^(D|~G))+B[15]+4264355552&4294967295)<<10&4294967295|O>>>22))+((O=G+(D^(X|~P))+B[6]+2734768916&4294967295)<<15&4294967295|O>>>17))+((O=P+(X^(G|~D))+B[13]+1309151649&4294967295)<<21&4294967295|O>>>11))+((X=(D=P+((O=D+(G^(P|~X))+B[4]+4149444226&4294967295)<<6&4294967295|O>>>26))+((O=X+(P^(D|~G))+B[11]+3174756917&4294967295)<<10&4294967295|O>>>22))^((G=X+((O=G+(D^(X|~P))+B[2]+718787259&4294967295)<<15&4294967295|O>>>17))|~D))+B[9]+3951481745&4294967295,N.g[0]=N.g[0]+D&4294967295,N.g[1]=N.g[1]+(G+(O<<21&4294967295|O>>>11))&4294967295,N.g[2]=N.g[2]+G&4294967295,N.g[3]=N.g[3]+X&4294967295}function o(N,D){this.h=D;for(var P=[],B=!0,G=N.length-1;0<=G;G--){var X=0|N[G];B&&X==D||(P[G]=X,B=!1)}this.g=P}(function e(N,D){function P(){}P.prototype=D.prototype,N.D=D.prototype,N.prototype=new P,N.prototype.constructor=N,N.C=function(B,G,X){for(var O=Array(arguments.length-2),Gs=2;Gs<arguments.length;Gs++)O[Gs-2]=arguments[Gs];return D.prototype[G].apply(B,O)}})(i,function t(){this.blockSize=-1}),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},i.prototype.u=function(N,D){void 0===D&&(D=N.length);for(var P=D-this.blockSize,B=this.B,G=this.h,X=0;X<D;){if(0==G)for(;X<=P;)r(this,N,X),X+=this.blockSize;if("string"==typeof N){for(;X<D;)if(B[G++]=N.charCodeAt(X++),G==this.blockSize){r(this,B),G=0;break}}else for(;X<D;)if(B[G++]=N[X++],G==this.blockSize){r(this,B),G=0;break}}this.h=G,this.o+=D},i.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var D=1;D<N.length-8;++D)N[D]=0;var P=8*this.o;for(D=N.length-8;D<N.length;++D)N[D]=255&P,P/=256;for(this.u(N),N=Array(16),D=P=0;4>D;++D)for(var B=0;32>B;B+=8)N[P++]=this.g[D]>>>B&255;return N};var a={};function l(N){return-128<=N&&128>N?function s(N,D){var P=a;return Object.prototype.hasOwnProperty.call(P,N)?P[N]:P[N]=D(N)}(N,function(D){return new o([0|D],0>D?-1:0)}):new o([0|N],0>N?-1:0)}function d(N){if(isNaN(N)||!isFinite(N))return g;if(0>N)return T(d(-N));for(var D=[],P=1,B=0;N>=P;B++)D[B]=N/P|0,P*=4294967296;return new o(D,0)}var g=l(0),y=l(1),b=l(16777216);function I(N){if(0!=N.h)return!1;for(var D=0;D<N.g.length;D++)if(0!=N.g[D])return!1;return!0}function x(N){return-1==N.h}function T(N){for(var D=N.g.length,P=[],B=0;B<D;B++)P[B]=~N.g[B];return new o(P,~N.h).add(y)}function V(N,D){return N.add(T(D))}function M(N,D){for(;(65535&N[D])!=N[D];)N[D+1]+=N[D]>>>16,N[D]&=65535,D++}function U(N,D){this.g=N,this.h=D}function J(N,D){if(I(D))throw Error("division by zero");if(I(N))return new U(g,g);if(x(N))return D=J(T(N),D),new U(T(D.g),T(D.h));if(x(D))return D=J(N,T(D)),new U(T(D.g),D.h);if(30<N.g.length){if(x(N)||x(D))throw Error("slowDivide_ only works with positive integers.");for(var P=y,B=D;0>=B.l(N);)P=ye(P),B=ye(B);var G=Se(P,1),X=Se(B,1);for(B=Se(B,2),P=Se(P,2);!I(B);){var O=X.add(B);0>=O.l(N)&&(G=G.add(P),X=O),B=Se(B,1),P=Se(P,1)}return D=V(N,G.j(D)),new U(G,D)}for(G=g;0<=N.l(D);){for(P=Math.max(1,Math.floor(N.m()/D.m())),B=48>=(B=Math.ceil(Math.log(P)/Math.LN2))?1:Math.pow(2,B-48),O=(X=d(P)).j(D);x(O)||0<O.l(N);)O=(X=d(P-=B)).j(D);I(X)&&(X=y),G=G.add(X),N=V(N,O)}return new U(G,N)}function ye(N){for(var D=N.g.length+1,P=[],B=0;B<D;B++)P[B]=N.i(B)<<1|N.i(B-1)>>>31;return new o(P,N.h)}function Se(N,D){var P=D>>5;D%=32;for(var B=N.g.length-P,G=[],X=0;X<B;X++)G[X]=0<D?N.i(X+P)>>>D|N.i(X+P+1)<<32-D:N.i(X+P);return new o(G,N.h)}(n=o.prototype).m=function(){if(x(this))return-T(this).m();for(var N=0,D=1,P=0;P<this.g.length;P++){var B=this.i(P);N+=(0<=B?B:4294967296+B)*D,D*=4294967296}return N},n.toString=function(N){if(2>(N=N||10)||36<N)throw Error("radix out of range: "+N);if(I(this))return"0";if(x(this))return"-"+T(this).toString(N);for(var D=d(Math.pow(N,6)),P=this,B="";;){var G=J(P,D).g,X=((0<(P=V(P,G.j(D))).g.length?P.g[0]:P.h)>>>0).toString(N);if(I(P=G))return X+B;for(;6>X.length;)X="0"+X;B=X+B}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h},n.l=function(N){return x(N=V(this,N))?-1:I(N)?0:1},n.abs=function(){return x(this)?T(this):this},n.add=function(N){for(var D=Math.max(this.g.length,N.g.length),P=[],B=0,G=0;G<=D;G++){var X=B+(65535&this.i(G))+(65535&N.i(G)),O=(X>>>16)+(this.i(G)>>>16)+(N.i(G)>>>16);B=O>>>16,P[G]=(O&=65535)<<16|(X&=65535)}return new o(P,-2147483648&P[P.length-1]?-1:0)},n.j=function(N){if(I(this)||I(N))return g;if(x(this))return x(N)?T(this).j(T(N)):T(T(this).j(N));if(x(N))return T(this.j(T(N)));if(0>this.l(b)&&0>N.l(b))return d(this.m()*N.m());for(var D=this.g.length+N.g.length,P=[],B=0;B<2*D;B++)P[B]=0;for(B=0;B<this.g.length;B++)for(var G=0;G<N.g.length;G++){var X=this.i(B)>>>16,O=65535&this.i(B),Gs=N.i(G)>>>16,oc=65535&N.i(G);P[2*B+2*G]+=O*oc,M(P,2*B+2*G),P[2*B+2*G+1]+=X*oc,M(P,2*B+2*G+1),P[2*B+2*G+1]+=O*Gs,M(P,2*B+2*G+1),P[2*B+2*G+2]+=X*Gs,M(P,2*B+2*G+2)}for(B=0;B<D;B++)P[B]=P[2*B+1]<<16|P[2*B];for(B=D;B<2*D;B++)P[B]=0;return new o(P,0)},n.A=function(N){return J(this,N).h},n.and=function(N){for(var D=Math.max(this.g.length,N.g.length),P=[],B=0;B<D;B++)P[B]=this.i(B)&N.i(B);return new o(P,this.h&N.h)},n.or=function(N){for(var D=Math.max(this.g.length,N.g.length),P=[],B=0;B<D;B++)P[B]=this.i(B)|N.i(B);return new o(P,this.h|N.h)},n.xor=function(N){for(var D=Math.max(this.g.length,N.g.length),P=[],B=0;B<D;B++)P[B]=this.i(B)^N.i(B);return new o(P,this.h^N.h)},i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,OL=PL.Md5=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=function f(N,D){if(0==N.length)throw Error("number format error: empty string");if(2>(D=D||10)||36<D)throw Error("radix out of range: "+D);if("-"==N.charAt(0))return T(f(N.substring(1),D));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=d(Math.pow(D,8)),B=g,G=0;G<N.length;G+=8){var X=Math.min(8,N.length-G),O=parseInt(N.substring(G,G+X),D);8>X?(X=d(Math.pow(D,X)),B=B.j(X).add(d(O))):B=(B=B.j(P)).add(d(O))}return B},dd=PL.Integer=o}).apply(typeof ML<"u"?ML:typeof self<"u"?self:typeof window<"u"?window:{});var NL,Jp,FL,Db,ZC,LL,VL,BL,Ab=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Oa={};(function(){var n,e="function"==typeof Object.defineProperties?Object.defineProperty:function(h,_,w){return h==Array.prototype||h==Object.prototype||(h[_]=w.value),h},i=function t(h){h=["object"==typeof globalThis&&globalThis,h,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Ab&&Ab];for(var _=0;_<h.length;++_){var w=h[_];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}(this);!function r(h,_){if(_)e:{var w=i;h=h.split(".");for(var C=0;C<h.length-1;C++){var W=h[C];if(!(W in w))break e;w=w[W]}(_=_(C=w[h=h[h.length-1]]))!=C&&null!=_&&e(w,h,{configurable:!0,writable:!0,value:_})}}("Array.prototype.values",function(h){return h||function(){return function s(h,_){h instanceof String&&(h+="");var w=0,C=!1,W={next:function(){if(!C&&w<h.length){var se=w++;return{value:_(se,h[se]),done:!1}}return C=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}(this,function(_,w){return w})}});var o=o||{},a=this||self;function l(h){var _=typeof h;return"array"==(_="object"!=_?_:h?Array.isArray(h)?"array":_:"null")||"object"==_&&"number"==typeof h.length}function d(h){var _=typeof h;return"object"==_&&null!=h||"function"==_}function f(h,_,w){return h.call.apply(h.bind,arguments)}function g(h,_,w){if(!h)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,C),h.apply(_,W)}}return function(){return h.apply(_,arguments)}}function y(h,_,w){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?f:g).apply(null,arguments)}function b(h,_){var w=Array.prototype.slice.call(arguments,1);return function(){var C=w.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function I(h,_){function w(){}w.prototype=_.prototype,h.aa=_.prototype,h.prototype=new w,h.prototype.constructor=h,h.Qb=function(C,W,se){for(var Ce=Array(arguments.length-2),hn=2;hn<arguments.length;hn++)Ce[hn-2]=arguments[hn];return _.prototype[W].apply(C,Ce)}}function x(h){const _=h.length;if(0<_){const w=Array(_);for(let C=0;C<_;C++)w[C]=h[C];return w}return[]}function T(h,_){for(let w=1;w<arguments.length;w++){const C=arguments[w];if(l(C)){const W=h.length||0,se=C.length||0;h.length=W+se;for(let Ce=0;Ce<se;Ce++)h[W+Ce]=C[Ce]}else h.push(C)}}function M(h){return/^[\s\xa0]*$/.test(h)}function U(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function J(h){return J[" "](h),h}J[" "]=function(){};var ye=!(-1==U().indexOf("Gecko")||-1!=U().toLowerCase().indexOf("webkit")&&-1==U().indexOf("Edge")||-1!=U().indexOf("Trident")||-1!=U().indexOf("MSIE")||-1!=U().indexOf("Edge"));function Se(h,_,w){for(const C in h)_.call(w,h[C],C,h)}function D(h){const _={};for(const w in h)_[w]=h[w];return _}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(h,_){let w,C;for(let W=1;W<arguments.length;W++){for(w in C=arguments[W],C)h[w]=C[w];for(let se=0;se<P.length;se++)w=P[se],Object.prototype.hasOwnProperty.call(C,w)&&(h[w]=C[w])}}function G(h){var _=1;h=h.split(":");const w=[];for(;0<_&&h.length;)w.push(h.shift()),_--;return h.length&&w.push(h.join(":")),w}function X(h){a.setTimeout(()=>{throw h},0)}function O(){var h=St;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}var oc=new class V{constructor(_,w){this.i=_,this.j=w,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}(()=>new Ue,h=>h.reset());class Ue{constructor(){this.next=this.g=this.h=null}set(_,w){this.h=_,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let He,We=!1,St=new class Gs{constructor(){this.h=this.g=null}add(_,w){const C=oc.get();C.set(_,w),this.h?this.h.next=C:this.g=C,this.h=C}},yi=()=>{const h=a.Promise.resolve(void 0);He=()=>{h.then(Ws)}};var Ws=()=>{for(var h;h=O();){try{h.h.call(h.g)}catch(w){X(w)}var _=oc;_.j(h),100>_.h&&(_.h++,h.next=_.g,_.g=h)}We=!1};function ci(){this.s=this.s,this.C=this.C}function Mn(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}ci.prototype.s=!1,ci.prototype.ma=function(){this.s||(this.s=!0,this.N())},ci.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Mn.prototype.h=function(){this.defaultPrevented=!0};var Pn=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};a.addEventListener("test",w,_),a.removeEventListener("test",w,_)}catch{}return h}();function ac(h,_){if(Mn.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var w=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget){if(ye){e:{try{J(_.nodeName);var W=!0;break e}catch{}W=!1}W||(_=null)}}else"mouseover"==w?_=h.fromElement:"mouseout"==w&&(_=h.toElement);this.relatedTarget=_,C?(this.clientX=void 0!==C.clientX?C.clientX:C.pageX,this.clientY=void 0!==C.clientY?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=void 0!==h.clientX?h.clientX:h.pageX,this.clientY=void 0!==h.clientY?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType="string"==typeof h.pointerType?h.pointerType:ek[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ac.aa.h.call(this)}}I(ac,Mn);var ek={2:"touch",3:"pen",4:"mouse"};ac.prototype.h=function(){ac.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var di="closure_listenable_"+(1e6*Math.random()|0),Qa=0;function is(h,_,w,C,W){this.listener=h,this.proxy=null,this.src=_,this.type=w,this.capture=!!C,this.ha=W,this.key=++Qa,this.da=this.fa=!1}function Ya(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function lc(h){this.src=h,this.g={},this.h=0}function tk(h,_){var w=_.type;if(w in h.g){var se,C=h.g[w],W=Array.prototype.indexOf.call(C,_,void 0);(se=0<=W)&&Array.prototype.splice.call(C,W,1),se&&(Ya(_),0==h.g[w].length&&(delete h.g[w],h.h--))}}function nk(h,_,w,C){for(var W=0;W<h.length;++W){var se=h[W];if(!se.da&&se.listener==_&&se.capture==!!w&&se.ha==C)return W}return-1}lc.prototype.add=function(h,_,w,C,W){var se=h.toString();(h=this.g[se])||(h=this.g[se]=[],this.h++);var Ce=nk(h,_,C,W);return-1<Ce?(_=h[Ce],w||(_.fa=!1)):((_=new is(_,this.src,se,!!C,W)).fa=w,h.push(_)),_};var ik="closure_lm_"+(1e6*Math.random()|0),rk={};function q3(h,_,w,C,W){if(C&&C.once)return W3(h,_,w,C,W);if(Array.isArray(_)){for(var se=0;se<_.length;se++)q3(h,_[se],w,C,W);return null}return w=lk(w),h&&h[di]?h.K(_,w,d(C)?!!C.capture:!!C,W):G3(h,_,w,!1,C,W)}function G3(h,_,w,C,W,se){if(!_)throw Error("Invalid event type");var Ce=d(W)?!!W.capture:!!W,hn=ok(h);if(hn||(h[ik]=hn=new lc(h)),(w=hn.add(_,w,C,Ce,se)).proxy)return w;if(C=function She(){const _=khe;return function h(w){return _.call(h.src,h.listener,w)}}(),w.proxy=C,C.src=h,C.listener=w,h.addEventListener)Pn||(W=Ce),void 0===W&&(W=!1),h.addEventListener(_.toString(),C,W);else if(h.attachEvent)h.attachEvent(Q3(_.toString()),C);else{if(!h.addListener||!h.removeListener)throw Error("addEventListener and attachEvent are unavailable.");h.addListener(C)}return w}function W3(h,_,w,C,W){if(Array.isArray(_)){for(var se=0;se<_.length;se++)W3(h,_[se],w,C,W);return null}return w=lk(w),h&&h[di]?h.L(_,w,d(C)?!!C.capture:!!C,W):G3(h,_,w,!0,C,W)}function K3(h,_,w,C,W){if(Array.isArray(_))for(var se=0;se<_.length;se++)K3(h,_[se],w,C,W);else C=d(C)?!!C.capture:!!C,w=lk(w),h&&h[di]?(h=h.i,(_=String(_).toString())in h.g&&-1<(w=nk(se=h.g[_],w,C,W))&&(Ya(se[w]),Array.prototype.splice.call(se,w,1),0==se.length&&(delete h.g[_],h.h--))):h&&(h=ok(h))&&(_=h.g[_.toString()],h=-1,_&&(h=nk(_,w,C,W)),(w=-1<h?_[h]:null)&&sk(w))}function sk(h){if("number"!=typeof h&&h&&!h.da){var _=h.src;if(_&&_[di])tk(_.i,h);else{var w=h.type,C=h.proxy;_.removeEventListener?_.removeEventListener(w,C,h.capture):_.detachEvent?_.detachEvent(Q3(w),C):_.addListener&&_.removeListener&&_.removeListener(C),(w=ok(_))?(tk(w,h),0==w.h&&(w.src=null,_[ik]=null)):Ya(h)}}}function Q3(h){return h in rk?rk[h]:rk[h]="on"+h}function khe(h,_){if(h.da)h=!0;else{_=new ac(_,this);var w=h.listener,C=h.ha||h.src;h.fa&&sk(h),h=w.call(C,_)}return h}function ok(h){return(h=h[ik])instanceof lc?h:null}var ak="__closure_events_fn_"+(1e9*Math.random()>>>0);function lk(h){return"function"==typeof h?h:(h[ak]||(h[ak]=function(_){return h.handleEvent(_)}),h[ak])}function Ir(){ci.call(this),this.i=new lc(this),this.M=this,this.F=null}function zr(h,_){var w,C=h.F;if(C)for(w=[];C;C=C.F)w.push(C);if(h=h.M,C=_.type||_,"string"==typeof _)_=new Mn(_,h);else if(_ instanceof Mn)_.target=_.target||h;else{var W=_;B(_=new Mn(C,h),W)}if(W=!0,w)for(var se=w.length-1;0<=se;se--){var Ce=_.g=w[se];W=S0(Ce,C,!0,_)&&W}if(W=S0(Ce=_.g=h,C,!0,_)&&W,W=S0(Ce,C,!1,_)&&W,w)for(se=0;se<w.length;se++)W=S0(Ce=_.g=w[se],C,!1,_)&&W}function S0(h,_,w,C){if(!(_=h.i.g[String(_)]))return!0;_=_.concat();for(var W=!0,se=0;se<_.length;++se){var Ce=_[se];if(Ce&&!Ce.da&&Ce.capture==w){var hn=Ce.listener,ir=Ce.ha||Ce.src;Ce.fa&&tk(h.i,Ce),W=!1!==hn.call(ir,C)&&W}}return W&&!C.defaultPrevented}function Y3(h,_,w){if("function"==typeof h)w&&(h=y(h,w));else{if(!h||"function"!=typeof h.handleEvent)throw Error("Invalid listener argument");h=y(h.handleEvent,h)}return 2147483647<Number(_)?-1:a.setTimeout(h,_||0)}function X3(h){h.g=Y3(()=>{h.g=null,h.i&&(h.i=!1,X3(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}I(Ir,ci),Ir.prototype[di]=!0,Ir.prototype.removeEventListener=function(h,_,w,C){K3(this,h,_,w,C)},Ir.prototype.N=function(){if(Ir.aa.N.call(this),this.i){var _,h=this.i;for(_ in h.g){for(var w=h.g[_],C=0;C<w.length;C++)Ya(w[C]);delete h.g[_],h.h--}}this.F=null},Ir.prototype.K=function(h,_,w,C){return this.i.add(String(h),_,!1,w,C)},Ir.prototype.L=function(h,_,w,C){return this.i.add(String(h),_,!0,w,C)};class Rhe extends ci{constructor(_,w){super(),this.m=_,this.l=w,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:X3(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function u_(h){ci.call(this),this.h=h,this.g={}}I(u_,ci);var Z3=[];function J3(h){Se(h.g,function(_,w){this.g.hasOwnProperty(w)&&sk(_)},h),h.g={}}u_.prototype.N=function(){u_.aa.N.call(this),J3(this)},u_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ck=a.JSON.stringify,Mhe=a.JSON.parse,Phe=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function dk(){}function tH(){}dk.prototype.h=null;var h_={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function uk(){Mn.call(this,"d")}function hk(){Mn.call(this,"c")}I(uk,Mn),I(hk,Mn);var $d={},nH=null;function k0(){return nH=nH||new Ir}function iH(h){Mn.call(this,$d.La,h)}function f_(h){const _=k0();zr(_,new iH(_))}function rH(h,_){Mn.call(this,$d.STAT_EVENT,h),this.stat=_}function Hr(h){const _=k0();zr(_,new rH(_,h))}function sH(h,_){Mn.call(this,$d.Ma,h),this.size=_}function m_(h,_){if("function"!=typeof h)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},_)}function p_(){this.g=!0}function Pf(h,_,w,C){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+function Lhe(h,_){if(!h.g)return _;if(!_)return null;try{var w=JSON.parse(_);if(w)for(h=0;h<w.length;h++)if(Array.isArray(w[h])){var C=w[h];if(!(2>C.length)){var W=C[1];if(Array.isArray(W)&&!(1>W.length)){var se=W[0];if("noop"!=se&&"stop"!=se&&"close"!=se)for(var Ce=1;Ce<W.length;Ce++)W[Ce]=""}}}return ck(w)}catch{return _}}(h,w)+(C?" "+C:"")})}$d.La="serverreachability",I(iH,Mn),$d.STAT_EVENT="statevent",I(rH,Mn),$d.Ma="timingevent",I(sH,Mn),p_.prototype.xa=function(){this.g=!1},p_.prototype.info=function(){};var fk,R0={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oH={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function M0(){}function cc(h,_,w,C){this.j=h,this.i=_,this.l=w,this.R=C||1,this.U=new u_(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new aH}function aH(){this.i=null,this.g="",this.h=!1}I(M0,dk),M0.prototype.g=function(){return new XMLHttpRequest},M0.prototype.i=function(){return{}},fk=new M0;var lH={},mk={};function pk(h,_,w){h.L=1,h.v=F0(Xa(_)),h.m=w,h.P=!0,cH(h,null)}function cH(h,_){h.F=Date.now(),P0(h),h.A=Xa(h.v);var w=h.A,C=h.R;Array.isArray(C)||(C=[String(C)]),IH(w.i,"t",C),h.C=0,w=h.j.J,h.h=new aH,h.g=jH(h.j,w?_:null,!h.m),0<h.O&&(h.M=new Rhe(y(h.Y,h,h.g),h.O)),_=h.U,w=h.g,C=h.ca;var W="readystatechange";Array.isArray(W)||(W&&(Z3[0]=W.toString()),W=Z3);for(var se=0;se<W.length;se++){var Ce=q3(w,W[se],C||_.handleEvent,!1,_.h||_);if(!Ce)break;_.g[Ce.key]=Ce}_=h.H?D(h.H):{},h.m?(h.u||(h.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,_)):(h.u="GET",h.g.ea(h.A,h.u,null,_)),f_(),function Ohe(h,_,w,C,W,se){h.info(function(){if(h.g)if(se)for(var Ce="",hn=se.split("&"),ir=0;ir<hn.length;ir++){var Gt=hn[ir].split("=");if(1<Gt.length){var xr=Gt[0];Gt=Gt[1];var Cr=xr.split("_");Ce=2<=Cr.length&&"type"==Cr[1]?Ce+(xr+"=")+Gt+"&":Ce+(xr+"=redacted&")}}else Ce=null;else Ce=se;return"XMLHTTP REQ ("+C+") [attempt "+W+"]: "+_+"\n"+w+"\n"+Ce})}(h.i,h.u,h.A,h.l,h.R,h.m)}function dH(h){return!!h.g&&"GET"==h.u&&2!=h.L&&h.j.Ca}function Vhe(h,_){var w=h.C,C=_.indexOf("\n",w);return-1==C?mk:(w=Number(_.substring(w,C)),isNaN(w)?lH:(C+=1)+w>_.length?mk:(_=_.slice(C,C+w),h.C=C+w,_))}function P0(h){h.S=Date.now()+h.I,uH(h,h.I)}function uH(h,_){if(null!=h.B)throw Error("WatchDog timer not null");h.B=m_(y(h.ba,h),_)}function gk(h){h.B&&(a.clearTimeout(h.B),h.B=null)}function g_(h){0==h.j.G||h.J||LH(h.j,h)}function qd(h){gk(h);var _=h.M;_&&"function"==typeof _.ma&&_.ma(),h.M=null,J3(h.U),h.g&&(_=h.g,h.g=null,_.abort(),_.ma())}function _k(h,_){try{var w=h.j;if(0!=w.G&&(w.g==h||yk(w.h,h)))if(!h.K&&yk(w.h,h)&&3==w.G){try{var C=w.Da.g.parse(_)}catch{C=null}if(Array.isArray(C)&&3==C.length){var W=C;if(0==W[0]){e:if(!w.u){if(w.g){if(!(w.g.F+3e3<h.F))break e;j0(w),B0(w)}Ek(w),Hr(18)}}else w.za=W[1],0<w.za-w.T&&37500>W[2]&&w.F&&0==w.v&&!w.C&&(w.C=m_(y(w.Za,w),6e3));if(1>=mH(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Wd(w,11)}else if((h.K||w.g==h)&&j0(w),!M(_))for(W=w.Da.g.parse(_),_=0;_<W.length;_++){let Gt=W[_];if(w.T=Gt[0],Gt=Gt[1],2==w.G)if("c"==Gt[0]){w.K=Gt[1],w.ia=Gt[2];const xr=Gt[3];null!=xr&&(w.la=xr,w.j.info("VER="+w.la));const Cr=Gt[4];null!=Cr&&(w.Aa=Cr,w.j.info("SVER="+w.Aa));const Ff=Gt[5];null!=Ff&&"number"==typeof Ff&&0<Ff&&(w.L=C=1.5*Ff,w.j.info("backChannelRequestTimeoutMs_="+C)),C=w;const ho=h.g;if(ho){const H0=ho.g?ho.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(H0){var se=C.h;se.g||-1==H0.indexOf("spdy")&&-1==H0.indexOf("quic")&&-1==H0.indexOf("h2")||(se.j=se.l,se.g=new Set,se.h&&(vk(se,se.h),se.h=null))}if(C.D){const xk=ho.g?ho.g.getResponseHeader("X-HTTP-Session-Id"):null;xk&&(C.ya=xk,On(C.I,C.D,xk))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-h.F,w.j.info("Handshake RTT: "+w.R+"ms"));var Ce=h;if((C=w).qa=UH(C,C.J?C.ia:null,C.W),Ce.K){pH(C.h,Ce);var hn=Ce,ir=C.L;ir&&(hn.I=ir),hn.B&&(gk(hn),P0(hn)),C.g=Ce}else NH(C);0<w.i.length&&U0(w)}else"stop"!=Gt[0]&&"close"!=Gt[0]||Wd(w,7);else 3==w.G&&("stop"==Gt[0]||"close"==Gt[0]?"stop"==Gt[0]?Wd(w,7):wk(w):"noop"!=Gt[0]&&w.l&&w.l.ta(Gt),w.v=0)}f_()}catch{}}function hH(h){this.l=h||10,h=a.PerformanceNavigationTiming?0<(h=a.performance.getEntriesByType("navigation")).length&&("hq"==h[0].nextHopProtocol||"h2"==h[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fH(h){return!!h.h||!!h.g&&h.g.size>=h.j}function mH(h){return h.h?1:h.g?h.g.size:0}function yk(h,_){return h.h?h.h==_:!!h.g&&h.g.has(_)}function vk(h,_){h.g?h.g.add(_):h.h=_}function pH(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}function gH(h){if(null!=h.h)return h.i.concat(h.h.D);if(null!=h.g&&0!==h.g.size){let _=h.i;for(const w of h.g.values())_=_.concat(w.D);return _}return x(h.i)}function _H(h,_){if(h.forEach&&"function"==typeof h.forEach)h.forEach(_,void 0);else if(l(h)||"string"==typeof h)Array.prototype.forEach.call(h,_,void 0);else for(var w=function jhe(h){if(h.na&&"function"==typeof h.na)return h.na();if(!h.V||"function"!=typeof h.V){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||"string"==typeof h){var _=[];h=h.length;for(var w=0;w<h;w++)_.push(w);return _}_=[],w=0;for(const C in h)_[w++]=C;return _}}}(h),C=function Uhe(h){if(h.V&&"function"==typeof h.V)return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if("string"==typeof h)return h.split("");if(l(h)){for(var _=[],w=h.length,C=0;C<w;C++)_.push(h[C]);return _}for(C in _=[],w=0,h)_[w++]=h[C];return _}(h),W=C.length,se=0;se<W;se++)_.call(void 0,C[se],w&&w[se],h)}cc.prototype.ca=function(h){h=h.target;const _=this.M;_&&3==Za(h)?_.j():this.Y(h)},cc.prototype.Y=function(h){try{if(h==this.g)e:{const Cr=Za(this.g);var _=this.g.Ba();if(this.g.Z(),!(3>Cr)&&(3!=Cr||this.g&&(this.h.h||this.g.oa()||kH(this.g)))){this.J||4!=Cr||7==_||f_(),gk(this);var w=this.g.Z();this.X=w;t:if(dH(this)){var C=kH(this.g);h="";var W=C.length,se=4==Za(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){qd(this),g_(this);var Ce="";break t}this.h.i=new a.TextDecoder}for(_=0;_<W;_++)this.h.h=!0,h+=this.h.i.decode(C[_],{stream:!(se&&_==W-1)});C.length=0,this.h.g+=h,this.C=0,Ce=this.h.g}else Ce=this.g.oa();if(this.o=200==w,function Nhe(h,_,w,C,W,se,Ce){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+W+"]: "+_+"\n"+w+"\n"+se+" "+Ce})}(this.i,this.u,this.A,this.l,this.R,Cr,w),this.o){if(this.T&&!this.K){t:{if(this.g){var hn,ir=this.g;if((hn=ir.g?ir.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(hn)){var Gt=hn;break t}}Gt=null}if(!(w=Gt)){this.o=!1,this.s=3,Hr(12),qd(this),g_(this);break e}Pf(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_k(this,w)}if(this.P){let ho;for(w=!0;!this.J&&this.C<Ce.length;){if(ho=Vhe(this,Ce),ho==mk){4==Cr&&(this.s=4,Hr(14),w=!1),Pf(this.i,this.l,null,"[Incomplete Response]");break}if(ho==lH){this.s=4,Hr(15),Pf(this.i,this.l,Ce,"[Invalid Chunk]"),w=!1;break}Pf(this.i,this.l,ho,null),_k(this,ho)}if(dH(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Cr||0!=Ce.length||this.h.h||(this.s=1,Hr(16),w=!1),this.o=this.o&&w,w){if(0<Ce.length&&!this.W){this.W=!0;var xr=this.j;xr.g==this&&xr.ba&&!xr.M&&(xr.j.info("Great, no buffering proxy detected. Bytes received: "+Ce.length),Ik(xr),xr.M=!0,Hr(11))}}else Pf(this.i,this.l,Ce,"[Invalid Chunked Response]"),qd(this),g_(this)}else Pf(this.i,this.l,Ce,null),_k(this,Ce);4==Cr&&qd(this),this.o&&!this.J&&(4==Cr?LH(this.j,this):(this.o=!1,P0(this)))}else(function tfe(h){const _={};h=(h.g&&2<=Za(h)&&h.g.getAllResponseHeaders()||"").split("\r\n");for(let C=0;C<h.length;C++){if(M(h[C]))continue;var w=G(h[C]);const W=w[0];if("string"!=typeof(w=w[1]))continue;w=w.trim();const se=_[W]||[];_[W]=se,se.push(w)}!function N(h,_){for(const w in h)_.call(void 0,h[w],w,h)}(_,function(C){return C.join(", ")})})(this.g),400==w&&0<Ce.indexOf("Unknown SID")?(this.s=3,Hr(12)):(this.s=0,Hr(13)),qd(this),g_(this)}}}catch{}},cc.prototype.cancel=function(){this.J=!0,qd(this)},cc.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(function Fhe(h,_){h.info(function(){return"TIMEOUT: "+_})}(this.i,this.A),2!=this.L&&(f_(),Hr(17)),qd(this),this.s=2,g_(this)):uH(this,this.S-h)},hH.prototype.cancel=function(){if(this.i=gH(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const h of this.g.values())h.cancel();this.g.clear()}};var yH=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gd(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Gd){this.h=h.h,O0(this,h.j),this.o=h.o,this.g=h.g,N0(this,h.s),this.l=h.l;var _=h.i,w=new v_;w.i=_.i,_.g&&(w.g=new Map(_.g),w.h=_.h),vH(this,w),this.m=h.m}else h&&(_=String(h).match(yH))?(this.h=!1,O0(this,_[1]||"",!0),this.o=__(_[2]||""),this.g=__(_[3]||"",!0),N0(this,_[4]),this.l=__(_[5]||"",!0),vH(this,_[6]||"",!0),this.m=__(_[7]||"")):(this.h=!1,this.i=new v_(null,this.h))}function Xa(h){return new Gd(h)}function O0(h,_,w){h.j=w?__(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function N0(h,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);h.s=_}else h.s=null}function vH(h,_,w){_ instanceof v_?(h.i=_,function Khe(h,_){_&&!h.j&&(dc(h),h.i=null,h.g.forEach(function(w,C){var W=C.toLowerCase();C!=W&&(wH(this,C),IH(this,W,w))},h)),h.j=_}(h.i,h.h)):(w||(_=y_(_,Ghe)),h.i=new v_(_,h.h))}function On(h,_,w){h.i.set(_,w)}function F0(h){return On(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function __(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function y_(h,_,w){return"string"==typeof h?(h=encodeURI(h).replace(_,Hhe),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Hhe(h){return"%"+((h=h.charCodeAt(0))>>4&15).toString(16)+(15&h).toString(16)}Gd.prototype.toString=function(){var h=[],_=this.j;_&&h.push(y_(_,bH,!0),":");var w=this.g;return(w||"file"==_)&&(h.push("//"),(_=this.o)&&h.push(y_(_,bH,!0),"@"),h.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(w=this.s)&&h.push(":",String(w))),(w=this.l)&&(this.g&&"/"!=w.charAt(0)&&h.push("/"),h.push(y_(w,"/"==w.charAt(0)?qhe:$he,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",y_(w,Whe)),h.join("")};var h,bH=/[#\/\?@]/g,$he=/[#\?:]/g,qhe=/[#\?]/g,Ghe=/[#\?@]/g,Whe=/#/g;function v_(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function dc(h){h.g||(h.g=new Map,h.h=0,h.i&&function zhe(h,_){if(h){h=h.split("&");for(var w=0;w<h.length;w++){var C=h[w].indexOf("="),W=null;if(0<=C){var se=h[w].substring(0,C);W=h[w].substring(C+1)}else se=h[w];_(se,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}(h.i,function(_,w){h.add(decodeURIComponent(_.replace(/\+/g," ")),w)}))}function wH(h,_){dc(h),_=Of(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function EH(h,_){return dc(h),_=Of(h,_),h.g.has(_)}function IH(h,_,w){wH(h,_),0<w.length&&(h.i=null,h.g.set(Of(h,_),x(w)),h.h+=w.length)}function Of(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function uc(h,_,w,C,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),C(w)}catch{}}function Xhe(){this.g=new Phe}function Zhe(h,_,w){const C=w||"";try{_H(h,function(W,se){let Ce=W;d(W)&&(Ce=ck(W)),_.push(C+se+"="+encodeURIComponent(Ce))})}catch(W){throw _.push(C+"type="+encodeURIComponent("_badmap")),W}}function b_(h){this.l=h.Ub||null,this.j=h.eb||!1}function L0(h,_){Ir.call(this),this.D=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function xH(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}function w_(h){h.readyState=4,h.l=null,h.j=null,h.v=null,E_(h)}function E_(h){h.onreadystatechange&&h.onreadystatechange.call(h)}function CH(h){let _="";return Se(h,function(w,C){_+=C,_+=":",_+=w,_+="\r\n"}),_}function bk(h,_,w){e:{for(C in w){var C=!1;break e}C=!0}C||(w=CH(w),"string"==typeof h?null!=w&&encodeURIComponent(String(w)):On(h,_,w))}function ui(h){Ir.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=v_.prototype).add=function(h,_){dc(this),this.i=null,h=Of(this,h);var w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(_),this.h+=1,this},n.forEach=function(h,_){dc(this),this.g.forEach(function(w,C){w.forEach(function(W){h.call(_,W,C,this)},this)},this)},n.na=function(){dc(this);const h=Array.from(this.g.values()),_=Array.from(this.g.keys()),w=[];for(let C=0;C<_.length;C++){const W=h[C];for(let se=0;se<W.length;se++)w.push(_[C])}return w},n.V=function(h){dc(this);let _=[];if("string"==typeof h)EH(this,h)&&(_=_.concat(this.g.get(Of(this,h))));else{h=Array.from(this.g.values());for(let w=0;w<h.length;w++)_=_.concat(h[w])}return _},n.set=function(h,_){return dc(this),this.i=null,EH(this,h=Of(this,h))&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},n.get=function(h,_){return h&&0<(h=this.V(h)).length?String(h[0]):_},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(var w=0;w<_.length;w++){var C=_[w];const se=encodeURIComponent(String(C)),Ce=this.V(C);for(C=0;C<Ce.length;C++){var W=se;""!==Ce[C]&&(W+="="+encodeURIComponent(String(Ce[C]))),h.push(W)}}return this.i=h.join("&")},I(b_,dk),b_.prototype.g=function(){return new L0(this.l,this.j)},b_.prototype.i=(h={},function(){return h}),I(L0,Ir),(n=L0.prototype).open=function(h,_){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=_,this.readyState=1,E_(this)},n.send=function(h){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(_.body=h),(this.D||a).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,w_(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,E_(this)),this.g&&(this.readyState=3,E_(this),this.g)))if("arraybuffer"===this.responseType)h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xH(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?w_(this):E_(this),3==this.readyState&&xH(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,w_(this))},n.Qa=function(h){this.g&&(this.response=h,w_(this))},n.ga=function(){this.g&&w_(this)},n.setRequestHeader=function(h,_){this.u.append(h,_)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var w=_.next();!w.done;)h.push((w=w.value)[0]+": "+w[1]),w=_.next();return h.join("\r\n")},Object.defineProperty(L0.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(h){this.m=h?"include":"same-origin"}}),I(ui,Ir);var Jhe=/^https?$/i,efe=["POST","PUT"];function TH(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.m=5,AH(h),V0(h)}function AH(h){h.A||(h.A=!0,zr(h,"complete"),zr(h,"error"))}function DH(h){if(h.h&&typeof o<"u"&&(!h.v[1]||4!=Za(h)||2!=h.Z()))if(h.u&&4==Za(h))Y3(h.Ea,0,h);else if(zr(h,"readystatechange"),4==Za(h)){h.h=!1;try{const Ce=h.Z();e:switch(Ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var w;if(!(w=_)){var C;if(C=0===Ce){var W=String(h.D).match(yH)[1]||null;!W&&a.self&&a.self.location&&(W=a.self.location.protocol.slice(0,-1)),C=!Jhe.test(W?W.toLowerCase():"")}w=C}if(w)zr(h,"complete"),zr(h,"success");else{h.m=6;try{var se=2<Za(h)?h.g.statusText:""}catch{se=""}h.l=se+" ["+h.Z()+"]",AH(h)}}finally{V0(h)}}}function V0(h,_){if(h.g){SH(h);const w=h.g,C=h.v[0]?()=>{}:null;h.g=null,h.v=null,_||zr(h,"ready");try{w.onreadystatechange=C}catch{}}}function SH(h){h.I&&(a.clearTimeout(h.I),h.I=null)}function Za(h){return h.g?h.g.readyState:0}function kH(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function I_(h,_,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||_}function RH(h){this.Aa=0,this.i=[],this.j=new p_,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=I_("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=I_("baseRetryDelayMs",5e3,h),this.cb=I_("retryDelaySeedMs",1e4,h),this.Wa=I_("forwardChannelMaxRetries",2,h),this.wa=I_("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new hH(h&&h.concurrentRequestLimit),this.Da=new Xhe,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function wk(h){if(MH(h),3==h.G){var _=h.U++,w=Xa(h.I);if(On(w,"SID",h.K),On(w,"RID",_),On(w,"TYPE","terminate"),x_(h,w),(_=new cc(h,h.j,_)).L=2,_.v=F0(Xa(w)),w=!1,a.navigator&&a.navigator.sendBeacon)try{w=a.navigator.sendBeacon(_.v.toString(),"")}catch{}!w&&a.Image&&((new Image).src=_.v,w=!0),w||(_.g=jH(_.j,null),_.g.ea(_.v)),_.F=Date.now(),P0(_)}BH(h)}function B0(h){h.g&&(Ik(h),h.g.cancel(),h.g=null)}function MH(h){B0(h),h.u&&(a.clearTimeout(h.u),h.u=null),j0(h),h.h.cancel(),h.s&&("number"==typeof h.s&&a.clearTimeout(h.s),h.s=null)}function U0(h){if(!fH(h.h)&&!h.s){h.s=!0;var _=h.Ga;He||yi(),We||(He(),We=!0),St.add(_,h),h.B=0}}function PH(h,_){var w;w=_?_.l:h.U++;const C=Xa(h.I);On(C,"SID",h.K),On(C,"RID",w),On(C,"AID",h.T),x_(h,C),h.m&&h.o&&bk(C,h.m,h.o),w=new cc(h,h.j,w,h.B+1),null===h.m&&(w.H=h.o),_&&(h.i=_.D.concat(h.i)),_=OH(h,w,1e3),w.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),vk(h.h,w),pk(w,C,_)}function x_(h,_){h.H&&Se(h.H,function(w,C){On(_,C,w)}),h.l&&_H({},function(w,C){On(_,C,w)})}function OH(h,_,w){w=Math.min(h.i.length,w);var C=h.l?y(h.l.Na,h.l,h):null;e:{var W=h.i;let se=-1;for(;;){const Ce=["count="+w];-1==se?0<w?(se=W[0].g,Ce.push("ofs="+se)):se=0:Ce.push("ofs="+se);let hn=!0;for(let ir=0;ir<w;ir++){let Gt=W[ir].g;const xr=W[ir].map;if(Gt-=se,0>Gt)se=Math.max(0,W[ir].g-100),hn=!1;else try{Zhe(xr,Ce,"req"+Gt+"_")}catch{C&&C(xr)}}if(hn){C=Ce.join("&");break e}}}return h=h.i.splice(0,w),_.D=h,C}function NH(h){if(!h.g&&!h.u){h.Y=1;var _=h.Fa;He||yi(),We||(He(),We=!0),St.add(_,h),h.v=0}}function Ek(h){return!(h.g||h.u||3<=h.v||(h.Y++,h.u=m_(y(h.Fa,h),VH(h,h.v)),h.v++,0))}function Ik(h){null!=h.A&&(a.clearTimeout(h.A),h.A=null)}function FH(h){h.g=new cc(h,h.j,"rpc",h.Y),null===h.m&&(h.g.H=h.o),h.g.O=0;var _=Xa(h.qa);On(_,"RID","rpc"),On(_,"SID",h.K),On(_,"AID",h.T),On(_,"CI",h.F?"0":"1"),!h.F&&h.ja&&On(_,"TO",h.ja),On(_,"TYPE","xmlhttp"),x_(h,_),h.m&&h.o&&bk(_,h.m,h.o),h.L&&(h.g.I=h.L);var w=h.g;h=h.ia,w.L=1,w.v=F0(Xa(_)),w.m=null,w.P=!0,cH(w,h)}function j0(h){null!=h.C&&(a.clearTimeout(h.C),h.C=null)}function LH(h,_){var w=null;if(h.g==_){j0(h),Ik(h),h.g=null;var C=2}else{if(!yk(h.h,_))return;w=_.D,pH(h.h,_),C=1}if(0!=h.G)if(_.o)if(1==C){w=_.m?_.m.length:0,_=Date.now()-_.F;var W=h.B;zr(C=k0(),new sH(C,w)),U0(h)}else NH(h);else if(3==(W=_.s)||0==W&&0<_.X||!(1==C&&function nfe(h,_){return!(mH(h.h)>=h.h.j-(h.s?1:0)||(h.s?(h.i=_.D.concat(h.i),0):1==h.G||2==h.G||h.B>=(h.Va?0:h.Wa)||(h.s=m_(y(h.Ga,h,_),VH(h,h.B)),h.B++,0)))}(h,_)||2==C&&Ek(h)))switch(w&&0<w.length&&(_=h.h,_.i=_.i.concat(w)),W){case 1:Wd(h,5);break;case 4:Wd(h,10);break;case 3:Wd(h,6);break;default:Wd(h,2)}}function VH(h,_){let w=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(w*=2),w*_}function Wd(h,_){if(h.j.info("Error code "+_),2==_){var w=y(h.fb,h),C=h.Xa;const W=!C;C=new Gd(C||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||O0(C,"https"),F0(C),W?function Qhe(h,_){const w=new p_;if(a.Image){const C=new Image;C.onload=b(uc,w,"TestLoadImage: loaded",!0,_,C),C.onerror=b(uc,w,"TestLoadImage: error",!1,_,C),C.onabort=b(uc,w,"TestLoadImage: abort",!1,_,C),C.ontimeout=b(uc,w,"TestLoadImage: timeout",!1,_,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else _(!1)}(C.toString(),w):function Yhe(h,_){new p_;const C=new AbortController,W=setTimeout(()=>{C.abort(),uc(0,0,!1,_)},1e4);fetch(h,{signal:C.signal}).then(se=>{clearTimeout(W),uc(0,0,!!se.ok,_)}).catch(()=>{clearTimeout(W),uc(0,0,!1,_)})}(C.toString(),w)}else Hr(2);h.G=0,h.l&&h.l.sa(_),BH(h),MH(h)}function BH(h){if(h.G=0,h.ka=[],h.l){const _=gH(h.h);(0!=_.length||0!=h.i.length)&&(T(h.ka,_),T(h.ka,h.i),h.h.i.length=0,x(h.i),h.i.length=0),h.l.ra()}}function UH(h,_,w){var C=w instanceof Gd?Xa(w):new Gd(w);if(""!=C.g)_&&(C.g=_+"."+C.g),N0(C,C.s);else{var W=a.location;C=W.protocol,_=_?_+"."+W.hostname:W.hostname,W=+W.port;var se=new Gd(null);C&&O0(se,C),_&&(se.g=_),W&&N0(se,W),w&&(se.l=w),C=se}return _=h.ya,(w=h.D)&&_&&On(C,w,_),On(C,"VER",h.la),x_(h,C),C}function jH(h,_,w){if(_&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return(_=new ui(h.Ca&&!h.pa?new b_({eb:w}):h.pa)).Ha(h.J),_}function zH(){}function z0(){}function ws(h,_){Ir.call(this),this.g=new RH(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(h?h["X-WebChannel-Client-Profile"]=_.va:h={"X-WebChannel-Client-Profile":_.va}),this.g.S=h,(h=_&&_.Sb)&&!M(h)&&(this.g.m=h),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!M(_)&&(this.g.D=_,null!==(h=this.h)&&_ in h&&_ in(h=this.h)&&delete h[_]),this.j=new Nf(this)}function HH(h){uk.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const w in _){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,_=null!==_&&h in _?_[h]:void 0),this.data=_}else this.data=h}function $H(){hk.call(this),this.status=1}function Nf(h){this.g=h}(n=ui.prototype).Ha=function(h){this.J=h},n.ea=function(h,_,w,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fk.g(),this.v=function eH(h){return h.h||(h.h=h.i())}(this.o?this.o:fk),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(se){return void TH(this,se)}if(h=w||"",w=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var W in C)w.set(W,C[W]);else{if("function"!=typeof C.keys||"function"!=typeof C.get)throw Error("Unknown input type for opt_headers: "+String(C));for(const se of C.keys())w.set(se,C.get(se))}C=Array.from(w.keys()).find(se=>"content-type"==se.toLowerCase()),W=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(efe,_,void 0))||C||W||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,Ce]of w)this.g.setRequestHeader(se,Ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{SH(this),this.u=!0,this.g.send(h),this.u=!1}catch(se){TH(this,se)}},n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,zr(this,"complete"),zr(this,"abort"),V0(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),V0(this,!0)),ui.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?DH(this):this.bb())},n.bb=function(){DH(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<Za(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var _=this.g.responseText;return h&&0==_.indexOf(h)&&(_=_.substring(h.length)),Mhe(_)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=RH.prototype).la=8,n.G=1,n.connect=function(h,_,w,C){Hr(0),this.W=h,this.H=_||{},w&&void 0!==C&&(this.H.OSID=w,this.H.OAID=C),this.F=this.X,this.I=UH(this,null,this.W),U0(this)},n.Ga=function(h){if(this.s)if(this.s=null,1==this.G){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const W=new cc(this,this.j,h);let se=this.o;if(this.S&&(se?(se=D(se),B(se,this.S)):se=this.S),null!==this.m||this.O||(W.H=se,se=null),this.P)e:{for(var _=0,w=0;w<this.i.length;w++){var C=this.i[w];if(void 0===(C="__data__"in C.map&&"string"==typeof(C=C.map.__data__)?C.length:void 0))break;if(4096<(_+=C)){_=w;break e}if(4096===_||w===this.i.length-1){_=w+1;break e}}_=1e3}else _=1e3;_=OH(this,W,_),On(w=Xa(this.I),"RID",h),On(w,"CVER",22),this.D&&On(w,"X-HTTP-Session-Id",this.D),x_(this,w),se&&(this.O?_="headers="+encodeURIComponent(String(CH(se)))+"&"+_:this.m&&bk(w,this.m,se)),vk(this.h,W),this.Ua&&On(w,"TYPE","init"),this.P?(On(w,"$req",_),On(w,"SID","null"),W.T=!0,pk(W,w,null)):pk(W,w,_),this.G=2}}else 3==this.G&&(h?PH(this,h):0==this.i.length||fH(this.h)||PH(this))},n.Fa=function(){if(this.u=null,FH(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=m_(y(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Hr(10),B0(this),FH(this))},n.Za=function(){null!=this.C&&(this.C=null,B0(this),Ek(this),Hr(19))},n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Hr(2)):(this.j.info("Failed to ping google.com"),Hr(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=zH.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},z0.prototype.g=function(h,_){return new ws(h,_)},I(ws,Ir),ws.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ws.prototype.close=function(){wk(this.g)},ws.prototype.o=function(h){var _=this.g;if("string"==typeof h){var w={};w.__data__=h,h=w}else this.u&&((w={}).__data__=ck(h),h=w);_.i.push(new class{constructor(h,_){this.g=h,this.map=_}}(_.Ya++,h)),3==_.G&&U0(_)},ws.prototype.N=function(){this.g.l=null,delete this.j,wk(this.g),delete this.g,ws.aa.N.call(this)},I(HH,uk),I($H,hk),I(Nf,zH),Nf.prototype.ua=function(){zr(this.g,"a")},Nf.prototype.ta=function(h){zr(this.g,new HH(h))},Nf.prototype.sa=function(h){zr(this.g,new $H)},Nf.prototype.ra=function(){zr(this.g,"b")},z0.prototype.createWebChannel=z0.prototype.g,ws.prototype.send=ws.prototype.o,ws.prototype.open=ws.prototype.m,ws.prototype.close=ws.prototype.close,BL=Oa.createWebChannelTransport=function(){return new z0},VL=Oa.getStatEventTarget=function(){return k0()},LL=Oa.Event=$d,ZC=Oa.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},R0.NO_ERROR=0,R0.TIMEOUT=8,R0.HTTP_ERROR=6,Db=Oa.ErrorCode=R0,oH.COMPLETE="complete",FL=Oa.EventType=oH,tH.EventType=h_,h_.OPEN="a",h_.CLOSE="b",h_.ERROR="c",h_.MESSAGE="d",Ir.prototype.listen=Ir.prototype.K,Jp=Oa.WebChannel=tH,Oa.FetchXmlHttpFactory=b_,ui.prototype.listenOnce=ui.prototype.L,ui.prototype.getLastError=ui.prototype.Ka,ui.prototype.getLastErrorCode=ui.prototype.Ba,ui.prototype.getStatus=ui.prototype.Z,ui.prototype.getResponseJson=ui.prototype.Oa,ui.prototype.getResponseText=ui.prototype.oa,ui.prototype.send=ui.prototype.ea,ui.prototype.setWithCredentials=ui.prototype.Ha,NL=Oa.XhrIo=ui}).apply(typeof Ab<"u"?Ab:typeof self<"u"?self:typeof window<"u"?window:{});const UL="@firebase/firestore";class zi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zi.UNAUTHENTICATED=new zi(null),zi.GOOGLE_CREDENTIALS=new zi("google-credentials-uid"),zi.FIRST_PARTY=new zi("first-party-uid"),zi.MOCK_USER=new zi("mock-user");let Fh="10.14.0";const Nl=new Bo.Vy("@firebase/firestore");function Lh(){return Nl.logLevel}function ge(n,...e){if(Nl.logLevel<=Bo.$b.DEBUG){const t=e.map(JC);Nl.debug(`Firestore (${Fh}): ${n}`,...t)}}function gi(n,...e){if(Nl.logLevel<=Bo.$b.ERROR){const t=e.map(JC);Nl.error(`Firestore (${Fh}): ${n}`,...t)}}function ps(n,...e){if(Nl.logLevel<=Bo.$b.WARN){const t=e.map(JC);Nl.warn(`Firestore (${Fh}): ${n}`,...t)}}function JC(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ne(n="Unexpected state"){const e=`FIRESTORE (${Fh}) INTERNAL ASSERTION FAILED: `+n;throw gi(e),new Error(e)}function Be(n,e){n||Ne()}function Ie(n,e){return n}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends yt.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class jL{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oZ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(zi.UNAUTHENTICATED))}shutdown(){}}class aZ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class lZ{constructor(e){this.t=e,this.currentUser=zi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;Be(void 0===this.o);let r=this.i;const s=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let o=new Hi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Hi,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const d=o;e.enqueueRetryable((0,ae.A)(function*(){yield d.promise,yield s(i.currentUser)}))},l=d=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(d=>l(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?l(d):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Hi)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Be("string"==typeof i.accessToken),new jL(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(null===e||"string"==typeof e),new zi(e)}}class cZ{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=zi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class dZ{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new cZ(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(zi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uZ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Be(void 0===this.o);const i=s=>{null!=s.error&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ge("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Be("string"==typeof t.token),this.R=t.token,new zL(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function hZ(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class HL{static newId(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=hZ(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function at(n,e){return n<e?-1:n>e?1:0}function Vh(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function $L(n){return n+"\0"}class Bn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new me(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Bn.fromMillis(Date.now())}static fromDate(e){return Bn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Bn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ze{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ze(e)}static min(){return new ze(new Bn(0,0))}static max(){return new ze(new Bn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class eg{constructor(e,t,i){void 0===t?t=0:t>e.length&&Ne(),void 0===i?i=e.length-t:i>e.length-t&&Ne(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===eg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof eg?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),o=t.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Pt extends eg{construct(e,t,i){return new Pt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(ne.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Pt(t)}static emptyPath(){return new Pt([])}}const fZ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sn extends eg{construct(e,t,i){return new Sn(e,t,i)}static isValidIdentifier(e){return fZ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Sn(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new me(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let o=!1;for(;r<e.length;){const a=e[r];if("\\"===a){if(r+1===e.length)throw new me(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new me(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else"`"===a?(o=!o,r++):"."!==a||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new me(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sn(t)}static emptyPath(){return new Sn([])}}class De{constructor(e){this.path=e}static fromPath(e){return new De(Pt.fromString(e))}static fromName(e){return new De(Pt.fromString(e).popFirst(5))}static empty(){return new De(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Pt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Pt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new Pt(e.slice()))}}class Bh{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function eT(n){return n.fields.find(e=>2===e.kind)}function ud(n){return n.fields.filter(e=>2!==e.kind)}Bh.UNKNOWN_ID=-1;class hd{constructor(e,t){this.fieldPath=e,this.kind=t}}class Uh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Uh(0,gs.min())}}function qL(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=ze.fromTimestamp(1e9===i?new Bn(t+1,0):new Bn(t,i));return new gs(r,De.empty(),e)}function GL(n){return new gs(n.readTime,n.key,-1)}class gs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new gs(ze.min(),De.empty(),-1)}static max(){return new gs(ze.max(),De.empty(),-1)}}function tT(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=De.comparator(n.documentKey,e.documentKey),0!==t?t:at(n.largestBatchId,e.largestBatchId))}const WL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Fl(n){return nT.apply(this,arguments)}function nT(){return(nT=(0,ae.A)(function*(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==WL)throw n;ge("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):K.reject(t)}static resolve(e){return new K((t,i)=>{t(e)})}static reject(e){return new K((t,i)=>{i(e)})}static waitFor(e){return new K((t,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&t()},l=>i(l))}),o=!0,s===r&&t()})}static or(e){let t=K.resolve(!1);for(const i of e)t=t.next(r=>r?K.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new K((i,r)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const d=l;t(e[d]).next(f=>{o[d]=f,++a,a===s&&i(o)},f=>r(f))}})}static doWhile(e,t){return new K((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}class Sb{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Hi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new tg(e,t.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=iT(i.target.error);this.V.reject(new tg(e,r))}}static open(e,t,i,r){try{return new Sb(t,e.transaction(r,i))}catch(s){throw new tg(t,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ge("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new _Z(t)}}class Uo{constructor(e,t,i){this.name=e,this.version=t,this.p=i,12.2===Uo.S((0,yt.ZQ)())&&gi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ge("SimpleDb","Removing database:",e),fd(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,yt.zW)())return!1;if(Uo.v())return!0;const e=(0,yt.ZQ)(),t=Uo.S(e),i=0<t&&t<10,r=QL(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static v(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}M(e){var t=this;return(0,ae.A)(function*(){return t.db||(ge("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=o=>{i(o.target.result)},s.onblocked=()=>{r(new tg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const a=o.target.error;r("VersionError"===a.name?new me(ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new me(ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new tg(e,a))},s.onupgradeneeded=o=>{ge("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',o.oldVersion),t.p.O(o.target.result,s.transaction,o.oldVersion,t.version).next(()=>{ge("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.N&&(t.db.onversionchange=i=>t.N(i)),t.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,ae.A)(function*(){const o="readonly"===t;let a=0;for(;;){++a;try{s.db=yield s.M(e);const l=Sb.open(s.db,e,o?"readonly":"readwrite",i),d=r(l).next(f=>(l.g(),f)).catch(f=>(l.abort(f),K.reject(f))).toPromise();return d.catch(()=>{}),yield l.m,d}catch(l){const d=l,f="FirebaseError"!==d.name&&a<3;if(ge("SimpleDb","Transaction failed with error:",d.message,"Retrying:",f),s.close(),!f)return Promise.reject(d)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function QL(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class gZ{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return fd(this.B.delete())}}class tg extends me{constructor(e,t){super(ne.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ll(n){return"IndexedDbTransactionError"===n.name}class _Z{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(ge("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(ge("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),fd(i)}add(e){return ge("SimpleDb","ADD",this.store.name,e,e),fd(this.store.add(e))}get(e){return fd(this.store.get(e)).next(t=>(void 0===t&&(t=null),ge("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ge("SimpleDb","DELETE",this.store.name,e),fd(this.store.delete(e))}count(){return ge("SimpleDb","COUNT",this.store.name),fd(this.store.count())}U(e,t){const i=this.options(e,t),r=i.index?this.store.index(i.index):this.store;if("function"==typeof r.getAll){const s=r.getAll(i.range);return new K((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(i),o=[];return this.W(s,(a,l)=>{o.push(l)}).next(()=>o)}}G(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new K((r,s)=>{i.onerror=o=>{s(o.target.error)},i.onsuccess=o=>{r(o.target.result)}})}j(e,t){ge("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.H=!1;const r=this.cursor(i);return this.W(r,(s,o,a)=>a.delete())}J(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}Y(e){const t=this.cursor({});return new K((i,r)=>{t.onerror=s=>{const o=iT(s.target.error);r(o)},t.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():i()}):i()}})}W(e,t){const i=[];return new K((r,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void r();const l=new gZ(a),d=t(a.primaryKey,a.value,l);if(d instanceof K){const f=d.catch(g=>(l.done(),K.reject(g)));i.push(f)}l.isDone?r():null===l.K?a.continue():a.continue(l.K)}}).next(()=>K.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.H?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function fd(n){return new K((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=iT(i.target.error);t(r)}})}let YL=!1;function iT(n){const e=Uo.S((0,yt.ZQ)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return YL||(YL=!0,setTimeout(()=>{throw i},0)),i}}return n}class yZ{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var t=this;ge("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ae.A)(function*(){t.task=null;try{ge("IndexBackfiller",`Documents written: ${yield t.Z.ee()}`)}catch(i){Ll(i)?ge("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",i):yield Fl(i)}yield t.X(6e4)}))}}class vZ{constructor(e,t){this.localStore=e,this.persistence=t}ee(e=50){var t=this;return(0,ae.A)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.te(i,e))})()}te(e,t){const i=new Set;let r=t,s=!0;return K.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(null!==o&&!i.has(o))return ge("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,r).next(a=>{r-=a,i.add(o)});s=!1})).next(()=>t-r)}ne(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(r,s)).next(a=>(ge("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>o.size)}))}re(e,t){let i=e;return t.changes.forEach((r,s)=>{const o=GL(s);tT(o,i)>0&&(i=o)}),new gs(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let _s=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function ng(n){return null==n}function ig(n){return 0===n&&1/n==-1/0}function XL(n){return"number"==typeof n&&Number.isInteger(n)&&!ig(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function _r(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ZL(e)),e=bZ(n.get(t),e);return ZL(e)}function bZ(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function ZL(n){return n+"\x01\x01"}function jo(n){const e=n.length;if(Be(e>=2),2===e)return Be("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Pt.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const o=n.indexOf("\x01",s);switch((o<0||o>t)&&Ne(),n.charAt(o+1)){case"\x01":const a=n.substring(s,o);let l;0===r.length?l=a:(r+=a,l=r,r=""),i.push(l);break;case"\x10":r+=n.substring(s,o),r+="\0";break;case"\x11":r+=n.substring(s,o+1);break;default:Ne()}s=o+2}return new Pt(i)}const JL=["userId","batchId"];function kb(n,e){return[n,_r(e)]}function eV(n,e,t){return[n,_r(e),t]}const wZ={},EZ=["prefixPath","collectionGroup","readTime","documentId"],IZ=["prefixPath","collectionGroup","documentId"],xZ=["collectionGroup","readTime","prefixPath","documentId"],CZ=["canonicalId","targetId"],TZ=["targetId","path"],AZ=["path","targetId"],DZ=["collectionId","parent"],SZ=["indexId","uid"],kZ=["uid","sequenceNumber"],RZ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],MZ=["indexId","uid","orderedDocumentKey"],PZ=["userId","collectionPath","documentId"],OZ=["userId","collectionPath","largestBatchId"],NZ=["userId","collectionGroup","largestBatchId"],tV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],FZ=[...tV,"documentOverlays"],nV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],iV=nV,rT=[...iV,"indexConfiguration","indexState","indexEntries"],LZ=rT,VZ=[...rT,"globals"];class sT extends KL{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function Oi(n,e){const t=Ie(n);return Uo.F(t._e,e)}function rV(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Vl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function oV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class In{constructor(e,t){this.comparator=e,this.root=t||er.EMPTY}insert(e,t){return new In(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,er.BLACK,null,null))}remove(e){return new In(this.comparator,this.root.remove(e,this.comparator).copy(null,null,er.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rb(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rb(this.root,e,this.comparator,!0)}}class Rb{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class er{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??er.RED,this.left=r??er.EMPTY,this.right=s??er.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new er(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return er.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return er.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,er.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ne();const e=this.left.check();if(e!==this.right.check())throw Ne();return e+(this.isRed()?0:1)}}er.EMPTY=null,er.RED=!0,er.BLACK=!1,er.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne()}get value(){throw Ne()}get color(){throw Ne()}get left(){throw Ne()}get right(){throw Ne()}copy(e,t,i,r,s){return this}insert(e,t,i){return new er(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ln{constructor(e){this.comparator=e,this.data=new In(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new aV(this.data.getIterator())}getIteratorFrom(e){return new aV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof ln)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ln(this.comparator);return t.data=e,t}}class aV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function jh(n){return n.hasNext()?n.getNext():void 0}class ts{constructor(e){this.fields=e,e.sort(Sn.comparator)}static empty(){return new ts([])}unionWith(e){let t=new ln(Sn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new ts(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Vh(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class lV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class li{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new lV("Invalid base64 string: "+s):s}}(e);return new li(t)}static fromUint8Array(e){const t=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new li(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}li.EMPTY_BYTE_STRING=new li("");const UZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Na(n){if(Be(!!n),"string"==typeof n){let e=0;const t=UZ.exec(n);if(Be(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Un(n.seconds),nanos:Un(n.nanos)}}function Un(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Fa(n){return"string"==typeof n?li.fromBase64String(n):li.fromUint8Array(n)}function Mb(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Pb(n){const e=n.mapValue.fields.__previous_value__;return Mb(e)?Pb(e):e}function rg(n){const e=Na(n.mapValue.fields.__local_write_time__.timestampValue);return new Bn(e.seconds,e.nanos)}class jZ{constructor(e,t,i,r,s,o,a,l,d){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=d}}class Bl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Bl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Bl&&e.projectId===this.projectId&&e.database===this.database}}const Ul={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ob={nullValue:"NULL_VALUE"};function jl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Mb(n)?4:fV(n)?9007199254740991:Lb(n)?10:11:Ne()}function zo(n,e){if(n===e)return!0;const t=jl(n);if(t!==jl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return rg(n).isEqual(rg(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Na(r.timestampValue),a=Na(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,Fa(n.bytesValue).isEqual(Fa(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return Un(r.geoPointValue.latitude)===Un(s.geoPointValue.latitude)&&Un(r.geoPointValue.longitude)===Un(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Un(r.integerValue)===Un(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=Un(r.doubleValue),a=Un(s.doubleValue);return o===a?ig(o)===ig(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Vh(n.arrayValue.values||[],e.arrayValue.values||[],zo);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(rV(o)!==rV(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(void 0===a[l]||!zo(o[l],a[l])))return!1;return!0}(n,e);default:return Ne()}var s}function sg(n,e){return void 0!==(n.values||[]).find(t=>zo(t,e))}function zl(n,e){if(n===e)return 0;const t=jl(n),i=jl(e);if(t!==i)return at(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return at(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Un(s.integerValue||s.doubleValue),l=Un(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return cV(n.timestampValue,e.timestampValue);case 4:return cV(rg(n),rg(e));case 5:return at(n.stringValue,e.stringValue);case 6:return function(s,o){const a=Fa(s),l=Fa(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let d=0;d<a.length&&d<l.length;d++){const f=at(a[d],l[d]);if(0!==f)return f}return at(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=at(Un(s.latitude),Un(o.latitude));return 0!==a?a:at(Un(s.longitude),Un(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return dV(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,d,f;const b=null===(a=(s.fields||{}).value)||void 0===a?void 0:a.arrayValue,I=null===(l=(o.fields||{}).value)||void 0===l?void 0:l.arrayValue,x=at((null===(d=b?.values)||void 0===d?void 0:d.length)||0,(null===(f=I?.values)||void 0===f?void 0:f.length)||0);return 0!==x?x:dV(b,I)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===Ul.mapValue&&o===Ul.mapValue)return 0;if(s===Ul.mapValue)return 1;if(o===Ul.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),d=o.fields||{},f=Object.keys(d);l.sort(),f.sort();for(let g=0;g<l.length&&g<f.length;++g){const y=at(l[g],f[g]);if(0!==y)return y;const b=zl(a[l[g]],d[f[g]]);if(0!==b)return b}return at(l.length,f.length)}(n.mapValue,e.mapValue);default:throw Ne()}}function cV(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return at(n,e);const t=Na(n),i=Na(e),r=at(t.seconds,i.seconds);return 0!==r?r:at(t.nanos,i.nanos)}function dV(n,e){const t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){const s=zl(t[r],i[r]);if(s)return s}return at(t.length,i.length)}function zh(n){return oT(n)}function oT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Na(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Fa(n.bytesValue).toBase64():"referenceValue"in n?De.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const s of t.values||[])r?r=!1:i+=",",i+=oT(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${oT(t.fields[o])}`;return r+"}"}(n.mapValue):Ne()}function md(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function aT(n){return!!n&&"integerValue"in n}function og(n){return!!n&&"arrayValue"in n}function uV(n){return!!n&&"nullValue"in n}function hV(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Fb(n){return!!n&&"mapValue"in n}function Lb(n){var e,t;return"__vector__"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ag(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Vl(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=ag(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ag(n.arrayValue.values[t]);return e}return Object.assign({},n)}function fV(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}const mV={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function zZ(n){return"nullValue"in n?Ob:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?md(Bl.empty(),De.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Lb(n)?mV:{mapValue:{}}:Ne()}function HZ(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?md(Bl.empty(),De.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?mV:"mapValue"in n?Lb(n)?{mapValue:{}}:Ul:Ne()}function pV(n,e){const t=zl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function gV(n,e){const t=zl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class tr{constructor(e){this.value=e}static empty(){return new tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Fb(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ag(t)}setAll(e){let t=Sn.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=a.popLast()}o?i[a.lastSegment()]=ag(o):r.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());Fb(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Fb(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Vl(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new tr(ag(this.value))}}function _V(n){const e=[];return Vl(n.fields,(t,i)=>{const r=new Sn([t]);if(Fb(i)){const s=_V(i.mapValue).fields;if(0===s.length)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new ts(e)}class kn{constructor(e,t,i,r,s,o,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new kn(e,0,ze.min(),ze.min(),ze.min(),tr.empty(),0)}static newFoundDocument(e,t,i,r){return new kn(e,1,t,ze.min(),i,r,0)}static newNoDocument(e,t){return new kn(e,2,t,ze.min(),ze.min(),tr.empty(),0)}static newUnknownDocument(e,t){return new kn(e,3,t,ze.min(),ze.min(),tr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ze.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hl{constructor(e,t){this.position=e,this.inclusive=t}}function yV(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],o=n.position[r];if(i=s.field.isKeyField()?De.comparator(De.fromName(o.referenceValue),t.key):zl(o,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function vV(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!zo(n.position[t],e.position[t]))return!1;return!0}class lg{constructor(e,t="asc"){this.field=e,this.dir=t}}function $Z(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class bV{}class Ot extends bV{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new qZ(e,t,i):"array-contains"===t?new KZ(e,i):"in"===t?new TV(e,i):"not-in"===t?new QZ(e,i):"array-contains-any"===t?new YZ(e,i):new Ot(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new GZ(e,i):new WZ(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(zl(t,this.value)):null!==t&&jl(this.value)===jl(t)&&this.matchesComparison(zl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class on extends bV{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new on(e,t)}matches(e){return Hh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Hh(n){return"and"===n.op}function lT(n){return"or"===n.op}function cT(n){return wV(n)&&Hh(n)}function wV(n){for(const e of n.filters)if(e instanceof on)return!1;return!0}function dT(n){if(n instanceof Ot)return n.field.canonicalString()+n.op.toString()+zh(n.value);if(cT(n))return n.filters.map(e=>dT(e)).join(",");{const e=n.filters.map(t=>dT(t)).join(",");return`${n.op}(${e})`}}function EV(n,e){return n instanceof Ot?(i=n,(r=e)instanceof Ot&&i.op===r.op&&i.field.isEqual(r.field)&&zo(i.value,r.value)):n instanceof on?function(i,r){return r instanceof on&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((s,o,a)=>s&&EV(o,r.filters[a]),!0)}(n,e):void Ne();var i,r}function IV(n,e){const t=n.filters.concat(e);return on.create(t,n.op)}function xV(n){return n instanceof Ot?`${(t=n).field.canonicalString()} ${t.op} ${zh(t.value)}`:n instanceof on?function(t){return t.op.toString()+" {"+t.getFilters().map(xV).join(" ,")+"}"}(n):"Filter";var t}class qZ extends Ot{constructor(e,t,i){super(e,t,i),this.key=De.fromName(i.referenceValue)}matches(e){const t=De.comparator(e.key,this.key);return this.matchesComparison(t)}}class GZ extends Ot{constructor(e,t){super(e,"in",t),this.keys=CV(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class WZ extends Ot{constructor(e,t){super(e,"not-in",t),this.keys=CV(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function CV(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>De.fromName(i.referenceValue))}class KZ extends Ot{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return og(t)&&sg(t.arrayValue,this.value)}}class TV extends Ot{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&sg(this.value.arrayValue,t)}}class QZ extends Ot{constructor(e,t){super(e,"not-in",t)}matches(e){if(sg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!sg(this.value.arrayValue,t)}}class YZ extends Ot{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!og(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>sg(this.value.arrayValue,i))}}class XZ{constructor(e,t=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function uT(n,e=null,t=[],i=[],r=null,s=null,o=null){return new XZ(n,e,t,i,r,s,o)}function pd(n){const e=Ie(n);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>dT(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(s=i).field.canonicalString()+s.dir;var s}).join(","),ng(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>zh(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>zh(i)).join(",")),e.ue=t}return e.ue}function cg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!$Z(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!EV(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!vV(n.startAt,e.startAt)&&vV(n.endAt,e.endAt)}function Vb(n){return De.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Bb(n,e){return n.filters.filter(t=>t instanceof Ot&&t.field.isEqual(e))}function AV(n,e,t){let i=Ob,r=!0;for(const s of Bb(n,e)){let o=Ob,a=!0;switch(s.op){case"<":case"<=":o=zZ(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Ob}pV({value:i,inclusive:r},{value:o,inclusive:a})<0&&(i=o,r=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];pV({value:i,inclusive:r},{value:o,inclusive:t.inclusive})<0&&(i=o,r=t.inclusive);break}return{value:i,inclusive:r}}function DV(n,e,t){let i=Ul,r=!0;for(const s of Bb(n,e)){let o=Ul,a=!0;switch(s.op){case">=":case">":o=HZ(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Ul}gV({value:i,inclusive:r},{value:o,inclusive:a})>0&&(i=o,r=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];gV({value:i,inclusive:r},{value:o,inclusive:t.inclusive})>0&&(i=o,r=t.inclusive);break}return{value:i,inclusive:r}}class La{constructor(e,t=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null}}function SV(n,e,t,i,r,s,o,a){return new La(n,e,t,i,r,s,o,a)}function $h(n){return new La(n)}function kV(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function hT(n){return null!==n.collectionGroup}function qh(n){const e=Ie(n);if(null===e.ce){e.ce=[];const t=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ln(Sn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new lg(s,i))}),t.has(Sn.keyField().canonicalString())||e.ce.push(new lg(Sn.keyField(),i))}return e.ce}function yr(n){const e=Ie(n);return e.le||(e.le=function MV(n,e){if("F"===n.limitType)return uT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>new lg(r.field,"desc"===r.dir?"asc":"desc"));const t=n.endAt?new Hl(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Hl(n.startAt.position,n.startAt.inclusive):null;return uT(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}(e,qh(n))),e.le}function fT(n,e){const t=n.filters.concat([e]);return new La(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ub(n,e,t){return new La(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function dg(n,e){return cg(yr(n),yr(e))&&n.limitType===e.limitType}function PV(n){return`${pd(yr(n))}|lt:${n.limitType}`}function Gh(n){return`Query(target=${function(t){let i=t.path.canonicalString();return null!==t.collectionGroup&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>xV(r)).join(", ")}]`),ng(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>zh(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>zh(r)).join(",")),`Target(${i})`}(yr(n))}; limitType=${n.limitType})`}function ug(n,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):De.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,e)&&function(i,r){for(const s of qh(i))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(n,e)&&(r=e,!((i=n).startAt&&!function(o,a,l){const d=yV(o,a,l);return o.inclusive?d<=0:d<0}(i.startAt,qh(i),r)||i.endAt&&!function(o,a,l){const d=yV(o,a,l);return o.inclusive?d>=0:d>0}(i.endAt,qh(i),r)));var i,r}function OV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function NV(n){return(e,t)=>{let i=!1;for(const r of qh(n)){const s=ZZ(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function ZZ(n,e,t){const i=n.field.isKeyField()?De.comparator(e.key,t.key):function(s,o,a){const l=o.data.field(s),d=a.data.field(s);return null!==l&&null!==d?zl(l,d):Ne()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ne()}}class Va{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Vl(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return oV(this.inner)}size(){return this.innerSize}}const JZ=new In(De.comparator);function ns(){return JZ}const FV=new In(De.comparator);function hg(...n){let e=FV;for(const t of n)e=e.insert(t.key,t);return e}function LV(n){let e=FV;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ho(){return fg()}function VV(){return fg()}function fg(){return new Va(n=>n.toString(),(n,e)=>n.isEqual(e))}const eJ=new In(De.comparator),tJ=new ln(De.comparator);function gt(...n){let e=tJ;for(const t of n)e=e.add(t);return e}const nJ=new ln(at);function mT(){return nJ}function pT(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ig(e)?"-0":e}}function BV(n){return{integerValue:""+n}}function UV(n,e){return XL(e)?BV(e):pT(n,e)}class jb{constructor(){this._=void 0}}function iJ(n,e,t){return n instanceof Wh?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Mb(s)&&(s=Pb(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof gd?zV(n,e):n instanceof _d?HV(n,e):function(r,s){const o=jV(r,s),a=$V(o)+$V(r.Pe);return aT(o)&&aT(r.Pe)?BV(a):pT(r.serializer,a)}(n,e)}function rJ(n,e,t){return n instanceof gd?zV(n,e):n instanceof _d?HV(n,e):t}function jV(n,e){return n instanceof Kh?aT(i=e)||(s=i)&&"doubleValue"in s?e:{integerValue:0}:null;var i,s}class Wh extends jb{}class gd extends jb{constructor(e){super(),this.elements=e}}function zV(n,e){const t=qV(e);for(const i of n.elements)t.some(r=>zo(r,i))||t.push(i);return{arrayValue:{values:t}}}class _d extends jb{constructor(e){super(),this.elements=e}}function HV(n,e){let t=qV(e);for(const i of n.elements)t=t.filter(r=>!zo(r,i));return{arrayValue:{values:t}}}class Kh extends jb{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function $V(n){return Un(n.integerValue||n.doubleValue)}function qV(n){return og(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class mg{constructor(e,t){this.field=e,this.transform=t}}class oJ{constructor(e,t){this.version=e,this.transformResults=t}}class jn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new jn}static exists(e){return new jn(void 0,e)}static updateTime(e){return new jn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zb(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Hb{}function GV(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Yh(n.key,jn.none()):new Qh(n.key,n.data,jn.none());{const t=n.data,i=tr.empty();let r=new ln(Sn.comparator);for(let s of e.fields)if(!r.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?i.delete(s):i.set(s,o),r=r.add(s)}return new Ba(n.key,i,new ts(r.toArray()),jn.none())}}function aJ(n,e,t){n instanceof Qh?function(r,s,o){const a=r.value.clone(),l=QV(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Ba?function(r,s,o){if(!zb(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=QV(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(KV(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function pg(n,e,t,i){return n instanceof Qh?function(s,o,a,l){if(!zb(s.precondition,o))return a;const d=s.value.clone(),f=YV(s.fieldTransforms,l,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ba?function(s,o,a,l){if(!zb(s.precondition,o))return a;const d=YV(s.fieldTransforms,l,o),f=o.data;return f.setAll(KV(s)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(n,e,t,i):(a=t,zb(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function lJ(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=jV(i.transform,r||null);null!=s&&(null===t&&(t=tr.empty()),t.set(i.field,s))}return t||null}function WV(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&Vh(i,r,(s,o)=>function sJ(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(i=n.transform)instanceof gd&&r instanceof gd||i instanceof _d&&r instanceof _d?Vh(i.elements,r.elements,zo):i instanceof Kh&&r instanceof Kh?zo(i.Pe,r.Pe):i instanceof Wh&&r instanceof Wh);var i,r}(s,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var i,r}class Qh extends Hb{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ba extends Hb{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function KV(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function QV(n,e,t){const i=new Map;Be(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,rJ(o,a,t[r]))}return i}function YV(n,e,t){const i=new Map;for(const r of n){const s=r.transform,o=t.data.field(r.field);i.set(r.field,iJ(s,o,e))}return i}class Yh extends Hb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gT extends Hb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _T{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&aJ(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=pg(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=pg(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=VV();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(r.key)?null:a;const l=GV(o,a);null!==l&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(ze.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),gt())}isEqual(e){return this.batchId===e.batchId&&Vh(this.mutations,e.mutations,(t,i)=>WV(t,i))&&Vh(this.baseMutations,e.baseMutations,(t,i)=>WV(t,i))}}class yT{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Be(e.mutations.length===i.length);let r=eJ;const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new yT(e,t,i,r)}}class vT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class cJ{constructor(e,t){this.count=e,this.unchangedNames=t}}var xi,jt;function ZV(n){switch(n){default:return Ne();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0}}function JV(n){if(void 0===n)return gi("GRPC error has no .code"),ne.UNKNOWN;switch(n){case xi.OK:return ne.OK;case xi.CANCELLED:return ne.CANCELLED;case xi.UNKNOWN:return ne.UNKNOWN;case xi.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case xi.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case xi.INTERNAL:return ne.INTERNAL;case xi.UNAVAILABLE:return ne.UNAVAILABLE;case xi.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case xi.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case xi.NOT_FOUND:return ne.NOT_FOUND;case xi.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case xi.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case xi.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case xi.ABORTED:return ne.ABORTED;case xi.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case xi.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case xi.DATA_LOSS:return ne.DATA_LOSS;default:return Ne()}}(jt=xi||(xi={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function e2(){return new TextEncoder}const dJ=new dd([4294967295,4294967295],0);function t2(n){const e=e2().encode(n),t=new OL;return t.update(e),new Uint8Array(t.digest())}function n2(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new dd([t,i],0),new dd([r,s],0)]}class bT{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new gg(`Invalid padding: ${t}`);if(i<0)throw new gg(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new gg(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new gg(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=dd.fromNumber(this.Ie)}Ee(e,t,i){let r=e.add(t.multiply(dd.fromNumber(i)));return 1===r.compare(dJ)&&(r=new dd([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=t2(e),[i,r]=n2(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new bT(s,r,t);return i.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Ie)return;const t=t2(e),[i,r]=n2(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class gg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _g{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,yg.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new _g(ze.min(),r,new In(at),ns(),gt())}}class yg{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new yg(i,t,gt(),gt(),gt())}}class qb{constructor(e,t,i,r){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=r}}class r2{constructor(e,t){this.targetId=e,this.me=t}}class s2{constructor(e,t,i=li.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class o2{constructor(){this.fe=0,this.ge=l2(),this.pe=li.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=gt(),t=gt(),i=gt();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Ne()}}),new yg(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=l2()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class uJ{constructor(e){this.Le=e,this.Be=new Map,this.ke=ns(),this.qe=a2(),this.Qe=new In(at)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:Ne()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,r)=>{this.ze(r)&&t(r)})}He(e){const t=e.targetId,i=e.me.count,r=this.Je(t);if(r){const s=r.target;if(Vb(s))if(0===i){const o=new De(s.path);this.Ue(t,o,kn.newNoDocument(o,ze.min()))}else Be(1===i);else{const o=this.Ye(t);if(o!==i){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;0!==l&&(this.je(t),this.Qe=this.Qe.insert(t,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=t;let o,a;try{o=Fa(i).toUint8Array()}catch(l){if(l instanceof lV)return ps("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new bT(o,r,s)}catch(l){return ps(l instanceof gg?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Ie?null:a}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let r=0;return i.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),r++)}),r}rt(e){const t=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Vb(a.target)){const l=new De(a.target.path);null!==this.ke.get(l)||this.it(o,l)||this.Ue(o,l,kn.newNoDocument(l,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let i=gt();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const d=this.Je(l);return!d||"TargetPurposeLimboResolution"===d.purpose||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const r=new _g(e,t,this.Qe,this.ke,i);return this.ke=ns(),this.qe=a2(),this.Qe=new In(at),r}$e(e,t){if(!this.ze(e))return;const i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new o2,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new ln(at),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||ge("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new o2),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function a2(){return new In(De.comparator)}function l2(){return new In(De.comparator)}const hJ={asc:"ASCENDING",desc:"DESCENDING"},fJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mJ={and:"AND",or:"OR"};class pJ{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function wT(n,e){return n.useProto3Json||ng(e)?e:{value:e}}function Xh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function c2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function gJ(n,e){return Xh(n,e.toTimestamp())}function _i(n){return Be(!!n),ze.fromTimestamp(function(t){const i=Na(t);return new Bn(i.seconds,i.nanos)}(n))}function ET(n,e){return IT(n,e).canonicalString()}function IT(n,e){const t=(r=n,new Pt(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===e?t:t.child(e)}function d2(n){const e=Pt.fromString(n);return Be(w2(e)),e}function vg(n,e){return ET(n.databaseId,e.path)}function $o(n,e){const t=d2(e);if(t.get(1)!==n.databaseId.projectId)throw new me(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new De(f2(t))}function u2(n,e){return ET(n.databaseId,e)}function h2(n){const e=d2(n);return 4===e.length?Pt.emptyPath():f2(e)}function xT(n){return new Pt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function f2(n){return Be(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function m2(n,e,t){return{name:vg(n,e),fields:t.value.mapValue.fields}}function p2(n,e,t){const i=$o(n,e.name),r=_i(e.updateTime),s=e.createTime?_i(e.createTime):ze.min(),o=new tr({mapValue:{fields:e.fields}}),a=kn.newFoundDocument(i,r,s,o);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function bg(n,e){let t;if(e instanceof Qh)t={update:m2(n,e.key,e.value)};else if(e instanceof Yh)t={delete:vg(n,e.key)};else if(e instanceof Ba)t={update:m2(n,e.key,e.data),updateMask:xJ(e.fieldMask)};else{if(!(e instanceof gT))return Ne();t={verify:vg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof Wh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof gd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof _d)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Kh)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Ne()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:gJ(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Ne()),t;var s}function CT(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?jn.updateTime(_i(s.updateTime)):void 0!==s.exists?jn.exists(s.exists):jn.none():jn.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(o,a){let l=null;"setToServerValue"in a?(Be("REQUEST_TIME"===a.setToServerValue),l=new Wh):"appendMissingElements"in a?l=new gd(a.appendMissingElements.values||[]):"removeAllFromArray"in a?l=new _d(a.removeAllFromArray.values||[]):"increment"in a?l=new Kh(o,a.increment):Ne();const d=Sn.fromServerFormat(a.fieldPath);return new mg(d,l)}(n,r)):[];var s;if(e.update){const r=$o(n,e.update.name),s=new tr({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=new ts((e.updateMask.fieldPaths||[]).map(f=>Sn.fromServerFormat(f)));return new Ba(r,s,o,t,i)}return new Qh(r,s,t,i)}if(e.delete){const r=$o(n,e.delete);return new Yh(r,t)}if(e.verify){const r=$o(n,e.verify);return new gT(r,t)}return Ne()}function g2(n,e){return{documents:[u2(n,e.path)]}}function Gb(n,e){const t={structuredQuery:{}},i=e.path;let r;null!==e.collectionGroup?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=u2(n,r);const s=function(d){if(0!==d.length)return b2(on.create(d,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(d){if(0!==d.length)return d.map(f=>{return{field:$l((y=f).field),direction:wJ(y.dir)};var y})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=wT(n,e.limit);return null!==a&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt={before:(d=e.startAt).inclusive,values:d.position}),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:t,parent:r};var d}function y2(n){let e=h2(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Be(1===i);const f=t.from[0];f.allDescendants?r=f.collectionId:e=e.child(f.collectionId)}let s=[];t.where&&(s=function(g){const y=v2(g);return y instanceof on&&cT(y)?y.getFilters():[y]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(y=>{return new lg(Zh((I=y).field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let a=null;t.limit&&(a=function(g){let y;return y="object"==typeof g?g.value:g,ng(y)?null:y}(t.limit));let l=null;var g;t.startAt&&(l=new Hl((g=t.startAt).values||[],!!g.before));let d=null;return t.endAt&&(d=function(g){return new Hl(g.values||[],!g.before)}(t.endAt)),SV(e,r,o,s,a,"F",l,d)}function v2(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Zh(t.unaryFilter.field);return Ot.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Zh(t.unaryFilter.field);return Ot.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Zh(t.unaryFilter.field);return Ot.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Zh(t.unaryFilter.field);return Ot.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ne()}}(n):void 0!==n.fieldFilter?Ot.create(Zh((t=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ne()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return on.create(t.compositeFilter.filters.map(i=>v2(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ne()}}(t.compositeFilter.op))}(n):Ne();var t}function wJ(n){return hJ[n]}function EJ(n){return fJ[n]}function IJ(n){return mJ[n]}function $l(n){return{fieldPath:n.canonicalString()}}function Zh(n){return Sn.fromServerFormat(n.fieldPath)}function b2(n){return n instanceof Ot?function(t){if("=="===t.op){if(hV(t.value))return{unaryFilter:{field:$l(t.field),op:"IS_NAN"}};if(uV(t.value))return{unaryFilter:{field:$l(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(hV(t.value))return{unaryFilter:{field:$l(t.field),op:"IS_NOT_NAN"}};if(uV(t.value))return{unaryFilter:{field:$l(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$l(t.field),op:EJ(t.op),value:t.value}}}(n):n instanceof on?function(t){const i=t.getFilters().map(r=>b2(r));return 1===i.length?i[0]:{compositeFilter:{op:IJ(t.op),filters:i}}}(n):Ne()}function xJ(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function w2(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ua{constructor(e,t,i,r,s=ze.min(),o=ze.min(),a=li.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ua(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class E2{constructor(e){this.ct=e}}function I2(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Wb(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:vg(s=n.ct,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:Xh(s,o.version.toTimestamp()),createTime:Xh(s,o.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:yd(e.version)};else{if(!e.isUnknownDocument())return Ne();i.unknownDocument={path:t.path.toArray(),version:yd(e.version)}}var s,o;return i}function Wb(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function yd(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function vd(n){const e=new Bn(n.seconds,n.nanoseconds);return ze.fromTimestamp(e)}function bd(n,e){const t=(e.baseMutations||[]).map(s=>CT(n.ct,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const i=e.mutations.map(s=>CT(n.ct,s)),r=Bn.fromMillis(e.localWriteTimeMs);return new _T(e.batchId,r,t,i)}function wg(n){const e=vd(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?vd(n.lastLimboFreeSnapshotVersion):ze.min();let i;return i=void 0!==n.query.documents?(Be(1===(s=n.query).documents.length),yr($h(h2(s.documents[0])))):function(s){return yr(y2(s))}(n.query),new Ua(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,li.fromBase64String(n.resumeToken));var s}function x2(n,e){const t=yd(e.snapshotVersion),i=yd(e.lastLimboFreeSnapshotVersion);let r;r=Vb(e.target)?g2(n.ct,e.target):Gb(n.ct,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:pd(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function TT(n){const e=y2({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Ub(e,e.limit,"L"):e}function AT(n,e){return new vT(e.largestBatchId,CT(n.ct,e.overlayMutation))}function C2(n,e){const t=e.path.lastSegment();return[n,_r(e.path.popLast()),t]}function T2(n,e,t,i){return{indexId:n,uid:e,sequenceNumber:t,readTime:yd(i.readTime),documentKey:_r(i.documentKey.path),largestBatchId:i.largestBatchId}}class TJ{getBundleMetadata(e,t){return A2(e).get(t).next(i=>{if(i)return{id:(s=i).bundleId,createTime:vd(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return A2(e).put({bundleId:(r=t).id,createTime:yd(_i(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return D2(e).get(t).next(i=>{if(i)return{name:(s=i).name,query:TT(s.bundledQuery),readTime:vd(s.readTime)};var s})}saveNamedQuery(e,t){return D2(e).put({name:(r=t).name,readTime:yd(_i(r.readTime)),bundledQuery:r.bundledQuery});var r}}function A2(n){return Oi(n,"bundles")}function D2(n){return Oi(n,"namedQueries")}class Kb{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){return new Kb(e,t.uid||"")}getOverlay(e,t){return Eg(e).get(C2(this.userId,t)).next(i=>i?AT(this.serializer,i):null)}getOverlays(e,t){const i=Ho();return K.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((s,o)=>{const a=new vT(t,o);r.push(this.ht(e,a))}),K.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(o=>r.add(_r(o.getCollectionPath())));const s=[];return r.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,i+1],!1,!0);s.push(Eg(e).j("collectionPathOverlayIndex",a))}),K.waitFor(s)}getOverlaysForCollection(e,t,i){const r=Ho(),s=_r(t),o=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Eg(e).U("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const d=AT(this.serializer,l);r.set(d.getKey(),d)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=Ho();let o;const a=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Eg(e).J({index:"collectionGroupOverlayIndex",range:a},(l,d,f)=>{const g=AT(this.serializer,d);s.size()<r||g.largestBatchId===o?(s.set(g.getKey(),g),o=g.largestBatchId):f.done()}).next(()=>s)}ht(e,t){return Eg(e).put(function(r,s,o){const[a,l,d]=C2(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:d,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:bg(r.ct,o.mutation)}}(this.serializer,this.userId,t))}}function Eg(n){return Oi(n,"documentOverlays")}class AJ{Pt(e){return Oi(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(t=>{const i=t?.value;return i?li.fromUint8Array(i):li.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Pt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class wd{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Un(e.integerValue));else if("doubleValue"in e){const i=Un(e.doubleValue);isNaN(i)?this.dt(t,13):(this.dt(t,15),ig(i)?t.At(0):t.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(t,20),"string"==typeof i&&(i=Na(i)),t.Rt(`${i.seconds||""}`),t.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Fa(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?fV(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Lb(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Ne()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const i=e.fields||{};this.dt(t,55);for(const r of Object.keys(i))this.Vt(r,t),this.Tt(i[r],t)}wt(e,t){var i,r;const s=e.fields||{};this.dt(t,53);const o="value",a=(null===(r=null===(i=s[o].arrayValue)||void 0===i?void 0:i.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(Un(a)),this.Vt(o,t),this.Tt(s[o],t)}bt(e,t){const i=e.values||[];this.dt(t,50);for(const r of i)this.Tt(r,t)}yt(e,t){this.dt(t,37),De.fromName(e).path.forEach(i=>{this.dt(t,60),this.Dt(i,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}function DJ(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function S2(n){const e=64-function(i){let r=0;for(let s=0;s<8;++s){const o=DJ(255&i[s]);if(r+=o,8!==o)break}return r}(n);return Math.ceil(e/8)}wd.vt=new wd;class SJ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ft(i.value),i=t.next();this.Mt()}xt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ot(i.value),i=t.next();this.Nt()}Lt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const r=t.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Bt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ot(i);else if(i<2048)this.Ot(960|i>>>6),this.Ot(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ot(480|i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i);else{const r=t.codePointAt(0);this.Ot(240|r>>>18),this.Ot(128|63&r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r)}}this.Nt()}kt(e){const t=this.qt(e),i=S2(t);this.Qt(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Kt(e){const t=this.qt(e),i=S2(t);this.Qt(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const t=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ft(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(t)}Ot(e){const t=255&e;0===t?(this.Gt(0),this.Gt(255)):255===t?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class kJ{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class RJ{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Ig{constructor(){this.jt=new SJ,this.Ht=new kJ(this.jt),this.Jt=new RJ(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class Ed{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Zt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Ed(this.indexId,this.documentKey,this.arrayValue,i)}}function ql(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=k2(n.arrayValue,e.arrayValue),0!==t?t:(t=k2(n.directionalValue,e.directionalValue),0!==t?t:De.comparator(n.documentKey,e.documentKey)))}function k2(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class R2{constructor(e){this.Xt=new ln((t,i)=>Sn.comparator(t.field,i.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const t of e.filters){const i=t;i.isInequality()?this.Xt=this.Xt.add(i):this.tn.push(i)}}get nn(){return this.Xt.size>1}rn(e){if(Be(e.collectionGroup===this.collectionId),this.nn)return!1;const t=eT(e);if(void 0!==t&&!this.sn(t))return!1;const i=ud(e);let r=new Set,s=0,o=0;for(;s<i.length&&this.sn(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(this.Xt.size>0){const a=this.Xt.getIterator().getNext();if(!r.has(a.field.canonicalString())){const l=i[s];if(!this.on(a,l)||!this._n(this.en[o++],l))return!1}++s}for(;s<i.length;++s)if(o>=this.en.length||!this._n(this.en[o++],i[s]))return!1;return!0}an(){if(this.nn)return null;let e=new ln(Sn.comparator);const t=[];for(const i of this.tn)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)t.push(new hd(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new hd(i.field,0))}for(const i of this.en)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new hd(i.field,"asc"===i.dir?0:1)));return new Bh(Bh.UNKNOWN_ID,this.collectionId,t,Uh.empty())}sn(e){for(const t of this.tn)if(this.on(t,e))return!0;return!1}on(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}_n(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function M2(n){var e,t;if(Be(n instanceof Ot||n instanceof on),n instanceof Ot){if(n instanceof TV){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>Ot.create(n.field,"==",s)))||[];return on.create(r,"or")}return n}const i=n.filters.map(r=>M2(r));return on.create(i,n.op)}function MJ(n){if(0===n.getFilters().length)return[];const e=kT(M2(n));return Be(P2(e)),DT(e)||ST(e)?[e]:e.getFilters()}function DT(n){return n instanceof Ot}function ST(n){return n instanceof on&&cT(n)}function P2(n){return DT(n)||ST(n)||function(t){if(t instanceof on&&lT(t)){for(const i of t.getFilters())if(!DT(i)&&!ST(i))return!1;return!0}return!1}(n)}function kT(n){if(Be(n instanceof Ot||n instanceof on),n instanceof Ot)return n;if(1===n.filters.length)return kT(n.filters[0]);const e=n.filters.map(i=>kT(i));let t=on.create(e,n.op);return t=Qb(t),P2(t)?t:(Be(t instanceof on),Be(Hh(t)),Be(t.filters.length>1),t.filters.reduce((i,r)=>RT(i,r)))}function RT(n,e){let t;return Be(n instanceof Ot||n instanceof on),Be(e instanceof Ot||e instanceof on),t=n instanceof Ot?e instanceof Ot?on.create([n,e],"and"):O2(n,e):e instanceof Ot?O2(e,n):function(r,s){if(Be(r.filters.length>0&&s.filters.length>0),Hh(r)&&Hh(s))return IV(r,s.getFilters());const o=lT(r)?r:s,a=lT(r)?s:r,l=o.filters.map(d=>RT(d,a));return on.create(l,"or")}(n,e),Qb(t)}function O2(n,e){if(Hh(e))return IV(e,n.getFilters());{const t=e.filters.map(i=>RT(n,i));return on.create(t,"or")}}function Qb(n){if(Be(n instanceof Ot||n instanceof on),n instanceof Ot)return n;const e=n.getFilters();if(1===e.length)return Qb(e[0]);if(wV(n))return n;const t=e.map(r=>Qb(r)),i=[];return t.forEach(r=>{r instanceof Ot?i.push(r):r instanceof on&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:on.create(i,n.op)}class PJ{constructor(){this.un=new MT}addToCollectionParentIndex(e,t){return this.un.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(gs.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(gs.min())}updateCollectionGroup(e,t,i){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class MT{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new ln(Pt.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new ln(Pt.comparator)).toArray()}}const Yb=new Uint8Array(0);class OJ{constructor(e,t){this.databaseId=t,this.cn=new MT,this.ln=new Va(i=>pd(i),(i,r)=>cg(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.cn.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.cn.add(t)});const s={collectionId:i,parent:_r(r)};return N2(e).put(s)}return K.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[$L(t),""],!1,!0);return N2(e).U(r).next(s=>{for(const o of s){if(o.collectionId!==t)break;i.push(jo(o.parent))}return i})}addFieldIndex(e,t){const i=xg(e),r={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])};var a;delete r.indexId;const s=i.add(r);if(t.indexState){const o=ef(e);return s.next(a=>{o.put(T2(a,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const i=xg(e),r=ef(e),s=Jh(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=xg(e),i=Jh(e),r=ef(e);return t.j().next(()=>i.j()).next(()=>r.j())}createTargetIndexes(e,t){return K.forEach(this.hn(t),i=>this.getIndexType(e,i).next(r=>{if(0===r||1===r){const s=new R2(i).an();if(null!=s)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,t){const i=Jh(e);let r=!0;const s=new Map;return K.forEach(this.hn(t),o=>this.Pn(e,o).next(a=>{r&&(r=!!a),s.set(o,a)})).next(()=>{if(r){let o=gt();const a=[];return K.forEach(s,(l,d)=>{var U;ge("IndexedDbIndexManager",`Using index ${U=l,`id=${U.indexId}|cg=${U.collectionGroup}|f=${U.fields.map(J=>`${J.fieldPath}:${J.kind}`).join(",")}`} to execute ${pd(t)}`);const f=function(U,J){const ye=eT(J);if(void 0===ye)return null;for(const Se of Bb(U,ye.fieldPath))switch(Se.op){case"array-contains-any":return Se.value.arrayValue.values||[];case"array-contains":return[Se.value]}return null}(d,l),g=function(U,J){const ye=new Map;for(const Se of ud(J))for(const N of Bb(U,Se.fieldPath))switch(N.op){case"==":case"in":ye.set(Se.fieldPath.canonicalString(),N.value);break;case"not-in":case"!=":return ye.set(Se.fieldPath.canonicalString(),N.value),Array.from(ye.values())}return null}(d,l),y=function(U,J){const ye=[];let Se=!0;for(const N of ud(J)){const D=0===N.kind?AV(U,N.fieldPath,U.startAt):DV(U,N.fieldPath,U.startAt);ye.push(D.value),Se&&(Se=D.inclusive)}return new Hl(ye,Se)}(d,l),b=function(U,J){const ye=[];let Se=!0;for(const N of ud(J)){const D=0===N.kind?DV(U,N.fieldPath,U.endAt):AV(U,N.fieldPath,U.endAt);ye.push(D.value),Se&&(Se=D.inclusive)}return new Hl(ye,Se)}(d,l),I=this.In(l,d,y),x=this.In(l,d,b),T=this.Tn(l,d,g),V=this.En(l.indexId,f,I,y.inclusive,x,b.inclusive,T);return K.forEach(V,M=>i.G(M,t.limit).next(U=>{U.forEach(J=>{const ye=De.fromSegments(J.documentKey);o.has(ye)||(o=o.add(ye),a.push(ye))})}))}).next(()=>a)}return K.resolve(null)})}hn(e){let t=this.ln.get(e);return t||(t=0===e.filters.length?[e]:MJ(on.create(e.filters,"and")).map(i=>uT(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,t),t)}En(e,t,i,r,s,o,a){const l=(null!=t?t.length:1)*Math.max(i.length,s.length),d=l/(null!=t?t.length:1),f=[];for(let g=0;g<l;++g){const y=t?this.dn(t[g/d]):Yb,b=this.An(e,y,i[g%d],r),I=this.Rn(e,y,s[g%d],o),x=a.map(T=>this.An(e,y,T,!0));f.push(...this.createRange(b,I,x))}return f}An(e,t,i,r){const s=new Ed(e,De.empty(),t,i);return r?s:s.Zt()}Rn(e,t,i,r){const s=new Ed(e,De.empty(),t,i);return r?s.Zt():s}Pn(e,t){const i=new R2(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let o=null;for(const a of s)i.rn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,t){let i=2;const r=this.hn(t);return K.forEach(r,s=>this.Pn(e,s).next(o=>{o?0!==i&&o.fields.length<function(l){let d=new ln(Sn.comparator),f=!1;for(const g of l.filters)for(const y of g.getFlattenedFilters())y.field.isKeyField()||("array-contains"===y.op||"array-contains-any"===y.op?f=!0:d=d.add(y.field));for(const g of l.orderBy)g.field.isKeyField()||(d=d.add(g.field));return d.size+(f?1:0)}(s)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}Vn(e,t){const i=new Ig;for(const r of ud(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const o=i.Yt(r.kind);wd.vt.It(s,o)}return i.zt()}dn(e){const t=new Ig;return wd.vt.It(e,t.Yt(0)),t.zt()}mn(e,t){const i=new Ig;return wd.vt.It(md(this.databaseId,t),i.Yt(function(s){const o=ud(s);return 0===o.length?0:o[o.length-1].kind}(e))),i.zt()}Tn(e,t,i){if(null===i)return[];let r=[];r.push(new Ig);let s=0;for(const o of ud(e)){const a=i[s++];for(const l of r)if(this.fn(t,o.fieldPath)&&og(a))r=this.gn(r,o,a);else{const d=l.Yt(o.kind);wd.vt.It(a,d)}}return this.pn(r)}In(e,t,i){return this.Tn(e,t,i.position)}pn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].zt();return t}gn(e,t,i){const r=[...e],s=[];for(const o of i.arrayValue.values||[])for(const a of r){const l=new Ig;l.seed(a.zt()),wd.vt.It(o,l.Yt(t.kind)),s.push(l)}return s}fn(e,t){return!!e.filters.find(i=>i instanceof Ot&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=xg(e),r=ef(e);return(t?i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.U()).next(s=>{const o=[];return K.forEach(s,a=>r.get([a.indexId,this.uid]).next(l=>{o.push(function(f,g){const y=g?new Uh(g.sequenceNumber,new gs(vd(g.readTime),new De(jo(g.documentKey)),g.largestBatchId)):Uh.empty(),b=f.fields.map(([I,x])=>new hd(Sn.fromServerFormat(I),x));return new Bh(f.indexId,f.collectionGroup,b,y)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:at(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=xg(e),s=ef(e);return this.yn(e).next(o=>r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>K.forEach(a,l=>s.put(T2(l.indexId,this.uid,o,i)))))}updateIndexEntries(e,t){const i=new Map;return K.forEach(t,(r,s)=>{const o=i.get(r.collectionGroup);return(o?K.resolve(o):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),K.forEach(a,l=>this.wn(e,r,l).next(d=>{const f=this.Sn(s,l);return d.isEqual(f)?K.resolve():this.bn(e,s,l,d,f)}))))})}Dn(e,t,i,r){return Jh(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.mn(i,t.key),documentKey:t.key.path.toArray()})}vn(e,t,i,r){return Jh(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.mn(i,t.key),t.key.path.toArray()])}wn(e,t,i){const r=Jh(e);let s=new ln(ql);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.mn(i,t)])},(o,a)=>{s=s.add(new Ed(i.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>s)}Sn(e,t){let i=new ln(ql);const r=this.Vn(t,e);if(null==r)return i;const s=eT(t);if(null!=s){const o=e.data.field(s.fieldPath);if(og(o))for(const a of o.arrayValue.values||[])i=i.add(new Ed(t.indexId,e.key,this.dn(a),r))}else i=i.add(new Ed(t.indexId,e.key,Yb,r));return i}bn(e,t,i,r,s){ge("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(l,d,f,g,y){const b=l.getIterator(),I=d.getIterator();let x=jh(b),T=jh(I);for(;x||T;){let V=!1,M=!1;if(x&&T){const U=f(x,T);U<0?M=!0:U>0&&(V=!0)}else null!=x?M=!0:V=!0;V?(g(T),T=jh(I)):M?(y(x),x=jh(b)):(x=jh(b),T=jh(I))}}(r,s,ql,a=>{o.push(this.Dn(e,t,i,a))},a=>{o.push(this.vn(e,t,i,a))}),K.waitFor(o)}yn(e){let t=1;return ef(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((o,a)=>ql(o,a)).filter((o,a,l)=>!a||0!==ql(o,l[a-1]));const r=[];r.push(e);for(const o of i){const a=ql(o,e),l=ql(o,t);if(0===a)r[0]=e.Zt();else if(a>0&&l<0)r.push(o),r.push(o.Zt());else if(l>0)break}r.push(t);const s=[];for(let o=0;o<r.length;o+=2){if(this.Cn(r[o],r[o+1]))return[];s.push(IDBKeyRange.bound([r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,Yb,[]],[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,Yb,[]]))}return s}Cn(e,t){return ql(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(F2)}getMinOffset(e,t){return K.mapArray(this.hn(t),i=>this.Pn(e,i).next(r=>r||Ne())).next(F2)}}function N2(n){return Oi(n,"collectionParents")}function Jh(n){return Oi(n,"indexEntries")}function xg(n){return Oi(n,"indexConfiguration")}function ef(n){return Oi(n,"indexState")}function F2(n){Be(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;tT(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new gs(e.readTime,e.documentKey,t)}const L2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vr{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new vr(e,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function V2(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],o=IDBKeyRange.only(t.batchId);let a=0;const l=i.J({range:o},(f,g,y)=>(a++,y.delete()));s.push(l.next(()=>{Be(1===a)}));const d=[];for(const f of t.mutations){const g=eV(e,f.key.path,t.batchId);s.push(r.delete(g)),d.push(f.key)}return K.waitFor(s).next(()=>d)}function Xb(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ne();e=n.noDocument}return JSON.stringify(e).length}vr.DEFAULT_COLLECTION_PERCENTILE=10,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vr.DEFAULT=new vr(41943040,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vr.DISABLED=new vr(-1,0,0);class Zb{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Fn={}}static lt(e,t,i,r){Be(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new Zb(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gl(e).J({index:"userMutationsIndex",range:i},(r,s,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=tf(e),o=Gl(e);return o.add({}).next(a=>{Be("number"==typeof a);const l=new _T(a,t,i,r),d=function(b,I,x){const T=x.baseMutations.map(M=>bg(b.ct,M)),V=x.mutations.map(M=>bg(b.ct,M));return{userId:I,batchId:x.batchId,localWriteTimeMs:x.localWriteTime.toMillis(),baseMutations:T,mutations:V}}(this.serializer,this.userId,l),f=[];let g=new ln((y,b)=>at(y.canonicalString(),b.canonicalString()));for(const y of r){const b=eV(this.userId,y.key.path,a);g=g.add(y.key.path.popLast()),f.push(o.put(d)),f.push(s.put(b,wZ))}return g.forEach(y=>{f.push(this.indexManager.addToCollectionParentIndex(e,y))}),e.addOnCommittedListener(()=>{this.Fn[a]=l.keys()}),K.waitFor(f).next(()=>l)})}lookupMutationBatch(e,t){return Gl(e).get(t).next(i=>i?(Be(i.userId===this.userId),bd(this.serializer,i)):null)}Mn(e,t){return this.Fn[t]?K.resolve(this.Fn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Fn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Gl(e).J({index:"userMutationsIndex",range:r},(o,a,l)=>{a.userId===this.userId&&(Be(a.batchId>=i),s=bd(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Gl(e).J({index:"userMutationsIndex",range:t,reverse:!0},(r,s,o)=>{i=s.batchId,o.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Gl(e).U("userMutationsIndex",t).next(i=>i.map(r=>bd(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=kb(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return tf(e).J({range:r},(o,a,l)=>{const[d,f,g]=o,y=jo(f);if(d===this.userId&&t.path.isEqual(y))return Gl(e).get(g).next(b=>{if(!b)throw Ne();Be(b.userId===this.userId),s.push(bd(this.serializer,b))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ln(at);const r=[];return t.forEach(s=>{const o=kb(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=tf(e).J({range:a},(d,f,g)=>{const[y,b,I]=d,x=jo(b);y===this.userId&&s.path.isEqual(x)?i=i.add(I):g.done()});r.push(l)}),K.waitFor(r).next(()=>this.xn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=kb(this.userId,i),o=IDBKeyRange.lowerBound(s);let a=new ln(at);return tf(e).J({range:o},(l,d,f)=>{const[g,y,b]=l,I=jo(y);g===this.userId&&i.isPrefixOf(I)?I.length===r&&(a=a.add(b)):f.done()}).next(()=>this.xn(e,a))}xn(e,t){const i=[],r=[];return t.forEach(s=>{r.push(Gl(e).get(s).next(o=>{if(null===o)throw Ne();Be(o.userId===this.userId),i.push(bd(this.serializer,o))}))}),K.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return V2(e._e,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.On(t.batchId)}),K.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return K.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return tf(e).J({range:i},(s,o,a)=>{if(s[0]===this.userId){const l=jo(s[1]);r.push(l)}else a.done()}).next(()=>{Be(0===r.length)})})}containsKey(e,t){return B2(e,this.userId,t)}Nn(e){return U2(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function B2(n,e,t){const i=kb(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let o=!1;return tf(n).J({range:s,H:!0},(a,l,d)=>{const[f,g,y]=a;f===e&&g===r&&(o=!0),d.done()}).next(()=>o)}function Gl(n){return Oi(n,"mutations")}function tf(n){return Oi(n,"documentMutations")}function U2(n){return Oi(n,"mutationQueues")}class Id{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Id(0)}static kn(){return new Id(-1)}}class NJ{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.qn(e).next(t=>{const i=new Id(t.highestTargetId);return t.highestTargetId=i.next(),this.Qn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(t=>ze.fromTimestamp(new Bn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.qn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Qn(e,r)))}addTargetData(e,t){return this.Kn(e,t).next(()=>this.qn(e).next(i=>(i.targetCount+=1,this.$n(t,i),this.Qn(e,i))))}updateTargetData(e,t){return this.Kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>nf(e).delete(t.targetId)).next(()=>this.qn(e)).next(i=>(Be(i.targetCount>0),i.targetCount-=1,this.Qn(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return nf(e).J((o,a)=>{const l=wg(a);l.sequenceNumber<=t&&null===i.get(l.targetId)&&(r++,s.push(this.removeTargetData(e,l)))}).next(()=>K.waitFor(s)).next(()=>r)}forEachTarget(e,t){return nf(e).J((i,r)=>{const s=wg(r);t(s)})}qn(e){return j2(e).get("targetGlobalKey").next(t=>(Be(null!==t),t))}Qn(e,t){return j2(e).put("targetGlobalKey",t)}Kn(e,t){return nf(e).put(x2(this.serializer,t))}$n(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.qn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=pd(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return nf(e).J({range:r,index:"queryTargetsIndex"},(o,a,l)=>{const d=wg(a);cg(t,d.target)&&(s=d,l.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=Wl(e);return t.forEach(o=>{const a=_r(o.path);r.push(s.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,o))}),K.waitFor(r)}removeMatchingKeys(e,t,i){const r=Wl(e);return K.forEach(t,s=>{const o=_r(s.path);return K.waitFor([r.delete([i,o]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=Wl(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Wl(e);let s=gt();return r.J({range:i,H:!0},(o,a,l)=>{const d=jo(o[1]),f=new De(d);s=s.add(f)}).next(()=>s)}containsKey(e,t){const i=_r(t.path),r=IDBKeyRange.bound([i],[$L(i)],!1,!0);let s=0;return Wl(e).J({index:"documentTargetsIndex",H:!0,range:r},([o,a],l,d)=>{0!==o&&(s++,d.done())}).next(()=>s>0)}ot(e,t){return nf(e).get(t).next(i=>i?wg(i):null)}}function nf(n){return Oi(n,"targets")}function j2(n){return Oi(n,"targetGlobal")}function Wl(n){return Oi(n,"targetDocuments")}function z2([n,e],[t,i]){const r=at(n,t);return 0===r?at(e,i):r}class FJ{constructor(e){this.Un=e,this.buffer=new ln(z2),this.Wn=0}Gn(){return++this.Wn}zn(e){const t=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();z2(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class H2{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){var t=this;ge("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ae.A)(function*(){t.jn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Ll(i)?ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Fl(i)}yield t.Hn(3e5)}))}}class LJ{constructor(e,t){this.Jn=e,this.params=t}calculateTargetCount(e,t){return this.Jn.Yn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return K.resolve(_s.oe);const i=new FJ(t);return this.Jn.forEachTarget(e,r=>i.zn(r.sequenceNumber)).next(()=>this.Jn.Zn(e,r=>i.zn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(L2)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),L2):this.Xn(e,t))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,t){let i,r,s,o,a,l,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),r=this.params.maximumSequenceNumbersToCollect):r=g,o=Date.now(),this.nthSequenceNumber(e,r))).next(g=>(i=g,a=Date.now(),this.removeTargets(e,i,t))).next(g=>(s=g,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(g=>(d=Date.now(),Lh()<=Bo.$b.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-f}ms\n\tDetermined least recently used ${r} in `+(a-o)+`ms\n\tRemoved ${s} targets in `+(l-a)+`ms\n\tRemoved ${g} documents in `+(d-l)+`ms\nTotal Duration: ${d-f}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:g})))}}class VJ{constructor(e,t){this.db=e,this.garbageCollector=function $2(n,e){return new LJ(n,e)}(this,t)}Yn(e){const t=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}er(e){let t=0;return this.Zn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Zn(e,t){return this.tr(e,(i,r)=>t(r))}addReference(e,t,i){return Jb(e,i)}removeReference(e,t,i){return Jb(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Jb(e,t)}nr(e,t){return function(r,s){let o=!1;return U2(r).Y(a=>B2(r,a,s).next(l=>(l&&(o=!0),K.resolve(!l)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.tr(e,(o,a)=>{if(a<=t){const l=this.nr(e,o).next(d=>{if(!d)return s++,i.getEntry(e,o).next(()=>(i.removeEntry(o,ze.min()),Wl(e).delete([0,_r(o.path)])))});r.push(l)}}).next(()=>K.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Jb(e,t)}tr(e,t){const i=Wl(e);let r,s=_s.oe;return i.J({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:d})=>{0===o?(s!==_s.oe&&t(new De(jo(r)),s),s=d,r=l):s=_s.oe}).next(()=>{s!==_s.oe&&t(new De(jo(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Jb(n,e){return Wl(n).put((r=n.currentSequenceNumber,{targetId:0,path:_r(e.path),sequenceNumber:r}));var r}class q2{constructor(){this.changes=new Va(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,kn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?K.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class BJ{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return xd(e).put(i)}removeEntry(e,t,i){return xd(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Wb(o),a[a.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.rr(e,i)))}getEntry(e,t){let i=kn.newInvalidDocument(t);return xd(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Cg(t))},(r,s)=>{i=this.ir(t,s)}).next(()=>i)}sr(e,t){let i={size:0,document:kn.newInvalidDocument(t)};return xd(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Cg(t))},(r,s)=>{i={document:this.ir(t,s),size:Xb(s)}}).next(()=>i)}getEntries(e,t){let i=ns();return this._r(e,t,(r,s)=>{const o=this.ir(r,s);i=i.insert(r,o)}).next(()=>i)}ar(e,t){let i=ns(),r=new In(De.comparator);return this._r(e,t,(s,o)=>{const a=this.ir(s,o);i=i.insert(s,a),r=r.insert(s,Xb(o))}).next(()=>({documents:i,ur:r}))}_r(e,t,i){if(t.isEmpty())return K.resolve();let r=new ln(Q2);t.forEach(l=>r=r.add(l));const s=IDBKeyRange.bound(Cg(r.first()),Cg(r.last())),o=r.getIterator();let a=o.getNext();return xd(e).J({index:"documentKeyIndex",range:s},(l,d,f)=>{const g=De.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;a&&Q2(a,g)<0;)i(a,null),a=o.getNext();a&&a.isEqual(g)&&(i(a,d),a=o.hasNext()?o.getNext():null),a?f.$(Cg(a)):f.done()}).next(()=>{for(;a;)i(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,i,r,s){const o=t.path,a=[o.popLast().toArray(),o.lastSegment(),Wb(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return xd(e).U(IDBKeyRange.bound(a,l,!0)).next(d=>{s?.incrementDocumentReadCount(d.length);let f=ns();for(const g of d){const y=this.ir(De.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);y.isFoundDocument()&&(ug(t,y)||r.has(y.key))&&(f=f.insert(y.key,y))}return f})}getAllFromCollectionGroup(e,t,i,r){let s=ns();const o=K2(t,i),a=K2(t,gs.max());return xd(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,d,f)=>{const g=this.ir(De.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);s=s.insert(g.key,g),s.size===r&&f.done()}).next(()=>s)}newChangeBuffer(e){return new UJ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return W2(e).get("remoteDocumentGlobalKey").next(t=>(Be(!!t),t))}rr(e,t){return W2(e).put("remoteDocumentGlobalKey",t)}ir(e,t){if(t){const i=function CJ(n,e){let t;if(e.document)t=p2(n.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=De.fromSegments(e.noDocument.path),r=vd(e.noDocument.readTime);t=kn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ne();{const i=De.fromSegments(e.unknownDocument.path),r=vd(e.unknownDocument.version);t=kn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(r){const s=new Bn(r[0],r[1]);return ze.fromTimestamp(s)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(ze.min()))return i}return kn.newInvalidDocument(e)}}function G2(n){return new BJ(n)}class UJ extends q2{constructor(e,t){super(),this.cr=e,this.trackRemovals=t,this.lr=new Va(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new ln((s,o)=>at(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.lr.get(s);if(t.push(this.cr.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=I2(this.cr.serializer,o);r=r.add(s.path.popLast());const d=Xb(l);i+=d-a.size,t.push(this.cr.addEntry(e,s,l))}else if(i-=a.size,this.trackRemovals){const l=I2(this.cr.serializer,o.convertToNoDocument(ze.min()));t.push(this.cr.addEntry(e,s,l))}}),r.forEach(s=>{t.push(this.cr.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.cr.updateMetadata(e,i)),K.waitFor(t)}getFromCache(e,t){return this.cr.sr(e,t).next(i=>(this.lr.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.cr.ar(e,t).next(({documents:i,ur:r})=>(r.forEach((s,o)=>{this.lr.set(s,{size:o,readTime:i.get(s).readTime})}),i))}}function W2(n){return Oi(n,"remoteDocumentGlobal")}function xd(n){return Oi(n,"remoteDocumentsV14")}function Cg(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function K2(n,e){const t=e.documentKey.path.toArray();return[n,Wb(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Q2(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=at(t[s],i[s]),r)return r;return r=at(t.length,i.length),r||(r=at(t[t.length-2],i[i.length-2]),r||at(t[t.length-1],i[i.length-1]))}class jJ{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Y2{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&pg(i.mutation,r,ts.empty(),Bn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,gt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=gt()){const r=Ho();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let o=hg();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const i=Ho();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,gt()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,i,r){let s=ns();const o=fg(),a=fg();return t.forEach((l,d)=>{const f=i.get(d.key);r.has(d.key)&&(void 0===f||f.mutation instanceof Ba)?s=s.insert(d.key,d):void 0!==f?(o.set(d.key,f.mutation.getFieldMask()),pg(f.mutation,d,f.mutation.getFieldMask(),Bn.now())):o.set(d.key,ts.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((d,f)=>o.set(d,f)),t.forEach((d,f)=>{var g;return a.set(d,new jJ(f,null!==(g=o.get(d))&&void 0!==g?g:null))}),a))}recalculateAndSaveOverlays(e,t){const i=fg();let r=new In((o,a)=>o-a),s=gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const d=t.get(l);if(null===d)return;let f=i.get(l)||ts.empty();f=a.applyToLocalView(d,f),i.set(l,f);const g=(r.get(a.batchId)||gt()).add(l);r=r.insert(a.batchId,g)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),d=l.key,f=l.value,g=VV();f.forEach(y=>{if(!s.has(y)){const b=GV(t.get(y),i.get(y));null!==b&&g.set(y,b),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,g))}return K.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return De.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):hT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r);var o}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):K.resolve(Ho());let a=-1,l=s;return o.next(d=>K.forEach(d,(f,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),s.get(f)?K.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{l=l.insert(f,y)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,l,d,gt())).next(f=>({batchId:a,changes:LV(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new De(t)).next(i=>{let r=hg();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const s=t.collectionGroup;let o=hg();return this.indexManager.getCollectionParents(e,s).next(a=>K.forEach(a,l=>{const d=(g=t,y=l.child(s),new La(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt));var g,y;return this.getDocumentsMatchingCollectionQuery(e,d,i,r).next(f=>{f.forEach((g,y)=>{o=o.insert(g,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s,r))).next(o=>{s.forEach((l,d)=>{const f=d.getKey();null===o.get(f)&&(o=o.insert(f,kn.newInvalidDocument(f)))});let a=hg();return o.forEach((l,d)=>{const f=s.get(l);void 0!==f&&pg(f.mutation,d,ts.empty(),Bn.now()),ug(t,d)&&(a=a.insert(l,d))}),a})}}class zJ{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return K.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,{id:(r=t).id,version:r.version,createTime:_i(r.createTime)}),K.resolve();var r}getNamedQuery(e,t){return K.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,{name:(r=t).name,query:TT(r.bundledQuery),readTime:_i(r.readTime)}),K.resolve();var r}}class HJ{constructor(){this.overlays=new In(De.comparator),this.Ir=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ho();return K.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.ht(e,t,s)}),K.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.Ir.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(i)),K.resolve()}getOverlaysForCollection(e,t,i){const r=Ho(),s=t.length+1,o=new De(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,d=l.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return K.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new In((d,f)=>d-f);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>i){let f=s.get(d.largestBatchId);null===f&&(f=Ho(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const a=Ho(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,f)=>a.set(d,f)),!(a.size()>=r)););return K.resolve(a)}ht(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const o=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new vT(t,i));let s=this.Ir.get(t);void 0===s&&(s=gt(),this.Ir.set(t,s)),this.Ir.set(t,s.add(i.key))}}class $J{constructor(){this.sessionToken=li.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}}class PT{constructor(){this.Tr=new ln($i.Er),this.dr=new ln($i.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const i=new $i(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Vr(new $i(e,t))}mr(e,t){e.forEach(i=>this.removeReference(i,t))}gr(e){const t=new De(new Pt([])),i=new $i(t,e),r=new $i(t,e+1),s=[];return this.dr.forEachInRange([i,r],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new De(new Pt([])),i=new $i(t,e),r=new $i(t,e+1);let s=gt();return this.dr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new $i(e,0),i=this.Tr.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class $i{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return De.comparator(e.key,t.key)||at(e.wr,t.wr)}static Ar(e,t){return at(e.wr,t.wr)||De.comparator(e.key,t.key)}}class qJ{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new ln($i.Er)}checkEmpty(e){return K.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.Sr;this.Sr++;const o=new _T(s,t,i,r);this.mutationQueue.push(o);for(const a of r)this.br=this.br.add(new $i(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return K.resolve(o)}lookupMutationBatch(e,t){return K.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.vr(t+1),s=r<0?0:r;return K.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new $i(t,0),r=new $i(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([i,r],o=>{const a=this.Dr(o.wr);s.push(a)}),K.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ln(at);return t.forEach(r=>{const s=new $i(r,0),o=new $i(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{i=i.add(a.wr)})}),K.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;De.isDocumentKey(s)||(s=s.child(""));const o=new $i(new De(s),0);let a=new ln(at);return this.br.forEachWhile(l=>{const d=l.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(a=a.add(l.wr)),!0)},o),K.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(i=>{const r=this.Dr(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Be(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let i=this.br;return K.forEach(t.mutations,r=>{const s=new $i(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,t){const i=new $i(t,0),r=this.br.firstAfterOrEqual(i);return K.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return K.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class GJ{constructor(e){this.Mr=e,this.docs=new In(De.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,o=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return K.resolve(i?i.document.mutableCopy():kn.newInvalidDocument(t))}getEntries(e,t){let i=ns();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():kn.newInvalidDocument(r))}),K.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=ns();const o=t.path,a=new De(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:d,value:{document:f}}=l.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||tT(GL(f),i)<=0||(r.has(f.key)||ug(t,f))&&(s=s.insert(f.key,f.mutableCopy()))}return K.resolve(s)}getAllFromCollectionGroup(e,t,i,r){Ne()}Or(e,t){return K.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new WJ(this)}getSize(e){return K.resolve(this.size)}}class WJ extends q2{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),K.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class KJ{constructor(e){this.persistence=e,this.Nr=new Va(t=>pd(t),cg),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.Lr=0,this.Br=new PT,this.targetCount=0,this.kr=Id.Bn()}forEachTarget(e,t){return this.Nr.forEach((i,r)=>t(r)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),K.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Id(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.Kn(t),K.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&null===i.get(a.targetId)&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),K.waitFor(s).next(()=>r)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const i=this.Nr.get(t)||null;return K.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),K.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),K.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),K.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Br.yr(t);return K.resolve(i)}containsKey(e,t){return K.resolve(this.Br.containsKey(t))}}class OT{constructor(e,t){this.qr={},this.overlays={},this.Qr=new _s(0),this.Kr=!1,this.Kr=!0,this.$r=new $J,this.referenceDelegate=e(this),this.Ur=new KJ(this),this.indexManager=new PJ,this.remoteDocumentCache=new GJ(i=>this.referenceDelegate.Wr(i)),this.serializer=new E2(t),this.Gr=new zJ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new HJ,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new qJ(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){ge("MemoryPersistence","Starting transaction:",e);const r=new QJ(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(s=>this.referenceDelegate.jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Hr(e,t){return K.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,t)))}}class QJ extends KL{constructor(e){super(),this.currentSequenceNumber=e}}class ew{constructor(e){this.persistence=e,this.Jr=new PT,this.Yr=null}static Zr(e){return new ew(e)}get Xr(){if(this.Yr)return this.Yr;throw Ne()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),K.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),K.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(r=>this.Xr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Xr.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Xr,i=>{const r=De.fromPath(i);return this.ei(e,r).next(s=>{s||t.removeEntry(r,ze.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return K.or([()=>K.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class YJ{constructor(e){this.serializer=e}O(e,t,i,r){const s=new Sb("createOrUpgrade",t);var l;i<1&&r>=1&&(e.createObjectStore("owner"),(l=e).createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",JL,{unique:!0}),l.createObjectStore("documentMutations"),X2(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=K.resolve();return i<3&&r>=3&&(0!==i&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),X2(e)),o=o.next(()=>function(l){const d=l.store("targetGlobal"),f={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ze.min().toTimestamp(),targetCount:0};return d.put("targetGlobalKey",f)}(s))),i<4&&r>=4&&(0!==i&&(o=o.next(()=>function(l,d){return d.store("mutations").U().next(f=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",JL,{unique:!0});const g=d.store("mutations"),y=f.map(b=>g.put(b));return K.waitFor(y)})}(e,s))),o=o.next(()=>{!function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(o=o.next(()=>this.ni(s))),i<6&&r>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ri(s)))),i<7&&r>=7&&(o=o.next(()=>this.ii(s))),i<8&&r>=8&&(o=o.next(()=>this.si(e,s))),i<9&&r>=9&&(o=o.next(()=>{!function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(o=o.next(()=>this.oi(s))),i<11&&r>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(o=o.next(()=>{!function(l){const d=l.createObjectStore("documentOverlays",{keyPath:PZ});d.createIndex("collectionPathOverlayIndex",OZ,{unique:!1}),d.createIndex("collectionGroupOverlayIndex",NZ,{unique:!1})}(e)})),i<13&&r>=13&&(o=o.next(()=>function(l){const d=l.createObjectStore("remoteDocumentsV14",{keyPath:EZ});d.createIndex("documentKeyIndex",IZ),d.createIndex("collectionGroupIndex",xZ)}(e)).next(()=>this._i(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(o=o.next(()=>this.ai(e,s))),i<15&&r>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:SZ}).createIndex("sequenceNumberIndex",kZ,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:RZ}).createIndex("documentKeyIndex",MZ,{unique:!1})}(e))),i<16&&r>=16&&(o=o.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),i<17&&r>=17&&(o=o.next(()=>{!function(l){l.createObjectStore("globals",{keyPath:"name"})}(e)})),o}ri(e){let t=0;return e.store("remoteDocuments").J((i,r)=>{t+=Xb(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}ni(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.U().next(r=>K.forEach(r,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.U("userMutationsIndex",o).next(a=>K.forEach(a,l=>{Be(l.userId===s.userId);const d=bd(this.serializer,l);return V2(e,s.userId,d).next(()=>{})}))}))}ii(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.J((o,a)=>{const l=new Pt(o),d=[0,_r(l)];s.push(t.get(d).next(f=>f?K.resolve():t.put({targetId:0,path:_r(l),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>K.waitFor(s))})}si(e,t){e.createObjectStore("collectionParents",{keyPath:DZ});const i=t.store("collectionParents"),r=new MT,s=o=>{if(r.add(o)){const a=o.lastSegment(),l=o.popLast();return i.put({collectionId:a,parent:_r(l)})}};return t.store("remoteDocuments").J({H:!0},(o,a)=>{const l=new Pt(o);return s(l.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([o,a,l],d)=>{const f=jo(a);return s(f.popLast())}))}oi(e){const t=e.store("targets");return t.J((i,r)=>{const s=wg(r),o=x2(this.serializer,s);return t.put(o)})}_i(e,t){const i=t.store("remoteDocuments"),r=[];return i.J((s,o)=>{const a=t.store("remoteDocumentsV14"),l=(g=o,g.document?new De(Pt.fromString(g.document.name).popFirst(5)):g.noDocument?De.fromSegments(g.noDocument.path):g.unknownDocument?De.fromSegments(g.unknownDocument.path):Ne()).path.toArray(),d={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};var g;r.push(a.put(d))}).next(()=>K.waitFor(r))}ai(e,t){const i=t.store("mutations"),r=G2(this.serializer),s=new OT(ew.Zr,this.serializer.ct);return i.U().next(o=>{const a=new Map;return o.forEach(l=>{var d;let f=null!==(d=a.get(l.userId))&&void 0!==d?d:gt();bd(this.serializer,l).keys().forEach(g=>f=f.add(g)),a.set(l.userId,f)}),K.forEach(a,(l,d)=>{const f=new zi(d),g=Kb.lt(this.serializer,f),y=s.getIndexManager(f),b=Zb.lt(f,this.serializer,y,s.referenceDelegate);return new Y2(r,b,g,y).recalculateAndSaveOverlaysForDocumentKeys(new sT(t,_s.oe),l).next()})})}}function X2(n){n.createObjectStore("targetDocuments",{keyPath:TZ}).createIndex("documentTargetsIndex",AZ,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",CZ,{unique:!0}),n.createObjectStore("targetGlobal")}const NT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class FT{constructor(e,t,i,r,s,o,a,l,d,f,g=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ui=s,this.window=o,this.document=a,this.ci=d,this.li=f,this.hi=g,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=y=>Promise.resolve(),!FT.D())throw new me(ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new VJ(this,r),this.Ai=t+"main",this.serializer=new E2(l),this.Ri=new Uo(this.Ai,this.hi,new YJ(this.serializer)),this.$r=new AJ,this.Ur=new NJ(this.referenceDelegate,this.serializer),this.remoteDocumentCache=G2(this.serializer),this.Gr=new TJ,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===f&&gi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new me(ne.FAILED_PRECONDITION,NT);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new _s(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){var t=this;return this.di=function(){var i=(0,ae.A)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(function(){var t=(0,ae.A)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((0,ae.A)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>nw(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(t=>{t||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(t=>this.isPrimary&&!t?this.bi(e).next(()=>!1):!!t&&this.Di(e).next(()=>!0))).catch(e=>{if(Ll(e))return ge("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ge("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Tg(e).get("owner").next(t=>K.resolve(this.vi(t)))}Ci(e){return nw(e).delete(this.clientId)}Fi(){var e=this;return(0,ae.A)(function*(){if(e.isPrimary&&!e.Mi(e.Ei,18e5)){e.Ei=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Oi(i,"clientMetadata");return r.U().next(s=>{const o=e.xi(s,18e5),a=s.filter(l=>-1===o.indexOf(l));return K.forEach(a,l=>r.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Vi)for(const i of t)e.Vi.removeItem(e.Oi(i.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?K.resolve(!0):Tg(e).get("owner").next(t=>{if(null!==t&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)){if(this.vi(t)&&this.networkEnabled)return!0;if(!this.vi(t)){if(!t.allowTabSynchronization)throw new me(ne.FAILED_PRECONDITION,NT);return!1}}return!(!this.networkEnabled||!this.inForeground)||nw(e).U().next(i=>void 0===this.xi(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&ge("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ae.A)(function*(){e.Kr=!1,e.Li(),e.Ti&&(e.Ti.cancel(),e.Ti=null),e.Bi(),e.ki(),yield e.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new sT(t,_s.oe);return e.bi(i).next(()=>e.Ci(i))}),e.Ri.close(),e.qi()})()}xi(e,t){return e.filter(i=>this.Mi(i.updateTimeMs,t)&&!this.Ni(i.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>nw(e).U().next(t=>this.xi(t,18e5).map(i=>i.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,t){return Zb.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new OJ(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Kb.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,t,i){ge("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=17===(l=this.hi)?VZ:16===l?LZ:15===l?rT:14===l?iV:13===l?nV:12===l?FZ:11===l?tV:void Ne();var l;let o;return this.Ri.runTransaction(e,r,s,a=>(o=new sT(a,this.Qr?this.Qr.next():_s.oe),"readwrite-primary"===t?this.wi(o).next(l=>!!l||this.Si(o)).next(l=>{if(!l)throw gi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new me(ne.FAILED_PRECONDITION,WL);return i(o)}).next(l=>this.Di(o).next(()=>l)):this.Ki(o).next(()=>i(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Ki(e){return Tg(e).get("owner").next(t=>{if(null!==t&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)&&!this.vi(t)&&!(this.li||this.allowTabSynchronization&&t.allowTabSynchronization))throw new me(ne.FAILED_PRECONDITION,NT)})}Di(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Tg(e).put("owner",t)}static D(){return Uo.D()}bi(e){const t=Tg(e);return t.get("owner").next(i=>this.vi(i)?(ge("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):K.resolve())}Mi(e,t){const i=Date.now();return!(e<i-t||e>i&&(gi(`Detected an update time that is in the future: ${e} > ${i}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const t=/(?:Version|Mobile)\/1[456]/;(0,yt.nr)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var t;try{const i=null!==(null===(t=this.Vi)||void 0===t?void 0:t.getItem(this.Oi(e)));return ge("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return gi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){gi("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Tg(n){return Oi(n,"owner")}function nw(n){return Oi(n,"clientMetadata")}function LT(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class VT{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=r}static Wi(e,t){let i=gt(),r=gt();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new VT(e,t.fromCache,i,r)}}class XJ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Z2{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,yt.nr)()?8:QL((0,yt.ZQ)())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,r){const s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new XJ;return this.Xi(e,t,o).next(a=>{if(s.result=a,this.zi)return this.es(e,t,o,a.size)})}).next(()=>s.result)}es(e,t,i,r){return i.documentReadCount<this.ji?(Lh()<=Bo.$b.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Gh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),K.resolve()):(Lh()<=Bo.$b.DEBUG&&ge("QueryEngine","Query:",Gh(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(Lh()<=Bo.$b.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Gh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(t))):K.resolve())}Yi(e,t){if(kV(t))return K.resolve(null);let i=yr(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Ub(t,null,"F"),i=yr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=gt(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const d=this.ts(t,a);return this.ns(t,d,o,l.readTime)?this.Yi(e,Ub(t,null,"F")):this.rs(e,d,t,l)}))})))}Zi(e,t,i,r){return kV(t)||r.isEqual(ze.min())?K.resolve(null):this.Ji.getDocuments(e,i).next(s=>{const o=this.ts(t,s);return this.ns(t,o,i,r)?K.resolve(null):(Lh()<=Bo.$b.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Gh(t)),this.rs(e,o,t,qL(r,-1)).next(a=>a))})}ts(e,t){let i=new ln(NV(e));return t.forEach((r,s)=>{ug(e,s)&&(i=i.add(s))}),i}ns(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(e,t,i){return Lh()<=Bo.$b.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Gh(t)),this.Ji.getDocumentsMatchingQuery(e,t,gs.min(),i)}rs(e,t,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class ZJ{constructor(e,t,i,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new In(at),this._s=new Va(s=>pd(s),cg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Y2(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function J2(n,e,t,i){return new ZJ(n,e,t,i)}function eB(n,e){return BT.apply(this,arguments)}function BT(){return(BT=(0,ae.A)(function*(n,e){const t=Ie(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.ls(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=gt();for(const d of r){o.push(d.batchId);for(const f of d.mutations)l=l.add(f.key)}for(const d of s){a.push(d.batchId);for(const f of d.mutations)l=l.add(f.key)}return t.localDocuments.getDocuments(i,l).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:a}))})})})).apply(this,arguments)}function tB(n){const e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function nB(n,e,t){let i=gt(),r=gt();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let o=ns();return t.forEach((a,l)=>{const d=s.get(a);l.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(ze.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||0===l.version.compareTo(d.version)&&d.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ge("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",l.version)}),{Ps:o,Is:r}})}function tee(n,e){const t=Ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function rf(n,e){const t=Ie(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Ur.getTargetData(i,e).next(s=>s?(r=s,K.resolve(r)):t.Ur.allocateTargetId(i).next(o=>(r=new Ua(e,o,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.os.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i})}function sf(n,e,t){return UT.apply(this,arguments)}function UT(){return(UT=(0,ae.A)(function*(n,e,t){const i=Ie(n),r=i.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Ll(o))throw o;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.os=i.os.remove(e),i._s.delete(r.target)})).apply(this,arguments)}function iw(n,e,t){const i=Ie(n);let r=ze.min(),s=gt();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,d,f){const g=Ie(l),y=g._s.get(f);return void 0!==y?K.resolve(g.os.get(y)):g.Ur.getTargetData(d,f)}(i,o,yr(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.ss.getDocumentsMatchingQuery(o,e,t?r:ze.min(),t?s:gt())).next(a=>(sB(i,OV(e),a),{documents:a,Ts:s})))}function iB(n,e){const t=Ie(n),i=Ie(t.Ur),r=t.os.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.ot(s,e).next(o=>o?o.target:null))}function rB(n,e){const t=Ie(n),i=t.us.get(e)||ze.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.cs.getAllFromCollectionGroup(r,e,qL(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(sB(t,e,r),r))}function sB(n,e,t){let i=n.us.get(e)||ze.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.us.set(e,i)}function jT(){return(jT=(0,ae.A)(function*(n,e,t,i){const r=Ie(n);let s=gt(),o=ns();for(const d of t){const f=e.Es(d.metadata.name);d.document&&(s=s.add(f));const g=e.ds(d);g.setReadTime(e.As(d.metadata.readTime)),o=o.insert(f,g)}const a=r.cs.newChangeBuffer({trackRemovals:!0}),l=yield rf(r,(f=i,yr($h(Pt.fromString(`__bundle__/docs/${f}`)))));var f;return r.persistence.runTransaction("Apply bundle documents","readwrite",d=>nB(d,a,o).next(f=>(a.apply(d),f)).next(f=>r.Ur.removeMatchingKeysForTargetId(d,l.targetId).next(()=>r.Ur.addMatchingKeys(d,s,l.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(d,f.Ps,f.Is)).next(()=>f.Ps)))})).apply(this,arguments)}function iee(n,e){return zT.apply(this,arguments)}function zT(){return(zT=(0,ae.A)(function*(n,e,t=gt()){const i=yield rf(n,yr(TT(e.bundledQuery))),r=Ie(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const o=_i(e.readTime);if(i.snapshotVersion.compareTo(o)>=0)return r.Gr.saveNamedQuery(s,e);const a=i.withResumeToken(li.EMPTY_BYTE_STRING,o);return r.os=r.os.insert(a.targetId,a),r.Ur.updateTargetData(s,a).next(()=>r.Ur.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Ur.addMatchingKeys(s,t,i.targetId)).next(()=>r.Gr.saveNamedQuery(s,e))})})).apply(this,arguments)}function oB(n,e){return`firestore_clients_${n}_${e}`}function aB(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function HT(n,e){return`firestore_targets_${n}_${e}`}class rw{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Rs(e,t,i){const r=JSON.parse(i);let s,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(s=new me(r.error.code,r.error.message))),o?new rw(e,t,r.state,s):(gi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ag{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Rs(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new me(i.error.code,i.error.message))),s?new Ag(e,i.state,r):(gi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class sw{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Rs(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=mT();for(let o=0;r&&o<i.activeTargetIds.length;++o)r=XL(i.activeTargetIds[o]),s=s.add(i.activeTargetIds[o]);return r?new sw(e,s):(gi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class $T{constructor(e,t){this.clientId=e,this.onlineState=t}static Rs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new $T(t.clientId,t.onlineState):(gi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class qT{constructor(){this.activeTargetIds=mT()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GT{constructor(e,t,i,r,s){this.window=e,this.ui=t,this.persistenceKey=i,this.ps=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new In(at),this.started=!1,this.bs=[];const o=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ds=oB(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new qT),this.Cs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ae.A)(function*(){const t=yield e.syncEngine.Qi();for(const r of t){if(r===e.ps)continue;const s=e.getItem(oB(e.persistenceKey,r));if(s){const o=sw.Rs(r,s);o&&(e.Ss=e.Ss.insert(o.clientId,o))}}e.Ns();const i=e.storage.getItem(e.xs);if(i){const r=e.Ls(i);r&&e.Bs(r)}for(const r of e.bs)e.ws(r);e.bs=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let t=!1;return this.Ss.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,t,i){this.qs(e,t,i),this.Qs(e)}addLocalQueryTarget(e,t=!0){let i="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(HT(this.persistenceKey,e));if(r){const s=Ag.Rs(e,r);s&&(i=s.state)}}return t&&this.Ks.fs(e),this.Ns(),i}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(HT(this.persistenceKey,e))}updateQueryState(e,t,i){this.$s(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Qs(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ge("SharedClientState","READ",e,t),t}setItem(e,t){ge("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ge("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){var t=this;const i=e;if(i.storageArea===this.storage){if(ge("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Ds)return void gi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,ae.A)(function*(){if(t.started){if(null!==i.key)if(t.Cs.test(i.key)){if(null==i.newValue){const r=t.Gs(i.key);return t.zs(r,null)}{const r=t.js(i.key,i.newValue);if(r)return t.zs(r.clientId,r)}}else if(t.Fs.test(i.key)){if(null!==i.newValue){const r=t.Hs(i.key,i.newValue);if(r)return t.Js(r)}}else if(t.Ms.test(i.key)){if(null!==i.newValue){const r=t.Ys(i.key,i.newValue);if(r)return t.Zs(r)}}else if(i.key===t.xs){if(null!==i.newValue){const r=t.Ls(i.newValue);if(r)return t.Bs(r)}}else if(i.key===t.vs){const r=function(o){let a=_s.oe;if(null!=o)try{const l=JSON.parse(o);Be("number"==typeof l),a=l}catch(l){gi("SharedClientState","Failed to read sequence number from WebStorage",l)}return a}(i.newValue);r!==_s.oe&&t.sequenceNumberHandler(r)}else if(i.key===t.Os){const r=t.Xs(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.eo(s)))}}else t.bs.push(i)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,t,i){const r=new rw(this.currentUser,e,t,i),s=aB(this.persistenceKey,this.currentUser,e);this.setItem(s,r.Vs())}Qs(e){const t=aB(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Us(e){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:e}))}$s(e,t,i){const r=HT(this.persistenceKey,e),s=new Ag(e,t,i);this.setItem(r,s.Vs())}Ws(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Os,t)}Gs(e){const t=this.Cs.exec(e);return t?t[1]:null}js(e,t){const i=this.Gs(e);return sw.Rs(i,t)}Hs(e,t){const i=this.Fs.exec(e),r=Number(i[1]);return rw.Rs(new zi(void 0!==i[2]?i[2]:null),r,t)}Ys(e,t){const i=this.Ms.exec(e),r=Number(i[1]);return Ag.Rs(r,t)}Ls(e){return $T.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){var t=this;return(0,ae.A)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.no(e.batchId,e.state,e.error);ge("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,t){const i=t?this.Ss.insert(e,t):this.Ss.remove(e),r=this.ks(this.Ss),s=this.ks(i),o=[],a=[];return s.forEach(l=>{r.has(l)||o.push(l)}),r.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.io(o,a).then(()=>{this.Ss=i})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let t=mT();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class lB{constructor(){this.so=new qT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new qT,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ree{_o(e){}shutdown(){}}class cB{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ow=null;function WT(){return null===ow?ow=268435456+Math.round(2147483648*Math.random()):ow++,"0x"+ow.toString(16)}const see={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oee{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const br="WebChannelConnection";class aee extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${r}/databases/${s}`,this.Co="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Fo(){return!1}Mo(t,i,r,s,o){const a=WT(),l=this.xo(t,i.toUriEncodedString());ge("RestConnection",`Sending RPC '${t}' ${a}:`,l,r);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,s,o),this.No(t,l,d,r).then(f=>(ge("RestConnection",`Received RPC '${t}' ${a}: `,f),f),f=>{throw ps("RestConnection",`RPC '${t}' ${a} failed with error: `,f,"url: ",l,"request:",r),f})}Lo(t,i,r,s,o,a){return this.Mo(t,i,r,s,o)}Oo(t,i,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+Fh,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>t[o]=s),r&&r.headers.forEach((s,o)=>t[o]=s)}xo(t,i){return`${this.Do}/v1/${i}:${see[t]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,r){const s=WT();return new Promise((o,a)=>{const l=new NL;l.setWithCredentials(!0),l.listenOnce(FL.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Db.NO_ERROR:const f=l.getResponseJson();ge(br,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Db.TIMEOUT:ge(br,`RPC '${e}' ${s} timed out`),a(new me(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Db.HTTP_ERROR:const g=l.getStatus();if(ge(br,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);const b=y?.error;if(b&&b.status&&b.message){const I=function(T){const V=T.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(V)>=0?V:ne.UNKNOWN}(b.status);a(new me(I,b.message))}else a(new me(ne.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new me(ne.UNAVAILABLE,"Connection failed."));break;default:Ne()}}finally{ge(br,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(r);ge(br,`RPC '${e}' ${s} sending request:`,r),l.send(t,"POST",d,i,15)})}Bo(e,t,i){const r=WT(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=BL(),a=VL(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;void 0!==d&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;const f=s.join("");ge(br,`Creating RPC '${e}' stream ${r}: ${f}`,l);const g=o.createWebChannel(f,l);let y=!1,b=!1;const I=new oee({Io:T=>{b?ge(br,`Not sending because RPC '${e}' stream ${r} is closed:`,T):(y||(ge(br,`Opening RPC '${e}' stream ${r} transport.`),g.open(),y=!0),ge(br,`RPC '${e}' stream ${r} sending:`,T),g.send(T))},To:()=>g.close()}),x=(T,V,M)=>{T.listen(V,U=>{try{M(U)}catch(J){setTimeout(()=>{throw J},0)}})};return x(g,Jp.EventType.OPEN,()=>{b||(ge(br,`RPC '${e}' stream ${r} transport opened.`),I.yo())}),x(g,Jp.EventType.CLOSE,()=>{b||(b=!0,ge(br,`RPC '${e}' stream ${r} transport closed`),I.So())}),x(g,Jp.EventType.ERROR,T=>{b||(b=!0,ps(br,`RPC '${e}' stream ${r} transport errored:`,T),I.So(new me(ne.UNAVAILABLE,"The operation could not be completed")))}),x(g,Jp.EventType.MESSAGE,T=>{var V;if(!b){const M=T.data[0];Be(!!M);const J=M.error||(null===(V=M[0])||void 0===V?void 0:V.error);if(J){ge(br,`RPC '${e}' stream ${r} received error:`,J);const ye=J.status;let Se=function(P){const B=xi[P];if(void 0!==B)return JV(B)}(ye),N=J.message;void 0===Se&&(Se=ne.INTERNAL,N="Unknown error status: "+ye+" with message "+J.message),b=!0,I.So(new me(Se,N)),g.close()}else ge(br,`RPC '${e}' stream ${r} received:`,M),I.bo(M)}}),x(a,LL.STAT_EVENT,T=>{T.stat===ZC.PROXY?ge(br,`RPC '${e}' stream ${r} detected buffering proxy`):T.stat===ZC.NOPROXY&&ge(br,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{I.wo()},0),I}}function dB(){return typeof window<"u"?window:null}function aw(){return typeof document<"u"?document:null}function Dg(n){return new pJ(n,!0)}class KT{constructor(e,t,i=1e3,r=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-i);r>0&&ge("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class uB{constructor(e,t,i,r,s,o,a,l){this.ui=e,this.Ho=i,this.Jo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new KT(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,ae.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,ae.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){var i=this;return(0,ae.A)(function*(){i.u_(),i.c_(),i.t_.cancel(),i.Yo++,4!==e?i.t_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(gi(t.toString()),gi("Using maximum backoff delay to prevent overloading the backend."),i.t_.Wo()):t&&t.code===ne.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.l_(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.mo(t)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===t&&this.P_(i,r)},i=>{e(()=>{const r=new me(ne.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,t){const i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>1==++this.e_?this.E_(r):this.onNext(r))})}i_(){var e=this;this.state=5,this.t_.Go((0,ae.A)(function*(){e.state=0,e.start()}))}I_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lee extends uB{constructor(e,t,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function yJ(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(d=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===d?1:"REMOVE"===d?2:"CURRENT"===d?3:"RESET"===d?4:Ne(),r=e.targetChange.targetIds||[],s=function(d,f){return d.useProto3Json?(Be(void 0===f||"string"==typeof f),li.fromBase64String(f||"")):(Be(void 0===f||f instanceof Buffer||f instanceof Uint8Array),li.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const f=void 0===d.code?ne.UNKNOWN:JV(d.code);return new me(f,d.message||"")}(o);t=new s2(i,r,s,a||null)}else if("documentChange"in e){const i=e.documentChange,r=$o(n,i.document.name),s=_i(i.document.updateTime),o=i.document.createTime?_i(i.document.createTime):ze.min(),a=new tr({mapValue:{fields:i.document.fields}}),l=kn.newFoundDocument(r,s,o,a);t=new qb(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const i=e.documentDelete,r=$o(n,i.document),s=i.readTime?_i(i.readTime):ze.min(),o=kn.newNoDocument(r,s);t=new qb([],i.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const i=e.documentRemove,r=$o(n,i.document);t=new qb([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return Ne();{const i=e.filter,{count:r=0,unchangedNames:s}=i,o=new cJ(r,s);t=new r2(i.targetId,o)}}var d;return t}(this.serializer,e),i=function(s){if(!("targetChange"in s))return ze.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ze.min():o.readTime?_i(o.readTime):ze.min()}(e);return this.listener.d_(t,i)}A_(e){const t={};t.database=xT(this.serializer),t.addTarget=function(s,o){let a;const l=o.target;if(a=Vb(l)?{documents:g2(s,l)}:{query:Gb(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=c2(s,o.resumeToken);const d=wT(s,o.expectedCount);null!==d&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(ze.min())>0){a.readTime=Xh(s,o.snapshotVersion.toTimestamp());const d=wT(s,o.expectedCount);null!==d&&(a.expectedCount=d)}return a}(this.serializer,e);const i=function bJ(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.a_(t)}R_(e){const t={};t.database=xT(this.serializer),t.removeTarget=e,this.a_(t)}}class cee extends uB{constructor(e,t,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Be(!!e.streamToken),this.lastStreamToken=e.streamToken,Be(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function vJ(n,e){return n&&n.length>0?(Be(void 0!==e),n.map(t=>function(r,s){let o=_i(r.updateTime?r.updateTime:s);return o.isEqual(ze.min())&&(o=_i(s)),new oJ(o,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=_i(e.commitTime);return this.listener.g_(i,t)}p_(){const e={};e.database=xT(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>bg(this.serializer,i))};this.a_(t)}}class dee extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new me(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,IT(t,i),r,s,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new me(ne.UNKNOWN,s.toString())})}Lo(e,t,i,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,IT(t,i),r,o,a,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new me(ne.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class uee{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(gi(t),this.D_=!1):ge("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class hee{constructor(e,t,i,r,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{i.enqueueAndForget((0,ae.A)(function*(){var l;Kl(o)&&(ge("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,ae.A)(function*(f){const g=Ie(f);g.L_.add(4),yield af(g),g.q_.set("Unknown"),g.L_.delete(4),yield Sg(g)}),function d(f){return l.apply(this,arguments)})(o))}))}),this.q_=new uee(i,r)}}function Sg(n){return QT.apply(this,arguments)}function QT(){return(QT=(0,ae.A)(function*(n){if(Kl(n))for(const e of n.B_)yield e(!0)})).apply(this,arguments)}function af(n){return YT.apply(this,arguments)}function YT(){return(YT=(0,ae.A)(function*(n){for(const e of n.B_)yield e(!1)})).apply(this,arguments)}function lw(n,e){const t=Ie(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),JT(t)?ZT(t):df(t).r_()&&XT(t,e))}function lf(n,e){const t=Ie(n),i=df(t);t.N_.delete(e),i.r_()&&hB(t,e),0===t.N_.size&&(i.r_()?i.o_():Kl(t)&&t.q_.set("Unknown"))}function XT(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}df(n).A_(e)}function hB(n,e){n.Q_.xe(e),df(n).R_(e)}function ZT(n){n.Q_=new uJ({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),df(n).start(),n.q_.v_()}function JT(n){return Kl(n)&&!df(n).n_()&&n.N_.size>0}function Kl(n){return 0===Ie(n).L_.size}function fB(n){n.Q_=void 0}function fee(n){return eA.apply(this,arguments)}function eA(){return(eA=(0,ae.A)(function*(n){n.q_.set("Online")})).apply(this,arguments)}function mee(n){return tA.apply(this,arguments)}function tA(){return(tA=(0,ae.A)(function*(n){n.N_.forEach((e,t)=>{XT(n,e)})})).apply(this,arguments)}function pee(n,e){return nA.apply(this,arguments)}function nA(){return(nA=(0,ae.A)(function*(n,e){fB(n),JT(n)?(n.q_.M_(e),ZT(n)):n.q_.set("Unknown")})).apply(this,arguments)}function gee(n,e,t){return iA.apply(this,arguments)}function iA(){return iA=(0,ae.A)(function*(n,e,t){if(n.q_.set("Online"),e instanceof s2&&2===e.state&&e.cause)try{yield(i=(0,ae.A)(function*(s,o){const a=o.cause;for(const l of o.targetIds)s.N_.has(l)&&(yield s.remoteSyncer.rejectListen(l,a),s.N_.delete(l),s.Q_.removeTarget(l))}),function r(s,o){return i.apply(this,arguments)})(n,e)}catch(i){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield cw(n,i)}else if(e instanceof qb?n.Q_.Ke(e):e instanceof r2?n.Q_.He(e):n.Q_.We(e),!t.isEqual(ze.min()))try{const i=yield tB(n.localStore);t.compareTo(i)>=0&&(yield function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){const f=s.N_.get(d);f&&s.N_.set(d,f.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,d)=>{const f=s.N_.get(l);if(!f)return;s.N_.set(l,f.withResumeToken(li.EMPTY_BYTE_STRING,f.snapshotVersion)),hB(s,l);const g=new Ua(f.target,l,d,f.sequenceNumber);XT(s,g)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){ge("RemoteStore","Failed to raise snapshot:",i),yield cw(n,i)}var i}),iA.apply(this,arguments)}function cw(n,e,t){return rA.apply(this,arguments)}function rA(){return(rA=(0,ae.A)(function*(n,e,t){if(!Ll(e))throw e;n.L_.add(1),yield af(n),n.q_.set("Offline"),t||(t=()=>tB(n.localStore)),n.asyncQueue.enqueueRetryable((0,ae.A)(function*(){ge("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Sg(n)}))})).apply(this,arguments)}function mB(n,e){return e().catch(t=>cw(n,t,e))}function cf(n){return sA.apply(this,arguments)}function sA(){return(sA=(0,ae.A)(function*(n){const e=Ie(n),t=Ql(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;_ee(e);)try{const r=yield tee(e.localStore,i);if(null===r){0===e.O_.length&&t.o_();break}i=r.batchId,yee(e,r)}catch(r){yield cw(e,r)}pB(e)&&gB(e)})).apply(this,arguments)}function _ee(n){return Kl(n)&&n.O_.length<10}function yee(n,e){n.O_.push(e);const t=Ql(n);t.r_()&&t.V_&&t.m_(e.mutations)}function pB(n){return Kl(n)&&!Ql(n).n_()&&n.O_.length>0}function gB(n){Ql(n).start()}function vee(n){return oA.apply(this,arguments)}function oA(){return(oA=(0,ae.A)(function*(n){Ql(n).p_()})).apply(this,arguments)}function bee(n){return aA.apply(this,arguments)}function aA(){return(aA=(0,ae.A)(function*(n){const e=Ql(n);for(const t of n.O_)e.m_(t.mutations)})).apply(this,arguments)}function wee(n,e,t){return lA.apply(this,arguments)}function lA(){return(lA=(0,ae.A)(function*(n,e,t){const i=n.O_.shift(),r=yT.from(i,e,t);yield mB(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield cf(n)})).apply(this,arguments)}function Eee(n,e){return cA.apply(this,arguments)}function cA(){return cA=(0,ae.A)(function*(n,e){var t;e&&Ql(n).V_&&(yield(t=(0,ae.A)(function*(r,s){if(ZV(a=s.code)&&a!==ne.ABORTED){const o=r.O_.shift();Ql(r).s_(),yield mB(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield cf(r)}var a}),function i(r,s){return t.apply(this,arguments)})(n,e)),pB(n)&&gB(n)}),cA.apply(this,arguments)}function _B(n,e){return dA.apply(this,arguments)}function dA(){return(dA=(0,ae.A)(function*(n,e){const t=Ie(n);t.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const i=Kl(t);t.L_.add(3),yield af(t),i&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Sg(t)})).apply(this,arguments)}function uA(n,e){return hA.apply(this,arguments)}function hA(){return(hA=(0,ae.A)(function*(n,e){const t=Ie(n);e?(t.L_.delete(2),yield Sg(t)):e||(t.L_.add(2),yield af(t),t.q_.set("Unknown"))})).apply(this,arguments)}function df(n){return n.K_||(n.K_=function(t,i,r){const s=Ie(t);return s.w_(),new lee(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Eo:fee.bind(null,n),Ro:mee.bind(null,n),mo:pee.bind(null,n),d_:gee.bind(null,n)}),n.B_.push(function(){var e=(0,ae.A)(function*(t){t?(n.K_.s_(),JT(n)?ZT(n):n.q_.set("Unknown")):(yield n.K_.stop(),fB(n))});return function(t){return e.apply(this,arguments)}}())),n.K_}function Ql(n){return n.U_||(n.U_=function(t,i,r){const s=Ie(t);return s.w_(),new cee(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:vee.bind(null,n),mo:Eee.bind(null,n),f_:bee.bind(null,n),g_:wee.bind(null,n)}),n.B_.push(function(){var e=(0,ae.A)(function*(t){t?(n.U_.s_(),yield cf(n)):(yield n.U_.stop(),n.O_.length>0&&(ge("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))});return function(t){return e.apply(this,arguments)}}())),n.U_}class fA{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,s){const o=Date.now()+i,a=new fA(e,t,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new me(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uf(n,e){if(gi("AsyncQueue",`${e}: ${n}`),Ll(n))return new me(ne.UNAVAILABLE,`${e}: ${n}`);throw n}class hf{constructor(e){this.comparator=e?(t,i)=>e(t,i)||De.comparator(t.key,i.key):(t,i)=>De.comparator(t.key,i.key),this.keyedMap=hg(),this.sortedSet=new In(this.comparator)}static emptySet(e){return new hf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof hf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new hf;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class yB{constructor(){this.W_=new In(De.comparator)}track(e){const t=e.doc.key,i=this.W_.get(t);i?0!==e.type&&3===i.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==i.type?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.W_=this.W_.remove(t):1===e.type&&2===i.type?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Ne():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,i)=>{e.push(i)}),e}}class ff{constructor(e,t,i,r,s,o,a,l,d){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,t,i,r,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new ff(e,t,hf.emptySet(t),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class Iee{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class xee{constructor(){this.queries=vB(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(t,i){const r=Ie(t),s=r.queries;r.queries=vB(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(i)})}(this,new me(ne.ABORTED,"Firestore shutting down"))}}function vB(){return new Va(n=>PV(n),dg)}function mA(n,e){return pA.apply(this,arguments)}function pA(){return(pA=(0,ae.A)(function*(n,e){const t=Ie(n);let i=3;const r=e.query;let s=t.queries.get(r);s?!s.H_()&&e.J_()&&(i=2):(s=new Iee,i=e.J_()?0:1);try{switch(i){case 0:s.z_=yield t.onListen(r,!0);break;case 1:s.z_=yield t.onListen(r,!1);break;case 2:yield t.onFirstRemoteStoreListen(r)}}catch(o){const a=uf(o,`Initialization of query '${Gh(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&yA(t)})).apply(this,arguments)}function gA(n,e){return _A.apply(this,arguments)}function _A(){return(_A=(0,ae.A)(function*(n,e){const t=Ie(n),i=e.query;let r=3;const s=t.queries.get(i);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),0===s.j_.length?r=e.J_()?0:1:!s.H_()&&e.J_()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})).apply(this,arguments)}function Cee(n,e){const t=Ie(n);let i=!1;for(const r of e){const o=t.queries.get(r.query);if(o){for(const a of o.j_)a.X_(r)&&(i=!0);o.z_=r}}i&&yA(t)}function Tee(n,e,t){const i=Ie(n),r=i.queries.get(e);if(r)for(const s of r.j_)s.onError(t);i.queries.delete(e)}function yA(n){n.Y_.forEach(e=>{e.next()})}var vA,bB;(bB=vA||(vA={})).ea="default",bB.Cache="cache";class bA{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new ff(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=ff.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==vA.Cache}}class Aee{constructor(e,t){this.aa=e,this.byteLength=t}ua(){return"metadata"in this.aa}}class wB{constructor(e){this.serializer=e}Es(e){return $o(this.serializer,e)}ds(e){return e.metadata.exists?p2(this.serializer,e.document,!1):kn.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return _i(e)}}class Dee{constructor(e,t,i){this.ca=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=EB(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++t;const i=Pt.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ha(e){const t=new Map,i=new wB(this.serializer);for(const r of e)if(r.metadata.queries){const s=i.Es(r.metadata.name);for(const o of r.metadata.queries){const a=(t.get(o)||gt()).add(s);t.set(o,a)}}return t}complete(){var e=this;return(0,ae.A)(function*(){const t=yield function nee(n,e,t,i){return jT.apply(this,arguments)}(e.localStore,new wB(e.serializer),e.documents,e.ca.id),i=e.ha(e.documents);for(const r of e.queries)yield iee(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Pa:e.collectionGroups,Ia:t}})()}}function EB(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class IB{constructor(e){this.key=e}}class xB{constructor(e){this.key=e}}class CB{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=gt(),this.mutatedKeys=gt(),this.Aa=NV(e),this.Ra=new hf(this.Aa)}get Va(){return this.Ta}ma(e,t){const i=t?t.fa:new yB,r=t?t.Ra:this.Ra;let s=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,d="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((f,g)=>{const y=r.get(f),b=ug(this.query,g)?g:null,I=!!y&&this.mutatedKeys.has(y.key),x=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let T=!1;y&&b?y.data.isEqual(b.data)?I!==x&&(i.track({type:3,doc:b}),T=!0):this.ga(y,b)||(i.track({type:2,doc:b}),T=!0,(l&&this.Aa(b,l)>0||d&&this.Aa(b,d)<0)&&(a=!0)):!y&&b?(i.track({type:0,doc:b}),T=!0):y&&!b&&(i.track({type:1,doc:y}),T=!0,(l||d)&&(a=!0)),T&&(b?(o=o.add(b),s=x?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const f="F"===this.query.limitType?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),i.track({type:1,doc:f})}return{Ra:o,fa:i,ns:a,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((f,g)=>function(b,I){const x=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne()}};return x(b)-x(I)}(f.type,g.type)||this.Aa(f.doc,g.doc)),this.pa(i),r=null!=r&&r;const a=t&&!r?this.ya():[],l=0===this.da.size&&this.current&&!r?1:0,d=l!==this.Ea;return this.Ea=l,0!==o.length||d?{snapshot:new ff(this.query,e.Ra,s,o,e.mutatedKeys,0===l,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new yB,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=gt(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const t=[];return e.forEach(i=>{this.da.has(i)||t.push(new xB(i))}),this.da.forEach(i=>{e.has(i)||t.push(new IB(i))}),t}ba(e){this.Ta=e.Ts,this.da=gt();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return ff.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class See{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class kee{constructor(e){this.key=e,this.va=!1}}class Ree{constructor(e,t,i,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Va(a=>PV(a),dg),this.Ma=new Map,this.xa=new Set,this.Oa=new In(De.comparator),this.Na=new Map,this.La=new PT,this.Ba={},this.ka=new Map,this.qa=Id.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Mee(n,e){return wA.apply(this,arguments)}function wA(){return(wA=(0,ae.A)(function*(n,e,t=!0){const i=dw(n);let r;const s=i.Fa.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=yield TB(i,e,t,!0),r})).apply(this,arguments)}function Pee(n,e){return EA.apply(this,arguments)}function EA(){return(EA=(0,ae.A)(function*(n,e){const t=dw(n);yield TB(t,e,!0,!1)})).apply(this,arguments)}function TB(n,e,t,i){return IA.apply(this,arguments)}function IA(){return(IA=(0,ae.A)(function*(n,e,t,i){const r=yield rf(n.localStore,yr(e)),s=r.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t);let a;return i&&(a=yield xA(n,e,s,"current"===o,r.resumeToken)),n.isPrimaryClient&&t&&lw(n.remoteStore,r),a})).apply(this,arguments)}function xA(n,e,t,i,r){return CA.apply(this,arguments)}function CA(){return CA=(0,ae.A)(function*(n,e,t,i,r){n.Ka=(g,y,b)=>{return(I=(0,ae.A)(function*(T,V,M,U){let J=V.view.ma(M);J.ns&&(J=yield iw(T.localStore,V.query,!1).then(({documents:D})=>V.view.ma(D,J)));const ye=U&&U.targetChanges.get(V.targetId),Se=U&&null!=U.targetMismatches.get(V.targetId),N=V.view.applyChanges(J,T.isPrimaryClient,ye,Se);return FA(T,V.targetId,N.wa),N.snapshot}),function x(T,V,M,U){return I.apply(this,arguments)})(n,g,y,b);var I};const s=yield iw(n.localStore,e,!0),o=new CB(e,s.Ts),a=o.ma(s.documents),l=yg.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),d=o.applyChanges(a,n.isPrimaryClient,l);FA(n,t,d.wa);const f=new See(e,t,o);return n.Fa.set(e,f),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),d.snapshot}),CA.apply(this,arguments)}function Oee(n,e,t){return TA.apply(this,arguments)}function TA(){return(TA=(0,ae.A)(function*(n,e,t){const i=Ie(n),r=i.Fa.get(e),s=i.Ma.get(r.targetId);if(s.length>1)return i.Ma.set(r.targetId,s.filter(o=>!dg(o,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield sf(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&lf(i.remoteStore,r.targetId),mf(i,r.targetId)}).catch(Fl))):(mf(i,r.targetId),yield sf(i.localStore,r.targetId,!0))})).apply(this,arguments)}function Nee(n,e){return AA.apply(this,arguments)}function AA(){return(AA=(0,ae.A)(function*(n,e){const t=Ie(n),i=t.Fa.get(e),r=t.Ma.get(i.targetId);t.isPrimaryClient&&1===r.length&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),lf(t.remoteStore,i.targetId))})).apply(this,arguments)}function DA(){return(DA=(0,ae.A)(function*(n,e,t){const i=WA(n);try{const r=yield function(o,a){const l=Ie(o),d=Bn.now(),f=a.reduce((b,I)=>b.add(I.key),gt());let g,y;return l.persistence.runTransaction("Locally write mutations","readwrite",b=>{let I=ns(),x=gt();return l.cs.getEntries(b,f).next(T=>{I=T,I.forEach((V,M)=>{M.isValidDocument()||(x=x.add(V))})}).next(()=>l.localDocuments.getOverlayedDocuments(b,I)).next(T=>{g=T;const V=[];for(const M of a){const U=lJ(M,g.get(M.key).overlayedDocument);null!=U&&V.push(new Ba(M.key,U,_V(U.value.mapValue),jn.exists(!0)))}return l.mutationQueue.addMutationBatch(b,d,V,a)}).next(T=>{y=T;const V=T.applyToLocalDocumentSet(g,x);return l.documentOverlayCache.saveOverlays(b,T.batchId,V)})}).then(()=>({batchId:y.batchId,changes:LV(g)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let d=o.Ba[o.currentUser.toKey()];d||(d=new In(at)),d=d.insert(a,l),o.Ba[o.currentUser.toKey()]=d}(i,r.batchId,t),yield ja(i,r.changes),yield cf(i.remoteStore)}catch(r){const s=uf(r,"Failed to persist write");t.reject(s)}})).apply(this,arguments)}function AB(n,e){return SA.apply(this,arguments)}function SA(){return(SA=(0,ae.A)(function*(n,e){const t=Ie(n);try{const i=yield function eee(n,e){const t=Ie(n),i=e.snapshotVersion;let r=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.cs.newChangeBuffer({trackRemovals:!0});r=t.os;const a=[];e.targetChanges.forEach((f,g)=>{const y=r.get(g);if(!y)return;a.push(t.Ur.removeMatchingKeys(s,f.removedDocuments,g).next(()=>t.Ur.addMatchingKeys(s,f.addedDocuments,g)));let b=y.withSequenceNumber(s.currentSequenceNumber);var x,T,V;null!==e.targetMismatches.get(g)?b=b.withResumeToken(li.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):f.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(f.resumeToken,i)),r=r.insert(g,b),T=b,V=f,(0===(x=y).resumeToken.approximateByteSize()||T.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8||V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0)&&a.push(t.Ur.updateTargetData(s,b))});let l=ns(),d=gt();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(nB(s,o,e.documentUpdates).next(f=>{l=f.Ps,d=f.Is})),!i.isEqual(ze.min())){const f=t.Ur.getLastRemoteSnapshotVersion(s).next(g=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(f)}return K.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,d)).next(()=>l)}).then(s=>(t.os=r,s))}(t.localStore,e);e.targetChanges.forEach((r,s)=>{const o=t.Na.get(s);o&&(Be(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.va=!0:r.modifiedDocuments.size>0?Be(o.va):r.removedDocuments.size>0&&(Be(o.va),o.va=!1))}),yield ja(t,i,e)}catch(i){yield Fl(i)}})).apply(this,arguments)}function DB(n,e,t){const i=Ie(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=Ie(o);l.onlineState=a;let d=!1;l.queries.forEach((f,g)=>{for(const y of g.j_)y.Z_(a)&&(d=!0)}),d&&yA(l)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Lee(n,e,t){return kA.apply(this,arguments)}function kA(){return(kA=(0,ae.A)(function*(n,e,t){const i=Ie(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Na.get(e),s=r&&r.key;if(s){let o=new In(De.comparator);o=o.insert(s,kn.newNoDocument(s,ze.min()));const a=gt().add(s),l=new _g(ze.min(),new Map,new In(at),o,a);yield AB(i,l),i.Oa=i.Oa.remove(s),i.Na.delete(e),LA(i)}else yield sf(i.localStore,e,!1).then(()=>mf(i,e,t)).catch(Fl)})).apply(this,arguments)}function Vee(n,e){return RA.apply(this,arguments)}function RA(){return(RA=(0,ae.A)(function*(n,e){const t=Ie(n),i=e.batch.batchId;try{const r=yield function JJ(n,e){const t=Ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,d,f){const g=d.batch,y=g.keys();let b=K.resolve();return y.forEach(I=>{b=b.next(()=>f.getEntry(l,I)).next(x=>{const T=d.docVersions.get(I);Be(null!==T),x.version.compareTo(T)<0&&(g.applyToRemoteDocument(x,d),x.isValidDocument()&&(x.setReadTime(d.commitVersion),f.addEntry(x)))})}),b.next(()=>a.mutationQueue.removeMutationBatch(l,g))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=gt();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(l=l.add(a.batch.mutations[d].key));return l}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);NA(t,i,null),OA(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield ja(t,r)}catch(r){yield Fl(r)}})).apply(this,arguments)}function Bee(n,e,t){return MA.apply(this,arguments)}function MA(){return(MA=(0,ae.A)(function*(n,e,t){const i=Ie(n);try{const r=yield function(o,a){const l=Ie(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return l.mutationQueue.lookupMutationBatch(d,a).next(g=>(Be(null!==g),f=g.keys(),l.mutationQueue.removeMutationBatch(d,g))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,f,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>l.localDocuments.getDocuments(d,f))})}(i.localStore,e);NA(i,e,t),OA(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield ja(i,r)}catch(r){yield Fl(r)}})).apply(this,arguments)}function PA(){return(PA=(0,ae.A)(function*(n,e){const t=Ie(n);Kl(t.remoteStore)||ge("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const a=Ie(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(t.localStore);if(-1===i)return void e.resolve();const r=t.ka.get(i)||[];r.push(e),t.ka.set(i,r)}catch(i){const r=uf(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}})).apply(this,arguments)}function OA(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function NA(n,e,t){const i=Ie(n);let r=i.Ba[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function mf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Ma.get(e))n.Fa.delete(i),t&&n.Ca.$a(i,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(i=>{n.La.containsKey(i)||SB(n,i)})}function SB(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);null!==t&&(lf(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),LA(n))}function FA(n,e,t){for(const i of t)i instanceof IB?(n.La.addReference(i.key,e),jee(n,i)):i instanceof xB?(ge("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,e),n.La.containsKey(i.key)||SB(n,i.key)):Ne()}function jee(n,e){const t=e.key,i=t.path.canonicalString();n.Oa.get(t)||n.xa.has(i)||(ge("SyncEngine","New document in limbo: "+t),n.xa.add(i),LA(n))}function LA(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new De(Pt.fromString(e)),i=n.qa.next();n.Na.set(i,new kee(t)),n.Oa=n.Oa.insert(t,i),lw(n.remoteStore,new Ua(yr($h(t.path)),i,"TargetPurposeLimboResolution",_s.oe))}}function ja(n,e,t){return VA.apply(this,arguments)}function VA(){return VA=(0,ae.A)(function*(n,e,t){const i=Ie(n),r=[],s=[],o=[];var a;i.Fa.isEmpty()||(i.Fa.forEach((a,l)=>{o.push(i.Ka(l,e,t).then(d=>{var f;if((d||t)&&i.isPrimaryClient){const g=d?!d.fromCache:null===(f=t?.targetChanges.get(l.targetId))||void 0===f?void 0:f.current;i.sharedClientState.updateQueryState(l.targetId,g?"current":"not-current")}if(d){r.push(d);const g=VT.Wi(l.targetId,d);s.push(g)}}))}),yield Promise.all(o),i.Ca.d_(r),yield(a=(0,ae.A)(function*(d,f){const g=Ie(d);try{yield g.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>K.forEach(f,b=>K.forEach(b.$i,I=>g.persistence.referenceDelegate.addReference(y,b.targetId,I)).next(()=>K.forEach(b.Ui,I=>g.persistence.referenceDelegate.removeReference(y,b.targetId,I)))))}catch(y){if(!Ll(y))throw y;ge("LocalStore","Failed to update sequence numbers: "+y)}for(const y of f){const b=y.targetId;if(!y.fromCache){const I=g.os.get(b),T=I.withLastLimboFreeSnapshotVersion(I.snapshotVersion);g.os=g.os.insert(b,T)}}}),function l(d,f){return a.apply(this,arguments)})(i.localStore,s))}),VA.apply(this,arguments)}function zee(n,e){return BA.apply(this,arguments)}function BA(){return(BA=(0,ae.A)(function*(n,e){const t=Ie(n);if(!t.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const i=yield eB(t.localStore,e);t.currentUser=e,(s=t).ka.forEach(a=>{a.forEach(l=>{l.reject(new me(ne.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ka.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield ja(t,i.hs)}var s})).apply(this,arguments)}function Hee(n,e){const t=Ie(n),i=t.Na.get(e);if(i&&i.va)return gt().add(i.key);{let r=gt();const s=t.Ma.get(e);if(!s)return r;for(const o of s){const a=t.Fa.get(o);r=r.unionWith(a.view.Va)}return r}}function $ee(n,e){return UA.apply(this,arguments)}function UA(){return(UA=(0,ae.A)(function*(n,e){const t=Ie(n),i=yield iw(t.localStore,e.query,!0),r=e.view.ba(i);return t.isPrimaryClient&&FA(t,e.targetId,r.wa),r})).apply(this,arguments)}function qee(n,e){return jA.apply(this,arguments)}function jA(){return(jA=(0,ae.A)(function*(n,e){const t=Ie(n);return rB(t.localStore,e).then(i=>ja(t,i))})).apply(this,arguments)}function Gee(n,e,t,i){return zA.apply(this,arguments)}function zA(){return(zA=(0,ae.A)(function*(n,e,t,i){const r=Ie(n),s=yield function(a,l){const d=Ie(a),f=Ie(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",g=>f.Mn(g,l).next(y=>y?d.localDocuments.getDocuments(g,y):K.resolve(null)))}(r.localStore,e);var l;null!==s?("pending"===t?yield cf(r.remoteStore):"acknowledged"===t||"rejected"===t?(NA(r,e,i||null),OA(r,e),l=e,Ie(Ie(r.localStore).mutationQueue).On(l)):Ne(),yield ja(r,s)):ge("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function HA(){return(HA=(0,ae.A)(function*(n,e){const t=Ie(n);if(dw(t),WA(t),!0===e&&!0!==t.Qa){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield kB(t,i.toArray());t.Qa=!0,yield uA(t.remoteStore,!0);for(const s of r)lw(t.remoteStore,s)}else if(!1===e&&!1!==t.Qa){const i=[];let r=Promise.resolve();t.Ma.forEach((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?i.push(o):r=r.then(()=>(mf(t,o),sf(t.localStore,o,!0))),lf(t.remoteStore,o)}),yield r,yield kB(t,i),function(o){const a=Ie(o);a.Na.forEach((l,d)=>{lf(a.remoteStore,d)}),a.La.pr(),a.Na=new Map,a.Oa=new In(De.comparator)}(t),t.Qa=!1,yield uA(t.remoteStore,!1)}})).apply(this,arguments)}function kB(n,e,t){return $A.apply(this,arguments)}function $A(){return($A=(0,ae.A)(function*(n,e,t){const i=Ie(n),r=[],s=[];for(const o of e){let a;const l=i.Ma.get(o);if(l&&0!==l.length){a=yield rf(i.localStore,yr(l[0]));for(const d of l){const f=i.Fa.get(d),g=yield $ee(i,f);g.snapshot&&s.push(g.snapshot)}}else{const d=yield iB(i.localStore,o);a=yield rf(i.localStore,d),yield xA(i,RB(d),o,!1,a.resumeToken)}r.push(a)}return i.Ca.d_(s),r})).apply(this,arguments)}function RB(n){return SV(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Kee(n){return t=Ie(n).localStore,Ie(Ie(t).persistence).Qi();var t}function Qee(n,e,t,i){return qA.apply(this,arguments)}function qA(){return(qA=(0,ae.A)(function*(n,e,t,i){const r=Ie(n);if(r.Qa)return void ge("SyncEngine","Ignoring unexpected query state notification.");const s=r.Ma.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const o=yield rB(r.localStore,OV(s[0])),a=_g.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,li.EMPTY_BYTE_STRING);yield ja(r,o,a);break}case"rejected":yield sf(r.localStore,e,!0),mf(r,e,i);break;default:Ne()}})).apply(this,arguments)}function Yee(n,e,t){return GA.apply(this,arguments)}function GA(){return(GA=(0,ae.A)(function*(n,e,t){const i=dw(n);if(i.Qa){for(const r of e){if(i.Ma.has(r)&&i.sharedClientState.isActiveQueryTarget(r)){ge("SyncEngine","Adding an already active target "+r);continue}const s=yield iB(i.localStore,r),o=yield rf(i.localStore,s);yield xA(i,RB(s),o.targetId,!1,o.resumeToken),lw(i.remoteStore,o)}for(const r of t)i.Ma.has(r)&&(yield sf(i.localStore,r,!1).then(()=>{lf(i.remoteStore,r),mf(i,r)}).catch(Fl))}})).apply(this,arguments)}function dw(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=AB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lee.bind(null,e),e.Ca.d_=Cee.bind(null,e.eventManager),e.Ca.$a=Tee.bind(null,e.eventManager),e}function WA(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Vee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Bee.bind(null,e),e}let pf=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){var i=this;return(0,ae.A)(function*(){i.serializer=Dg(t.databaseInfo.databaseId),i.sharedClientState=i.Wa(t),i.persistence=i.Ga(t),yield i.persistence.start(),i.localStore=i.za(t),i.gcScheduler=i.ja(t,i.localStore),i.indexBackfillerScheduler=i.Ha(t,i.localStore)})()}ja(t,i){return null}Ha(t,i){return null}za(t){return J2(this.persistence,new Z2,t.initialUser,this.serializer)}Ga(t){return new OT(ew.Zr,this.serializer)}Wa(t){return new lB}terminate(){var t=this;return(0,ae.A)(function*(){var i,r;null===(i=t.gcScheduler)||void 0===i||i.stop(),null===(r=t.indexBackfillerScheduler)||void 0===r||r.stop(),t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}return n.provider={build:()=>new n},n})();class KA extends pf{constructor(e,t,i){super(),this.Ja=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,ae.A)(function*(){yield t().call(i,e),yield i.Ja.initialize(i,e),yield WA(i.Ja.syncEngine),yield cf(i.Ja.remoteStore),yield i.persistence.yi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(e){return J2(this.persistence,new Z2,e.initialUser,this.serializer)}ja(e,t){return new H2(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ha(e,t){const i=new vZ(t,this.persistence);return new yZ(e.asyncQueue,i)}Ga(e){const t=LT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?vr.withCacheSize(this.cacheSizeBytes):vr.DEFAULT;return new FT(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,dB(),aw(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new lB}}class MB extends KA{constructor(e,t){super(e,t,!1),this.Ja=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,ae.A)(function*(){yield t().call(i,e);const r=i.Ja.syncEngine;i.sharedClientState instanceof GT&&(i.sharedClientState.syncEngine={no:Gee.bind(null,r),ro:Qee.bind(null,r),io:Yee.bind(null,r),Qi:Kee.bind(null,r),eo:qee.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.yi(function(){var s=(0,ae.A)(function*(o){yield function Wee(n,e){return HA.apply(this,arguments)}(i.Ja.syncEngine,o),i.gcScheduler&&(o&&!i.gcScheduler.started?i.gcScheduler.start():o||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(o&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():o||i.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}Wa(e){const t=dB();if(!GT.D(t))throw new me(ne.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=LT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new GT(t,e.asyncQueue,i,e.clientId,e.initialUser)}}let gf=(()=>{class n{initialize(t,i){var r=this;return(0,ae.A)(function*(){r.localStore||(r.localStore=t.localStore,r.sharedClientState=t.sharedClientState,r.datastore=r.createDatastore(i),r.remoteStore=r.createRemoteStore(i),r.eventManager=r.createEventManager(i),r.syncEngine=r.createSyncEngine(i,!t.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>DB(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=zee.bind(null,r.syncEngine),yield uA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(t){return new xee}createDatastore(t){const i=Dg(t.databaseInfo.databaseId),r=new aee(t.databaseInfo);return new dee(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return r=this.localStore,s=this.datastore,o=t.asyncQueue,a=i=>DB(this.syncEngine,i,0),l=cB.D()?new cB:new ree,new hee(r,s,o,a,l);var r,s,o,a,l}createSyncEngine(t,i){return function(s,o,a,l,d,f,g){const y=new Ree(s,o,a,l,d,f);return g&&(y.Qa=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){var t=this;return(0,ae.A)(function*(){var i,r,s;yield(s=(0,ae.A)(function*(a){const l=Ie(a);ge("RemoteStore","RemoteStore shutting down."),l.L_.add(5),yield af(l),l.k_.shutdown(),l.q_.set("Unknown")}),function o(a){return s.apply(this,arguments)})(t.remoteStore),null===(i=t.datastore)||void 0===i||i.terminate(),null===(r=t.eventManager)||void 0===r||r.terminate()})()}}return n.provider={build:()=>new n},n})();function PB(n,e=10240){let t=0;return{read:()=>(0,ae.A)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,ae.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class uw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):gi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class Jee{constructor(e,t){this.Xa=e,this.serializer=t,this.metadata=new Hi,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(i=>{i&&i.ua()?this.metadata.resolve(i.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.aa)}`))},i=>this.metadata.reject(i))}close(){return this.Xa.cancel()}getMetadata(){var e=this;return(0,ae.A)(function*(){return e.metadata.promise})()}Ua(){var e=this;return(0,ae.A)(function*(){return yield e.getMetadata(),e.tu()})()}tu(){var e=this;return(0,ae.A)(function*(){const t=yield e.nu();if(null===t)return null;const i=e.eu.decode(t),r=Number(i);isNaN(r)&&e.ru(`length string (${i}) is not valid number`);const s=yield e.iu(r);return new Aee(JSON.parse(s),t.length+r)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}nu(){var e=this;return(0,ae.A)(function*(){for(;e.su()<0&&!(yield e.ou()););if(0===e.buffer.length)return null;const t=e.su();t<0&&e.ru("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}iu(e){var t=this;return(0,ae.A)(function*(){for(;t.buffer.length<e;)(yield t.ou())&&t.ru("Reached the end of bundle when more is expected.");const i=t.eu.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){var e=this;return(0,ae.A)(function*(){const t=yield e.Xa.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class ete{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ae.A)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw t.lastTransactionError=new me(ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),t.lastTransactionError;const i=yield(r=(0,ae.A)(function*(o,a){const l=Ie(o),d={documents:a.map(b=>vg(l.serializer,b))},f=yield l.Lo("BatchGetDocuments",l.serializer.databaseId,Pt.emptyPath(),d,a.length),g=new Map;f.forEach(b=>{const I=function _J(n,e){return"found"in e?function(i,r){Be(!!r.found);const s=$o(i,r.found.name),o=_i(r.found.updateTime),a=r.found.createTime?_i(r.found.createTime):ze.min(),l=new tr({mapValue:{fields:r.found.fields}});return kn.newFoundDocument(s,o,a,l)}(n,e):"missing"in e?function(i,r){Be(!!r.missing),Be(!!r.readTime);const s=$o(i,r.missing),o=_i(r.readTime);return kn.newNoDocument(s,o)}(n,e):Ne()}(l.serializer,b);g.set(I.key.toString(),I)});const y=[];return a.forEach(b=>{const I=g.get(b.toString());Be(!!I),y.push(I)}),y}),function s(o,a){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Yh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ae.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=De.fromPath(r);e.mutations.push(new gT(s,e.precondition(s)))}),yield(i=(0,ae.A)(function*(s,o){const a=Ie(s),l={writes:o.map(d=>bg(a.serializer,d))};yield a.Mo("Commit",a.serializer.databaseId,Pt.emptyPath(),l)}),function r(s,o){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ne();t=ze.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new me(ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ze.min())?jn.exists(!1):jn.updateTime(t):jn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ze.min()))throw new me(ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return jn.updateTime(t)}return jn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class tte{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this._u=i.maxAttempts,this.t_=new KT(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var e=this;this.t_.Go((0,ae.A)(function*(){const t=new ete(e.datastore),i=e.cu(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.lu(s)}))}).catch(r=>{e.lu(r)})}))}cu(e){try{const t=this.updateFunction(e);return!ng(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!ZV(t)}return!1}}class nte{constructor(e,t,i,r,s){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=zi.UNAUTHENTICATED,this.clientId=HL.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,function(){var a=(0,ae.A)(function*(l){ge("FirestoreClient","Received user=",l.uid),yield o.authCredentialListener(l),o.user=l});return function(l){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(i,a=>(ge("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ae.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=uf(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function QA(n,e){return YA.apply(this,arguments)}function YA(){return YA=(0,ae.A)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,ae.A)(function*(s){i.isEqual(s)||(yield eB(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),YA.apply(this,arguments)}function OB(n,e){return XA.apply(this,arguments)}function XA(){return(XA=(0,ae.A)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield ZA(n);ge("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>_B(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>_B(e.remoteStore,r)),n._onlineComponents=e})).apply(this,arguments)}function ZA(n){return JA.apply(this,arguments)}function JA(){return(JA=(0,ae.A)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{yield QA(n,n._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(r=e).name?r.code===ne.FAILED_PRECONDITION||r.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code))throw e;ps("Error using user provided cache. Falling back to memory cache: "+e),yield QA(n,new pf)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),yield QA(n,new pf);var r;return n._offlineComponents})).apply(this,arguments)}function hw(n){return eD.apply(this,arguments)}function eD(){return(eD=(0,ae.A)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),yield OB(n,n._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),yield OB(n,new gf))),n._onlineComponents})).apply(this,arguments)}function NB(n){return ZA(n).then(e=>e.persistence)}function _f(n){return ZA(n).then(e=>e.localStore)}function FB(n){return hw(n).then(e=>e.remoteStore)}function tD(n){return hw(n).then(e=>e.syncEngine)}function yf(n){return nD.apply(this,arguments)}function nD(){return(nD=(0,ae.A)(function*(n){const e=yield hw(n),t=e.eventManager;return t.onListen=Mee.bind(null,e.syncEngine),t.onUnlisten=Oee.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Pee.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Nee.bind(null,e.syncEngine),t})).apply(this,arguments)}function VB(n,e,t={}){const i=new Hi;return n.asyncQueue.enqueueAndForget((0,ae.A)(function*(){return function(s,o,a,l,d){const f=new uw({next:y=>{f.Za(),o.enqueueAndForget(()=>gA(s,g));const b=y.docs.has(a);!b&&y.fromCache?d.reject(new me(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&y.fromCache&&l&&"server"===l.source?d.reject(new me(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(y)},error:y=>d.reject(y)}),g=new bA($h(a.path),f,{includeMetadataChanges:!0,_a:!0});return mA(s,g)}(yield yf(n),n.asyncQueue,e,t,i)})),i.promise}function BB(n,e,t={}){const i=new Hi;return n.asyncQueue.enqueueAndForget((0,ae.A)(function*(){return function(s,o,a,l,d){const f=new uw({next:y=>{f.Za(),o.enqueueAndForget(()=>gA(s,g)),y.fromCache&&"server"===l.source?d.reject(new me(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(y)},error:y=>d.reject(y)}),g=new bA(a,f,{includeMetadataChanges:!0,_a:!0});return mA(s,g)}(yield yf(n),n.asyncQueue,e,t,i)})),i.promise}function UB(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const jB=new Map;function iD(n,e,t){if(!t)throw new me(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function zB(n,e,t,i){if(!0===e&&!0===i)throw new me(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function HB(n){if(!De.isDocumentKey(n))throw new me(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function $B(n){if(De.isDocumentKey(n))throw new me(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function fw(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(i=n).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof n?"a function":Ne()}function Dt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=fw(n);throw new me(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function qB(n,e){if(e<=0)throw new me(ne.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class GB{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new me(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new me(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=UB(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kg{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GB({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new me(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GB(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new oZ;switch(i.type){case"firstParty":return new dZ(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,ae.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=jB.get(t);i&&(ge("ComponentProvider","Removing Datastore"),jB.delete(t),i.terminate())}(this),Promise.resolve()}}class nr{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new nr(this.firestore,e,this._query)}}class Rn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class qo extends nr{constructor(e,t,i){super(e,t,$h(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new De(e))}withConverter(e){return new qo(this.firestore,e,this._path)}}function KB(n,e,...t){if(n=(0,yt.Ku)(n),iD("collection","path",e),n instanceof kg){const i=Pt.fromString(e,...t);return $B(i),new qo(n,null,i)}{if(!(n instanceof Rn||n instanceof qo))throw new me(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Pt.fromString(e,...t));return $B(i),new qo(n.firestore,null,i)}}function mw(n,e,...t){if(n=(0,yt.Ku)(n),1===arguments.length&&(e=HL.newId()),iD("doc","path",e),n instanceof kg){const i=Pt.fromString(e,...t);return HB(i),new Rn(n,null,new De(i))}{if(!(n instanceof Rn||n instanceof qo))throw new me(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Pt.fromString(e,...t));return HB(i),new Rn(n.firestore,n instanceof qo?n.converter:null,new De(i))}}function QB(n,e){return n=(0,yt.Ku)(n),e=(0,yt.Ku)(e),(n instanceof Rn||n instanceof qo)&&(e instanceof Rn||e instanceof qo)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function rD(n,e){return n=(0,yt.Ku)(n),e=(0,yt.Ku)(e),n instanceof nr&&e instanceof nr&&n.firestore===e.firestore&&dg(n._query,e._query)&&n.converter===e.converter}class YB{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new KT(this,"async_queue_retry"),this.Vu=()=>{const i=aw();i&&ge("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const t=aw();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=aw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new Hi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,ae.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(t){if(!Ll(t))throw t;ge("AsyncQueue","Operation failed with retryable error: "+t)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(i=>{throw this.Eu=i,this.du=!1,gi("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(i)),i}).then(i=>(this.du=!1,i))));return this.mu=t,t}enqueueAfterDelay(e,t,i){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=fA.createAndSchedule(this,e,t,i,s=>this.yu(s));return this.Tu.push(r),r}fu(){this.Eu&&Ne()}verifyOperationInProgress(){}wu(){var e=this;return(0,ae.A)(function*(){let t;do{t=e.mu,yield t}while(t!==e.mu)})()}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function sD(n){return function(t,i){if("object"!=typeof t||null===t)return!1;const r=t;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class pte{constructor(){this._progressObserver={},this._taskCompletionResolver=new Hi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class un extends kg{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new YB,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,ae.A)(function*(){if(e._firestoreClient){const t=e._firestoreClient.terminate();e._queue=new YB(t),e._firestoreClient=void 0,yield t}})()}}function zn(n){if(n._terminated)throw new me(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||XB(n),n._firestoreClient}function XB(n){var e,t,i;const r=n._freezeSettings(),s=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new jZ(n._databaseId,l,n._persistenceKey,(f=r).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,UB(f.experimentalLongPollingOptions),f.useFetchStreams));var l,f;n._componentsProvider||!(null===(t=r.localCache)||void 0===t)&&t._offlineComponentProvider&&!(null===(i=r.localCache)||void 0===i)&&i._onlineComponentProvider&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new nte(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(n._componentsProvider))}function oD(){return(oD=(0,ae.A)(function*(n){ps("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();ZB(n,gf.provider,{build:t=>new MB(t,e.cacheSizeBytes)})})).apply(this,arguments)}function ZB(n,e,t){if((n=Dt(n,un))._firestoreClient||n._terminated)throw new me(ne.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new me(ne.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},XB(n)}class Go{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Go(li.fromBase64String(e))}catch(t){throw new me(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Go(li.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class za{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new me(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Cd{constructor(e){this._methodName=e}}class pw{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}}class gw{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}}const Tte=/^__.*__$/;class Ate{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Ba(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qh(e,this.data,t,this.fieldTransforms)}}class JB{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ba(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function eU(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne()}}class _w{constructor(e,t,i,r,s,o){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new _w(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:i,xu:!1});return r.Ou(e),r}Nu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return bw(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(eU(this.Cu)&&Tte.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Dte{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Dg(e)}Qu(e,t,i,r=!1){return new _w({Cu:e,methodName:t,qu:i,path:Sn.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Td(n){const e=n._freezeSettings(),t=Dg(n._databaseId);return new Dte(n._databaseId,!!e.ignoreUndefinedProperties,t)}function yw(n,e,t,i,r,s={}){const o=n.Qu(s.merge||s.mergeFields?2:0,e,t,r);fD("Data must be an object, but it was:",o,i);const a=iU(i,o);let l,d;if(s.merge)l=new ts(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const g of s.mergeFields){const y=Pg(e,g,t);if(!o.contains(y))throw new me(ne.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);sU(f,y)||f.push(y)}l=new ts(f),d=o.fieldTransforms.filter(g=>l.covers(g.field))}else l=null,d=o.fieldTransforms;return new Ate(new tr(a),l,d)}class Mg extends Cd{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mg}}function tU(n,e,t){return new _w({Cu:3,qu:e.settings.qu,methodName:n._methodName,xu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class aD extends Cd{_toFieldTransform(e){return new mg(e.path,new Wh)}isEqual(e){return e instanceof aD}}class lD extends Cd{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){const t=tU(this,e,!0),i=this.Ku.map(s=>Ad(s,t)),r=new gd(i);return new mg(e.path,r)}isEqual(e){return e instanceof lD&&(0,yt.bD)(this.Ku,e.Ku)}}class cD extends Cd{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){const t=tU(this,e,!0),i=this.Ku.map(s=>Ad(s,t)),r=new _d(i);return new mg(e.path,r)}isEqual(e){return e instanceof cD&&(0,yt.bD)(this.Ku,e.Ku)}}class dD extends Cd{constructor(e,t){super(e),this.$u=t}_toFieldTransform(e){const t=new Kh(e.serializer,UV(e.serializer,this.$u));return new mg(e.path,t)}isEqual(e){return e instanceof dD&&this.$u===e.$u}}function uD(n,e,t,i){const r=n.Qu(1,e,t);fD("Data must be an object, but it was:",r,i);const s=[],o=tr.empty();Vl(i,(l,d)=>{const f=vw(e,l,t);d=(0,yt.Ku)(d);const g=r.Nu(f);if(d instanceof Mg)s.push(f);else{const y=Ad(d,g);null!=y&&(s.push(f),o.set(f,y))}});const a=new ts(s);return new JB(o,a,r.fieldTransforms)}function hD(n,e,t,i,r,s){const o=n.Qu(1,e,t),a=[Pg(e,i,t)],l=[r];if(s.length%2!=0)throw new me(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)a.push(Pg(e,s[y])),l.push(s[y+1]);const d=[],f=tr.empty();for(let y=a.length-1;y>=0;--y)if(!sU(d,a[y])){const b=a[y];let I=l[y];I=(0,yt.Ku)(I);const x=o.Nu(b);if(I instanceof Mg)d.push(b);else{const T=Ad(I,x);null!=T&&(d.push(b),f.set(b,T))}}const g=new ts(d);return new JB(f,g,o.fieldTransforms)}function nU(n,e,t,i=!1){return Ad(t,n.Qu(i?4:3,e))}function Ad(n,e){if(rU(n=(0,yt.Ku)(n)))return fD("Unsupported field value:",e,n),iU(n,e);if(n instanceof Cd)return function(i,r){if(!eU(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=Ad(a,r.Lu(o));null==l&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(i,r){if(null===(i=(0,yt.Ku)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return UV(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const s=Bn.fromDate(i);return{timestampValue:Xh(r.serializer,s)}}if(i instanceof Bn){const s=new Bn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Xh(r.serializer,s)}}if(i instanceof pw)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Go)return{bytesValue:c2(r.serializer,i._byteString)};if(i instanceof Rn){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ET(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof gw)return a=r,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:i.toArray().map(l=>{if("number"!=typeof l)throw a.Bu("VectorValues must only contain numeric values.");return pT(a.serializer,l)})}}}}};var a;throw r.Bu(`Unsupported field value: ${fw(i)}`)}(n,e)}function iU(n,e){const t={};return oV(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vl(n,(i,r)=>{const s=Ad(r,e.Mu(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function rU(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Bn||n instanceof pw||n instanceof Go||n instanceof Rn||n instanceof Cd||n instanceof gw)}function fD(n,e,t){if(!rU(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=fw(t);throw e.Bu("an object"===i?n+" a custom object":n+" "+i)}var r}function Pg(n,e,t){if((e=(0,yt.Ku)(e))instanceof za)return e._internalPath;if("string"==typeof e)return vw(n,e);throw bw("Field path arguments must be of type string or ",n,!1,void 0,t)}const Ste=new RegExp("[~\\*/\\[\\]]");function vw(n,e,t){if(e.search(Ste)>=0)throw bw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new za(...e.split("."))._internalPath}catch{throw bw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function bw(n,e,t,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new me(ne.INVALID_ARGUMENT,a+n+l)}function sU(n,e){return n.some(t=>t.isEqual(e))}class Og{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new kte(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ww("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class kte extends Og{data(){return super.data()}}function ww(n,e){return"string"==typeof e?vw(n,e):e instanceof za?e._internalPath:e._delegate._internalPath}function oU(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new me(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mD{}class Ng extends mD{}function Yl(n,e,...t){let i=[];e instanceof mD&&i.push(e),i=i.concat(t),function(s){const o=s.filter(l=>l instanceof vf).length,a=s.filter(l=>l instanceof Fg).length;if(o>1||o>0&&a>0)throw new me(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Fg extends Ng{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Fg(e,t,i)}_apply(e){const t=this._parse(e);return dU(e._query,t),new nr(e.firestore,e.converter,fT(e._query,t))}_parse(e){const t=Td(e.firestore);return function(s,o,a,l,d,f,g){let y;if(d.isKeyField()){if("array-contains"===f||"array-contains-any"===f)throw new me(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if("in"===f||"not-in"===f){cU(g,f);const b=[];for(const I of g)b.push(lU(l,s,I));y={arrayValue:{values:b}}}else y=lU(l,s,g)}else"in"!==f&&"not-in"!==f&&"array-contains-any"!==f||cU(g,f),y=nU(a,"where",g,"in"===f||"not-in"===f);return Ot.create(d,f,y)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class vf extends mD{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new vf(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:on.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,s){let o=r;const a=s.getFlattenedFilters();for(const l of a)dU(o,l),o=fT(o,l)}(e._query,t),new nr(e.firestore,e.converter,fT(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class pD extends Ng{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new pD(e,t)}_apply(e){const t=function(r,s,o){if(null!==r.startAt)throw new me(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new me(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lg(s,o)}(e._query,this._field,this._direction);return new nr(e.firestore,e.converter,function(r,s){const o=r.explicitOrderBy.concat([s]);return new La(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class Ew extends Ng{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Ew(e,t,i)}_apply(e){return new nr(e.firestore,e.converter,Ub(e._query,this._limit,this._limitType))}}class Iw extends Ng{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Iw(e,t,i)}_apply(e){const t=aU(e,this.type,this._docOrFields,this._inclusive);return new nr(e.firestore,e.converter,(s=t,new La((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class xw extends Ng{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new xw(e,t,i)}_apply(e){const t=aU(e,this.type,this._docOrFields,this._inclusive);return new nr(e.firestore,e.converter,(s=t,new La((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function aU(n,e,t,i){if(t[0]=(0,yt.Ku)(t[0]),t[0]instanceof Og)return function(s,o,a,l,d){if(!l)throw new me(ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const f=[];for(const g of qh(s))if(g.field.isKeyField())f.push(md(o,l.key));else{const y=l.data.field(g.field);if(Mb(y))throw new me(ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===y){const b=g.field.canonicalString();throw new me(ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${b}' (used as the orderBy) does not exist.`)}f.push(y)}return new Hl(f,d)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Td(n.firestore);return function(o,a,l,d,f,g){const y=o.explicitOrderBy;if(f.length>y.length)throw new me(ne.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const b=[];for(let I=0;I<f.length;I++){const x=f[I];if(y[I].field.isKeyField()){if("string"!=typeof x)throw new me(ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof x}`);if(!hT(o)&&-1!==x.indexOf("/"))throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${x}' contains a slash.`);const T=o.path.child(Pt.fromString(x));if(!De.isDocumentKey(T))throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${T}' is not because it contains an odd number of segments.`);const V=new De(T);b.push(md(a,V))}else{const T=nU(l,d,x);b.push(T)}}return new Hl(b,g)}(n._query,n.firestore._databaseId,r,e,t,i)}}function lU(n,e,t){if("string"==typeof(t=(0,yt.Ku)(t))){if(""===t)throw new me(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hT(e)&&-1!==t.indexOf("/"))throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Pt.fromString(t));if(!De.isDocumentKey(i))throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return md(n,new De(i))}if(t instanceof Rn)return md(n,t._key);throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fw(t)}.`)}function cU(n,e){if(!Array.isArray(n)||0===n.length)throw new me(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dU(n,e){const t=function(r,s){for(const o of r)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new me(ne.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class gD{convertValue(e,t="none"){switch(jl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Un(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Vl(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertVectorValue(e){var t,i,r;const s=null===(r=null===(i=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===i?void 0:i.values)||void 0===r?void 0:r.map(o=>Un(o.doubleValue));return new gw(s)}convertGeoPoint(e){return new pw(Un(e.latitude),Un(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Pb(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(rg(e));default:return null}}convertTimestamp(e){const t=Na(e);return new Bn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Pt.fromString(e);Be(w2(i));const r=new Bl(i.get(1),i.get(3)),s=new De(i.popFirst(5));return r.isEqual(t)||gi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function Cw(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Bte extends gD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Go(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,t)}}class Dd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ha extends Og{constructor(e,t,i,r,s,o){super(e,t,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Lg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(ww("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Lg extends Ha{data(e={}){return super.data(e)}}class Xl{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Dd(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Lg(this._firestore,this._userDataWriter,i.key,i,new Dd(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new Lg(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Dd(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const l=new Lg(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Dd(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,f=-1;return 0!==a.type&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:jte(a.type),doc:l,oldIndex:d,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function jte(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne()}}function hU(n,e){return n instanceof Ha&&e instanceof Ha?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Xl&&e instanceof Xl&&n._firestore===e._firestore&&rD(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Zl extends gD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Go(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,t)}}function fU(n,e,t){n=Dt(n,Rn);const i=Dt(n.firestore,un),r=Cw(n.converter,e,t);return bf(i,[yw(Td(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,jn.none())])}function mU(n,e,t,...i){n=Dt(n,Rn);const r=Dt(n.firestore,un),s=Td(r);let o;return o="string"==typeof(e=(0,yt.Ku)(e))||e instanceof za?hD(s,"updateDoc",n._key,e,t,i):uD(s,"updateDoc",n._key,e),bf(r,[o.toMutation(n._key,jn.exists(!0))])}function pU(n,...e){var t,i,r;n=(0,yt.Ku)(n);let s={includeMetadataChanges:!1,source:"default"},o=0;"object"!=typeof e[o]||sD(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(sD(e[o])){const g=e[o];e[o]=null===(t=g.next)||void 0===t?void 0:t.bind(g),e[o+1]=null===(i=g.error)||void 0===i?void 0:i.bind(g),e[o+2]=null===(r=g.complete)||void 0===r?void 0:r.bind(g)}let l,d,f;if(n instanceof Rn)d=Dt(n.firestore,un),f=$h(n._key.path),l={next:g=>{e[o]&&e[o](_D(d,n,g))},error:e[o+1],complete:e[o+2]};else{const g=Dt(n,nr);d=Dt(g.firestore,un),f=g._query;const y=new Zl(d);l={next:b=>{e[o]&&e[o](new Xl(d,y,g,b))},error:e[o+1],complete:e[o+2]},oU(n._query)}return function(y,b,I,x){const T=new uw(x),V=new bA(b,T,I);return y.asyncQueue.enqueueAndForget((0,ae.A)(function*(){return mA(yield yf(y),V)})),()=>{T.Za(),y.asyncQueue.enqueueAndForget((0,ae.A)(function*(){return gA(yield yf(y),V)}))}}(zn(d),f,a,l)}function bf(n,e){return function(i,r){const s=new Hi;return i.asyncQueue.enqueueAndForget((0,ae.A)(function*(){return function Fee(n,e,t){return DA.apply(this,arguments)}(yield tD(i),r,s)})),s.promise}(zn(n),e)}function _D(n,e,t){const i=t.docs.get(e._key),r=new Zl(n);return new Ha(n,r,e._key,i,new Dd(t.hasPendingWrites,t.fromCache),e.converter)}const sne={maxAttempts:5};class gU{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Td(e)}set(e,t,i){this._verifyNotCommitted();const r=Jl(e,this._firestore),s=Cw(r.converter,t,i),o=yw(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(o.toMutation(r._key,jn.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=Jl(e,this._firestore);let o;return o="string"==typeof(t=(0,yt.Ku)(t))||t instanceof za?hD(this._dataReader,"WriteBatch.update",s._key,t,i,r):uD(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,jn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Jl(e,this._firestore);return this._mutations=this._mutations.concat(new Yh(t._key,jn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new me(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Jl(n,e){if((n=(0,yt.Ku)(n)).firestore!==e)throw new me(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class one extends class{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=Td(t)}get(t){const i=Jl(t,this._firestore),r=new Bte(this._firestore);return this._transaction.lookup([i._key]).then(s=>{if(!s||1!==s.length)return Ne();const o=s[0];if(o.isFoundDocument())return new Og(this._firestore,r,o.key,o,i.converter);if(o.isNoDocument())return new Og(this._firestore,r,i._key,null,i.converter);throw Ne()})}set(t,i,r){const s=Jl(t,this._firestore),o=Cw(s.converter,i,r),a=yw(this._dataReader,"Transaction.set",s._key,o,null!==s.converter,r);return this._transaction.set(s._key,a),this}update(t,i,r,...s){const o=Jl(t,this._firestore);let a;return a="string"==typeof(i=(0,yt.Ku)(i))||i instanceof za?hD(this._dataReader,"Transaction.update",o._key,i,r,s):uD(this._dataReader,"Transaction.update",o._key,i),this._transaction.update(o._key,a),this}delete(t){const i=Jl(t,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Jl(e,this._firestore),i=new Zl(this._firestore);return super.get(e).then(r=>new Ha(this._firestore,i,t._key,r._document,new Dd(!1,!1),t.converter))}}function vD(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new me("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function bU(){if(typeof Uint8Array>"u")throw new me("unimplemented","Uint8Arrays are not available in this environment.")}function wU(){if(!function BZ(){return typeof atob<"u"}())throw new me("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){Fh=Lo.SDK_VERSION,(0,Lo._registerComponent)(new Tb.uA("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new un(new lZ(i.getProvider("auth-internal")),new uZ(i.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new me(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(d.options.projectId,f)}(o,r),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),(0,Lo.registerVersion)(UL,"4.7.3",e),(0,Lo.registerVersion)(UL,"4.7.3","esm2017")}();class Vg{constructor(e){this._delegate=e}static fromBase64String(e){return wU(),new Vg(Go.fromBase64String(e))}static fromUint8Array(e){return bU(),new Vg(Go.fromUint8Array(e))}toBase64(){return wU(),this._delegate.toBase64()}toUint8Array(){return bU(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function bD(n){return function gne(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class _ne{enableIndexedDbPersistence(e,t){return function _te(n,e){ps("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return ZB(n,gf.provider,{build:i=>new KA(i,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function yte(n){return oD.apply(this,arguments)}(e._delegate)}clearIndexedDbPersistence(e){return function vte(n){if(n._initialized&&!n._terminated)throw new me(ne.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Hi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ae.A)(function*(){try{yield(t=(0,ae.A)(function*(r){if(!Uo.D())return Promise.resolve();const s=r+"main";yield Uo.delete(s)}),function i(r){return t.apply(this,arguments)})(LT(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class EU{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Bl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ps("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function WB(n,e,t,i={}){var r;const s=(n=Dt(n,kg))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&ps("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if("string"==typeof i.mockUserToken)a=i.mockUserToken,l=zi.MOCK_USER;else{a=(0,yt.Fy)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new me(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new zi(d)}n._authCredentials=new aZ(new jL(a,l))}}(this._delegate,e,t,i)}enableNetwork(){return function wte(n){return function ite(n){return n.asyncQueue.enqueue((0,ae.A)(function*(){const e=yield NB(n),t=yield FB(n);return e.setNetworkEnabled(!0),function(r){const s=Ie(r);return s.L_.delete(0),Sg(s)}(t)}))}(zn(n=Dt(n,un)))}(this._delegate)}disableNetwork(){return function Ete(n){return function rte(n){return n.asyncQueue.enqueue((0,ae.A)(function*(){const e=yield NB(n),t=yield FB(n);return e.setNetworkEnabled(!1),(i=(0,ae.A)(function*(s){const o=Ie(s);o.L_.add(0),yield af(o),o.q_.set("Offline")}),function r(s){return i.apply(this,arguments)})(t);var i}))}(zn(n=Dt(n,un)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,zB("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function bte(n){return function(t){const i=new Hi;return t.asyncQueue.enqueueAndForget((0,ae.A)(function*(){return function Uee(n,e){return PA.apply(this,arguments)}(yield tD(t),i)})),i.promise}(zn(n=Dt(n,un)))}(this._delegate)}onSnapshotsInSync(e){return function Yte(n,e){return function lte(n,e){const t=new uw(e);return n.asyncQueue.enqueueAndForget((0,ae.A)(function*(){return r=yield yf(n),s=t,Ie(r).Y_.add(s),void s.next();var r,s})),()=>{t.Za(),n.asyncQueue.enqueueAndForget((0,ae.A)(function*(){return r=yield yf(n),s=t,void Ie(r).Y_.delete(s);var r,s}))}}(zn(n=Dt(n,un)),sD(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new wf(this,KB(this._delegate,e))}catch(t){throw Lr(t,"collection()","Firestore.collection()")}}doc(e){try{return new Hs(this,mw(this._delegate,e))}catch(t){throw Lr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Vr(this,function mte(n,e){if(n=Dt(n,kg),iD("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new me(ne.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new nr(n,null,(i=e,new La(Pt.emptyPath(),i)));var i}(this._delegate,e))}catch(t){throw Lr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function ane(n,e,t){n=Dt(n,un);const i=Object.assign(Object.assign({},sne),t);return function(s){if(s.maxAttempts<1)throw new me(ne.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(s,o,a){const l=new Hi;return s.asyncQueue.enqueueAndForget((0,ae.A)(function*(){const d=yield function LB(n){return hw(n).then(e=>e.datastore)}(s);new tte(s.asyncQueue,d,a,o,l).au()})),l.promise}(zn(n),r=>e(new one(n,r)),i)}(this._delegate,t=>e(new IU(this,t)))}batch(){return zn(this._delegate),new xU(new gU(this._delegate,e=>bf(this._delegate,e)))}loadBundle(e){return function Ite(n,e){const t=zn(n=Dt(n,un)),i=new pte;return function cte(n,e,t,i){const r=function(o,a){let l;return l="string"==typeof o?e2().encode(o):o,f=function(f,g){if(f instanceof Uint8Array)return PB(f,g);if(f instanceof ArrayBuffer)return PB(new Uint8Array(f),g);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),new Jee(f,a);var f}(t,Dg(e));n.asyncQueue.enqueueAndForget((0,ae.A)(function*(){!function Xee(n,e,t){const i=Ie(n);var r;(r=(0,ae.A)(function*(o,a,l){try{const d=yield a.getMetadata();if(yield function(I,x){const T=Ie(I),V=_i(x.createTime);return T.persistence.runTransaction("hasNewerBundle","readonly",M=>T.Gr.getBundleMetadata(M,x.id)).then(M=>!!M&&M.createTime.compareTo(V)>=0)}(o.localStore,d))return yield a.close(),l._completeWith({taskState:"Success",documentsLoaded:(I=d).totalDocuments,bytesLoaded:I.totalBytes,totalDocuments:I.totalDocuments,totalBytes:I.totalBytes}),Promise.resolve(new Set);l._updateProgress(EB(d));const f=new Dee(d,o.localStore,a.serializer);let g=yield a.Ua();for(;g;){const b=yield f.la(g);b&&l._updateProgress(b),g=yield a.Ua()}const y=yield f.complete();return yield ja(o,y.Ia,void 0),yield function(I,x){const T=Ie(I);return T.persistence.runTransaction("Save bundle","readwrite",V=>T.Gr.saveBundleMetadata(V,x))}(o.localStore,d),l._completeWith(y.progress),Promise.resolve(y.Pa)}catch(d){return ps("SyncEngine",`Loading bundle failed with ${d}`),l._failWith(d),Promise.resolve(new Set)}var I}),function s(o,a,l){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield tD(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function xte(n,e){return function dte(n,e){return n.asyncQueue.enqueue((0,ae.A)(function*(){return function(i,r){const s=Ie(i);return s.persistence.runTransaction("Get named query","readonly",o=>s.Gr.getNamedQuery(o,r))}(yield _f(n),e)}))}(zn(n=Dt(n,un)),e).then(t=>t?new nr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Vr(this,t):null)}}class Aw extends gD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vg(new Go(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Hs.forKey(t,this.firestore,null)}}class IU{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Aw(e)}get(e){const t=kd(e);return this._delegate.get(t).then(i=>new Bg(this._firestore,new Ha(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=kd(e);return i?(vD("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=kd(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=kd(e);return this._delegate.delete(t),this}}class xU{constructor(e){this._delegate=e}set(e,t,i){const r=kd(e);return i?(vD("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=kd(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=kd(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Sd{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Lg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ug(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Sd.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new Sd(e,new Aw(e),t),r.set(t,s)),s}}Sd.INSTANCES=new WeakMap;class Hs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Aw(e)}static forPath(e,t,i){if(e.length%2!=0)throw new me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Hs(t,new Rn(t._delegate,i,new De(e)))}static forKey(e,t,i){return new Hs(t,new Rn(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new wf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new wf(this.firestore,KB(this._delegate,e))}catch(t){throw Lr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,yt.Ku)(e))instanceof Rn&&QB(this._delegate,e)}set(e,t){t=vD("DocumentReference.set",t);try{return t?fU(this._delegate,e,t):fU(this._delegate,e)}catch(i){throw Lr(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?mU(this._delegate,e):mU(this._delegate,e,t,...i)}catch(r){throw Lr(r,"updateDoc()","DocumentReference.update()")}}delete(){return function Kte(n){return bf(Dt(n.firestore,un),[new Yh(n._key,jn.none())])}(this._delegate)}onSnapshot(...e){const t=CU(e),i=TU(e,r=>new Bg(this.firestore,new Ha(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return pU(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function Hte(n){n=Dt(n,Rn);const e=Dt(n.firestore,un),t=zn(e),i=new Zl(e);return function ste(n,e){const t=new Hi;return n.asyncQueue.enqueueAndForget((0,ae.A)(function*(){return(i=(0,ae.A)(function*(s,o,a){try{const l=yield function(f,g){const y=Ie(f);return y.persistence.runTransaction("read document","readonly",b=>y.localDocuments.getDocument(b,g))}(s,o);l.isFoundDocument()?a.resolve(l):l.isNoDocument()?a.resolve(null):a.reject(new me(ne.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const d=uf(l,`Failed to get document '${o} from cache`);a.reject(d)}}),function r(s,o,a){return i.apply(this,arguments)})(yield _f(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Ha(e,i,n._key,r,new Dd(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function $te(n){n=Dt(n,Rn);const e=Dt(n.firestore,un);return VB(zn(e),n._key,{source:"server"}).then(t=>_D(e,n,t))}(this._delegate):function zte(n){n=Dt(n,Rn);const e=Dt(n.firestore,un);return VB(zn(e),n._key).then(t=>_D(e,n,t))}(this._delegate),t.then(i=>new Bg(this.firestore,new Ha(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Hs(this.firestore,this._delegate.withConverter(e?Sd.getInstance(this.firestore,e):null))}}function Lr(n,e,t){return n.message=n.message.replace(e,t),n}function CU(n){for(const e of n)if("object"==typeof e&&!bD(e))return e;return{}}function TU(n,e){var t,i;let r;return r=bD(n[0])?n[0]:bD(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Bg{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Hs(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return hU(this._delegate,e._delegate)}}class Ug extends Bg{data(e){const t=this._delegate.data(e);return this._delegate._converter||function sZ(n,e){n||Ne()}(void 0!==t),t}}class Vr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Aw(e)}where(e,t,i){try{return new Vr(this.firestore,Yl(this._delegate,function Rte(n,e,t){const i=e,r=ww("where",n);return Fg._create(r,i,t)}(e,t,i)))}catch(r){throw Lr(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Vr(this.firestore,Yl(this._delegate,function Mte(n,e="asc"){const t=e,i=ww("orderBy",n);return pD._create(i,t)}(e,t)))}catch(i){throw Lr(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Vr(this.firestore,Yl(this._delegate,function Pte(n){return qB("limit",n),Ew._create("limit",n,"F")}(e)))}catch(t){throw Lr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Vr(this.firestore,Yl(this._delegate,function Ote(n){return qB("limitToLast",n),Ew._create("limitToLast",n,"L")}(e)))}catch(t){throw Lr(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Vr(this.firestore,Yl(this._delegate,function Nte(...n){return Iw._create("startAt",n,!0)}(...e)))}catch(t){throw Lr(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Vr(this.firestore,Yl(this._delegate,function Fte(...n){return Iw._create("startAfter",n,!1)}(...e)))}catch(t){throw Lr(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Vr(this.firestore,Yl(this._delegate,function Lte(...n){return xw._create("endBefore",n,!1)}(...e)))}catch(t){throw Lr(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Vr(this.firestore,Yl(this._delegate,function Vte(...n){return xw._create("endAt",n,!0)}(...e)))}catch(t){throw Lr(t,"endAt()","Query.endAt()")}}isEqual(e){return rD(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Gte(n){n=Dt(n,nr);const e=Dt(n.firestore,un),t=zn(e),i=new Zl(e);return function ote(n,e){const t=new Hi;return n.asyncQueue.enqueueAndForget((0,ae.A)(function*(){return(i=(0,ae.A)(function*(s,o,a){try{const l=yield iw(s,o,!0),d=new CB(o,l.Ts),f=d.ma(l.documents),g=d.applyChanges(f,!1);a.resolve(g.snapshot)}catch(l){const d=uf(l,`Failed to execute query '${o} against cache`);a.reject(d)}}),function r(s,o,a){return i.apply(this,arguments)})(yield _f(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Xl(e,i,n,r))}(this._delegate):"server"===e?.source?function Wte(n){n=Dt(n,nr);const e=Dt(n.firestore,un),t=zn(e),i=new Zl(e);return BB(t,n._query,{source:"server"}).then(r=>new Xl(e,i,n,r))}(this._delegate):function qte(n){n=Dt(n,nr);const e=Dt(n.firestore,un),t=zn(e),i=new Zl(e);return oU(n._query),BB(t,n._query).then(r=>new Xl(e,i,n,r))}(this._delegate),t.then(i=>new wD(this.firestore,new Xl(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=CU(e),i=TU(e,r=>new wD(this.firestore,new Xl(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return pU(this._delegate,t,i)}withConverter(e){return new Vr(this.firestore,this._delegate.withConverter(e?Sd.getInstance(this.firestore,e):null))}}class vne{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ug(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class wD{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Vr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ug(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new vne(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Ug(this._firestore,i))})}isEqual(e){return hU(this._delegate,e._delegate)}}class wf extends Vr{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Hs(this.firestore,e):null}doc(e){try{return new Hs(this.firestore,void 0===e?mw(this._delegate):mw(this._delegate,e))}catch(t){throw Lr(t,"doc()","CollectionReference.doc()")}}add(e){return function Qte(n,e){const t=Dt(n.firestore,un),i=mw(n),r=Cw(n.converter,e);return bf(t,[yw(Td(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,jn.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Hs(this.firestore,t))}isEqual(e){return QB(this._delegate,e._delegate)}withConverter(e){return new wf(this.firestore,this._delegate.withConverter(e?Sd.getInstance(this.firestore,e):null))}}function kd(n){return Dt(n,Rn)}class ED{constructor(...e){this._delegate=new za(...e)}static documentId(){return new ED(Sn.keyField().canonicalString())}isEqual(e){return(e=(0,yt.Ku)(e))instanceof za&&this._delegate._internalPath.isEqual(e._internalPath)}}class Rd{constructor(e){this._delegate=e}static serverTimestamp(){const e=function cne(){return new aD("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Rd(e)}static delete(){const e=function lne(){return new Mg("deleteField")}();return e._methodName="FieldValue.delete",new Rd(e)}static arrayUnion(...e){const t=function dne(...n){return new lD("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Rd(t)}static arrayRemove(...e){const t=function une(...n){return new cD("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Rd(t)}static increment(e){const t=function hne(n){return new dD("increment",n)}(e);return t._methodName="FieldValue.increment",new Rd(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const bne={Firestore:EU,GeoPoint:pw,Timestamp:Bn,Blob:Vg,Transaction:IU,WriteBatch:xU,DocumentReference:Hs,DocumentSnapshot:Bg,Query:Vr,QueryDocumentSnapshot:Ug,QuerySnapshot:wD,CollectionReference:wf,FieldPath:ED,FieldValue:Rd,setLogLevel:function yne(n){!function rZ(n){Nl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function AU(n,e){return function Ine(n,e=Yp){return new rt(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function ID(n,e){return AU(n,e).pipe(he(t=>({payload:t,type:"query"})))}!function Ene(n){(function wne(n,e){n.INTERNAL.registerComponent(new Tb.uA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},bne)))})(n,(e,t)=>new EU(e,t,new _ne)),n.registerVersion("@firebase/firestore-compat","0.3.38")}(Vo.A);class DU{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=OU(i,t);return new RU(r,s,this.afs)}snapshotChanges(){return function xne(n,e){return AU(n,e).pipe(sd(void 0),XC(),he(t=>{const[i,r]=t;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Fr)}valueChanges(e={}){return this.snapshotChanges().pipe(he(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return S(this.ref.get(e)).pipe(Fr)}}function Dw(n,e){return ID(n,e).pipe(sd(void 0),XC(),he(t=>{const[i,r]=t,s=r.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,l)=>{const d=s.find(g=>g.doc.ref.isEqual(a.ref)),f=i?.payload.docs.find(g=>g.ref.isEqual(a.ref));d&&JSON.stringify(d.doc.metadata)===JSON.stringify(a.metadata)||!d&&f&&JSON.stringify(f.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),o}))}function SU(n,e,t){return Dw(n,t).pipe(rb((i,r)=>function Cne(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function Tne(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return xD(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return xD(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return xD(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),rn(),he(i=>i.map(r=>({type:r.type,payload:r}))))}function xD(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function kU(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class RU{ref;query;afs;constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=Dw(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(he(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(sd(void 0),XC(),Pi(([i,r])=>r.length>0||!i),he(([,i])=>i),Fr)}auditTrail(e){return this.stateChanges(e).pipe(rb((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=kU(e);return SU(this.query,t,this.afs.schedulers.outsideAngular).pipe(Fr)}valueChanges(e={}){return ID(this.query,this.afs.schedulers.outsideAngular).pipe(he(t=>t.payload.docs.map(i=>e.idField?{...i.data(),[e.idField]:i.id}:i.data())),Fr)}get(e){return S(this.query.get(e)).pipe(Fr)}add(e){return this.ref.add(e)}doc(e){return new DU(this.ref.doc(e),this.afs)}}class Ane{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Dw(this.query,this.afs.schedulers.outsideAngular).pipe(he(t=>t.filter(i=>e.indexOf(i.type)>-1)),Pi(t=>t.length>0),Fr):Dw(this.query,this.afs.schedulers.outsideAngular).pipe(Fr)}auditTrail(e){return this.stateChanges(e).pipe(rb((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=kU(e);return SU(this.query,t,this.afs.schedulers.outsideAngular).pipe(Fr)}valueChanges(e={}){return ID(this.query,this.afs.schedulers.outsideAngular).pipe(he(i=>i.payload.docs.map(r=>e.idField?{[e.idField]:r.id,...r.data()}:r.data())),Fr)}get(e){return S(this.query.get(e)).pipe(Fr)}}const MU=new de("angularfire2.enableFirestorePersistence"),PU=new de("angularfire2.firestore.persistenceSettings"),Dne=new de("angularfire2.firestore.settings"),Sne=new de("angularfire2.firestore.use-emulator");function OU(n,e=(t=>t)){return{query:e(n),ref:n}}let jg=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,i,r,s,o,a,l,d,f,g,y,b,I,x,T,V,M){this.schedulers=l;const U=Cb(t,a,i),J=f;g&&kL(U,a,y,I,x,T,b,V),[this.firestore,this.persistenceEnabled$]=QC(`${U.name}.firestore`,"AngularFirestore",U.name,()=>{const ye=a.runOutsideAngular(()=>U.firestore());if(s&&ye.settings(s),J&&ye.useEmulator(...J),r&&!Yv(o)){const Se=()=>{try{return S(ye.enablePersistence(d||void 0).then(()=>!0,()=>!1))}catch(N){return typeof console<"u"&&console.warn(N),z(!1)}};return[ye,a.runOutsideAngular(Se)]}return[ye,z(!1)]},[s,J,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:o}=OU(r,i),a=this.schedulers.ngZone.run(()=>s);return new RU(a,o,this)}collectionGroup(t,i){const r=i||(o=>o),s=this.firestore.collectionGroup(t);return new Ane(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new DU(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(Q(Xp),Q(Zp,8),Q(MU,8),Q(Dne,8),Q(Os),Q(Qe),Q(KC),Q(PU,8),Q(Sne,8),Q(RL,8),Q(xL,8),Q(CL,8),Q(TL,8),Q(AL,8),Q(DL,8),Q(SL,8),Q(WC,8))};static \u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),kne=(()=>{class n{constructor(){Vo.A.registerVersion("angularfire",xb.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:MU,useValue:!0},{provide:PU,useValue:t}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=kt({type:n});static \u0275inj=wt({providers:[jg]})}return n})(),NU=(()=>{class n{constructor(t){this.firestore=t}cleanupExpiredFiles(){var t=this;return(0,ae.A)(function*(){const i=Date.now();(yield t.firestore.collection("files",s=>s.where("expiresAt","<",i)).get().toPromise())?.forEach(s=>{t.firestore.collection("files").doc(s.id).delete()})})()}cleanupondestroy(){var t=this;return(0,ae.A)(function*(){const i=sessionStorage.getItem("Token");(yield t.firestore.collection("files",s=>s.where("Token","==",i)).get().toPromise())?.forEach(s=>{t.firestore.collection("files").doc(s.id).delete()}),sessionStorage.removeItem("Token")})()}static{this.\u0275fac=function(i){return new(i||n)(Q(jg))}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class Sw{}class kw{}class Wo{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),o=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Wo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Wo;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Wo?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Rne{encodeKey(e){return FU(e)}encodeValue(e){return FU(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Pne=/%(\d[a-f0-9])/gi,One={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function FU(n){return encodeURIComponent(n).replace(Pne,(e,t)=>One[t]??e)}function Rw(n){return`${n}`}class ec{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Rne,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Mne(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(Rw):[Rw(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new ec({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Rw(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(Rw(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Nne{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function LU(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function VU(n){return typeof Blob<"u"&&n instanceof Blob}function BU(n){return typeof FormData<"u"&&n instanceof FormData}class zg{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Fne(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Wo),this.context||(this.context=new Nne),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new ec,this.urlWithParams=t}serializeBody(){return null===this.body?null:LU(this.body)||VU(this.body)||BU(this.body)||function Lne(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ec?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||BU(this.body)?null:VU(this.body)?this.body.type||null:LU(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ec?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,d=e.params||this.params;const f=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((g,y)=>g.set(y,e.setHeaders[y]),l)),e.setParams&&(d=Object.keys(e.setParams).reduce((g,y)=>g.set(y,e.setParams[y]),d)),new zg(t,i,s,{params:d,headers:l,context:f,reportProgress:a,responseType:r,withCredentials:o})}}var Ef=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Ef||{});class CD{constructor(e,t=200,i="OK"){this.headers=e.headers||new Wo,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class TD extends CD{constructor(e={}){super(e),this.type=Ef.ResponseHeader}clone(e={}){return new TD({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class If extends CD{constructor(e={}){super(e),this.type=Ef.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new If({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class UU extends CD{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function AD(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Hg=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof zg)s=t;else{let l,d;l=r.headers instanceof Wo?r.headers:new Wo(r.headers),r.params&&(d=r.params instanceof ec?r.params:new ec({fromObject:r.params})),s=new zg(t,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:d,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=z(s).pipe(xh(l=>this.handler.handle(l)));if(t instanceof zg||"events"===r.observe)return o;const a=o.pipe(Pi(l=>l instanceof If));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(he(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(he(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(he(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(he(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new ec).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,AD(r,i))}post(t,i,r={}){return this.request("POST",t,AD(r,i))}put(t,i,r={}){return this.request("PUT",t,AD(r,i))}static{this.\u0275fac=function(i){return new(i||n)(Q(Sw))}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac})}}return n})();function HU(n,e){return e(n)}function Bne(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const jne=new de(""),$g=new de(""),$U=new de("");function zne(){let n=null;return(e,t)=>{null===n&&(n=(Ee(jne,{optional:!0})??[]).reduceRight(Bne,HU));const i=Ee(Rv),r=i.add();return n(e,t).pipe(Ch(()=>i.remove(r)))}}let qU=(()=>{class n extends Sw{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=Ee(Rv)}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get($g),...this.injector.get($U,[])]));this.chain=r.reduceRight((s,o)=>function Une(n,e,t){return(i,r)=>t.runInContext(()=>e(i,s=>n(s,r)))}(s,o,this.injector),HU)}const i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(Ch(()=>this.pendingTasks.remove(i)))}static{this.\u0275fac=function(i){return new(i||n)(Q(kw),Q(hs))}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac})}}return n})();const Gne=/^\)\]\}',?\n/;let WU=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new re(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?S(i.\u0275loadImpl()):z(null)).pipe(Te(()=>new rt(s=>{const o=i.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((x,T)=>o.setRequestHeader(x,T.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const x=t.detectContentTypeHeader();null!==x&&o.setRequestHeader("Content-Type",x)}if(t.responseType){const x=t.responseType.toLowerCase();o.responseType="json"!==x?x:"text"}const a=t.serializeBody();let l=null;const d=()=>{if(null!==l)return l;const x=o.statusText||"OK",T=new Wo(o.getAllResponseHeaders()),V=function Wne(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return l=new TD({headers:T,status:o.status,statusText:x,url:V}),l},f=()=>{let{headers:x,status:T,statusText:V,url:M}=d(),U=null;204!==T&&(U=typeof o.response>"u"?o.responseText:o.response),0===T&&(T=U?200:0);let J=T>=200&&T<300;if("json"===t.responseType&&"string"==typeof U){const ye=U;U=U.replace(Gne,"");try{U=""!==U?JSON.parse(U):null}catch(Se){U=ye,J&&(J=!1,U={error:Se,text:U})}}J?(s.next(new If({body:U,headers:x,status:T,statusText:V,url:M||void 0})),s.complete()):s.error(new UU({error:U,headers:x,status:T,statusText:V,url:M||void 0}))},g=x=>{const{url:T}=d(),V=new UU({error:x,status:o.status||0,statusText:o.statusText||"Unknown Error",url:T||void 0});s.error(V)};let y=!1;const b=x=>{y||(s.next(d()),y=!0);let T={type:Ef.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(T.total=x.total),"text"===t.responseType&&o.responseText&&(T.partialText=o.responseText),s.next(T)},I=x=>{let T={type:Ef.UploadProgress,loaded:x.loaded};x.lengthComputable&&(T.total=x.total),s.next(T)};return o.addEventListener("load",f),o.addEventListener("error",g),o.addEventListener("timeout",g),o.addEventListener("abort",g),t.reportProgress&&(o.addEventListener("progress",b),null!==a&&o.upload&&o.upload.addEventListener("progress",I)),o.send(a),s.next({type:Ef.Sent}),()=>{o.removeEventListener("error",g),o.removeEventListener("abort",g),o.removeEventListener("load",f),o.removeEventListener("timeout",g),t.reportProgress&&(o.removeEventListener("progress",b),null!==a&&o.upload&&o.upload.removeEventListener("progress",I)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(i){return new(i||n)(Q(zN))}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac})}}return n})();const DD=new de("XSRF_ENABLED"),KU=new de("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),QU=new de("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class YU{}let Yne=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=RN(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(i){return new(i||n)(Q(Mt),Q(Os),Q(KU))}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac})}}return n})();function Xne(n,e){const t=n.url.toLowerCase();if(!Ee(DD)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=Ee(YU).getToken(),r=Ee(QU);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var tc=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(tc||{});function Md(n,e){return{\u0275kind:n,\u0275providers:e}}function Zne(...n){const e=[Hg,WU,qU,{provide:Sw,useExisting:qU},{provide:kw,useExisting:WU},{provide:$g,useValue:Xne,multi:!0},{provide:DD,useValue:!0},{provide:YU,useClass:Yne}];for(const t of n)e.push(...t.\u0275providers);return function dI(n){return{\u0275providers:n}}(e)}const XU=new de("LEGACY_INTERCEPTOR_FN");let SD,eie=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=kt({type:n})}static{this.\u0275inj=wt({providers:[Zne(Md(tc.LegacyInterceptors,[{provide:XU,useFactory:zne},{provide:$g,useExisting:XU,multi:!0}]))]})}}return n})();try{SD=typeof Intl<"u"&&Intl.v8BreakIterator}catch{SD=!1}let qg,Pd,$s=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function r7(n){return n===jN}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!SD)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||n)(Q(Os))}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Pw(n){return function oie(){if(null==qg&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>qg=!0}))}finally{qg=qg||!1}return qg}()?n:!!n.capture}function aie(){if(null==Pd){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Pd=!1,Pd;if("scrollBehavior"in document.documentElement.style)Pd=!0;else{const n=Element.prototype.scrollTo;Pd=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Pd}function RD(n){return n.composedPath?n.composedPath()[0]:n.target}function MD(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Cf(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function Lw(n,e=Yp){return q((t,i)=>{let r=null,s=null,o=null;const a=()=>{if(r){r.unsubscribe(),r=null;const d=s;s=null,i.next(d)}};function l(){const d=o+n,f=e.now();if(f<d)return r=this.schedule(void 0,d-f),void i.add(r);a()}t.subscribe(te(i,d=>{s=d,o=e.now(),r||(r=e.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}function Xn(n){return null!=n&&"false"!=`${n}`}function Tf(n,e=0){return function xie(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function Vw(n){return Array.isArray(n)?n:[n]}function Ci(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Bw(n){return n instanceof Ht?n.nativeElement:n}const tj=new Set;let Od,Tie=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Die}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Aie(n,e){if(!tj.has(n))try{Od||(Od=document.createElement("style"),e&&(Od.nonce=e),Od.setAttribute("type","text/css"),document.head.appendChild(Od)),Od.sheet&&(Od.sheet.insertRule(`@media ${n} {body{ }}`,0),tj.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static{this.\u0275fac=function(i){return new(i||n)(Q($s),Q(_I,8))}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Die(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Sie=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new j}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return nj(Vw(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=eb(nj(Vw(t)).map(o=>this._registerQuery(o).observable));return s=nb(s.pipe(zs(1)),s.pipe(function Cie(n){return Pi((e,t)=>n<=t)}(1),Lw(0))),s.pipe(he(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:d})=>{a.matches=a.matches||l,a.breakpoints[d]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new rt(o=>{const a=l=>this._zone.run(()=>o.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(sd(i),he(({matches:o})=>({query:t,matches:o})),Nr(this._destroySubject)),mql:i};return this._queries.set(t,s),s}static{this.\u0275fac=function(i){return new(i||n)(Q(Tie),Q(Qe))}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function nj(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function rj(n,e,t){const r=sj(n,e).filter(s=>s!=t.trim());r.length?n.setAttribute(e,r.join(" ")):n.removeAttribute(e)}function sj(n,e){return(n.getAttribute(e)||"").match(/\S+/g)||[]}class oj{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new j,this._typeaheadSubscription=ct.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new j,this.change=new j,e instanceof Cp&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(pi(t=>this._pressedLetters.push(t)),Lw(e),Pi(()=>this._pressedLetters.length>0),he(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,o=i[s];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(s<o?s:o-1,-1);break}return;default:return void((r||Cf(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof Cp?this._items.toArray():this._items}}class Pie extends oj{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}const Hie=new de("liveAnnouncerElement",{providedIn:"root",factory:function $ie(){return null}}),qie=new de("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Gie=0,Wie=(()=>{class n{constructor(t,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let s,o;return 1===i.length&&"number"==typeof i[0]?o=i[0]:[s,o]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==o&&r&&(o=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+Gie++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(t){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const s=i[r],o=s.getAttribute("aria-owns");o?-1===o.indexOf(t)&&s.setAttribute("aria-owns",o+" "+t):s.setAttribute("aria-owns",t)}}static{this.\u0275fac=function(i){return new(i||n)(Q(Hie,8),Q(Qe),Q(Mt),Q(qie,8))}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const lj="cdk-high-contrast-black-on-white",cj="cdk-high-contrast-white-on-black",FD="cdk-high-contrast-active";let Kie=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=Ee(Sie).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(FD,lj,cj),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(FD,lj):2===i&&t.add(FD,cj)}}static{this.\u0275fac=function(i){return new(i||n)(Q($s),Q(Mt))}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Qie=new de("cdk-dir-doc",{providedIn:"root",factory:function Yie(){return Ee(Mt)}}),Xie=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Uw=(()=>{class n{constructor(t){this.value="ltr",this.change=new At,t&&(this.value=function Zie(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?Xie.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||n)(Q(Qie,8))}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Gg=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=kt({type:n})}static{this.\u0275inj=wt({})}}return n})();const Jie=["text"];function ere(n,e){if(1&n&&vn(0,"mat-pseudo-checkbox",6),2&n){const t=$t();je("disabled",t.disabled)("state",t.selected?"checked":"unchecked")}}function tre(n,e){1&n&&vn(0,"mat-pseudo-checkbox",7),2&n&&je("disabled",$t().disabled)}function nre(n,e){if(1&n&&(Le(0,"span",8),bn(1),Fe()),2&n){const t=$t();$e(1),Zc("(",t.group.label,")")}}const ire=[[["mat-icon"]],"*"],rre=["mat-icon","*"],ore=new de("mat-sanity-checks",{providedIn:"root",factory:function sre(){return!0}});let Ni=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!MD()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static{this.\u0275fac=function(i){return new(i||n)(Q(Kie),Q(ore,8),Q(Mt))}}static{this.\u0275mod=kt({type:n})}static{this.\u0275inj=wt({imports:[Gg,Gg]})}}return n})();function are(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=Xn(e)}constructor(...e){super(...e),this._disabled=!1}}}function LD(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function lre(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Xn(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function cre(n,e=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?Tf(t):this.defaultTabIndex}constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}}}function dre(n){return class extends n{updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let hre=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class fre{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const hj=Pw({passive:!0,capture:!0});class mre{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=RD(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,i,r){const s=this._events.get(t);if(s){const o=s.get(i);o?o.add(r):s.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,hj)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const s=r.get(t);s&&(s.delete(i),0===s.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,hj)))}}const fj={enterDuration:225,exitDuration:150},mj=Pw({passive:!0,capture:!0}),pj=["mousedown","touchstart"],gj=["mouseup","mouseleave","touchend","touchcancel"];class Kg{static{this._eventManager=new mre}constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Bw(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...fj,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const o=i.radius||function gre(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,l=t-r.top,d=s.enterDuration,f=document.createElement("div");f.classList.add("mat-ripple-element"),f.style.left=a-o+"px",f.style.top=l-o+"px",f.style.height=2*o+"px",f.style.width=2*o+"px",null!=i.color&&(f.style.backgroundColor=i.color),f.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(f);const g=window.getComputedStyle(f),b=g.transitionDuration,I="none"===g.transitionProperty||"0s"===b||"0s, 0s"===b||0===r.width&&0===r.height,x=new fre(this,f,i,I);f.style.transform="scale3d(1, 1, 1)",x.state=0,i.persistent||(this._mostRecentTransientRipple=x);let T=null;return!I&&(d||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const V=()=>this._finishRippleTransition(x),M=()=>this._destroyRipple(x);f.addEventListener("transitionend",V),f.addEventListener("transitioncancel",M),T={onTransitionEnd:V,onTransitionCancel:M}}),this._activeRipples.set(x,T),(I||!d)&&this._finishRippleTransition(x),x}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...fj,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Bw(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,pj.forEach(i=>{Kg._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{gj.forEach(t=>{this._triggerElement.addEventListener(t,this,mj)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=function jie(n){return 0===n.buttons||0===n.detail}(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!function zie(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(pj.forEach(t=>Kg._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&gj.forEach(t=>e.removeEventListener(t,this,mj)))}}const VD=new de("mat-ripple-global-options");let _re=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,s,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Kg(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static{this.\u0275fac=function(i){return new(i||n)(H(Ht),H(Qe),H($s),H(VD,8),H(xa,8))}}static{this.\u0275dir=xe({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&Vn("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}}return n})(),_j=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=kt({type:n})}static{this.\u0275inj=wt({imports:[Ni,Ni]})}}return n})(),yre=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1,this.appearance="full"}static{this.\u0275fac=function(i){return new(i||n)(H(xa,8))}}static{this.\u0275cmp=Wn({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){2&i&&Vn("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(i,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}}return n})(),yj=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=kt({type:n})}static{this.\u0275inj=wt({imports:[Ni]})}}return n})();const vj=new de("MAT_OPTION_PARENT_COMPONENT"),bj=new de("MatOptgroup");let vre=0;class bre{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let wre=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=Xn(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(t,i,r,s){this._element=t,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+vre++,this.onSelectionChange=new At,this._stateChanges=new j}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(t=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}deselect(t=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}focus(t,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!Cf(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=t)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new bre(this,t))}static{this.\u0275fac=function(i){NI()}}static{this.\u0275dir=xe({type:n,viewQuery:function(i,r){if(1&i&&Zr(Jie,7),2&i){let s;Yt(s=Xt())&&(r._text=s.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}}return n})(),wj=(()=>{class n extends wre{constructor(t,i,r,s){super(t,i,r,s)}static{this.\u0275fac=function(i){return new(i||n)(H(Ht),H(Da),H(vj,8),H(bj,8))}}static{this.\u0275cmp=Wn({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,r){1&i&&Kt("click",function(){return r._selectViaInteraction()})("keydown",function(o){return r._handleKeydown(o)}),2&i&&(Iv("id",r.id),oi("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),Vn("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},exportAs:["matOption"],features:[xt],ngContentSelectors:rre,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(i,r){1&i&&(Vs(ire),nt(0,ere,1,2,"mat-pseudo-checkbox",0),Qt(1),Le(2,"span",1,2),Qt(4,1),Fe(),nt(5,tre,1,1,"mat-pseudo-checkbox",3),nt(6,nre,2,1,"span",4),vn(7,"div",5)),2&i&&(je("ngIf",r.multiple),$e(5),je("ngIf",!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator),$e(1),je("ngIf",r.group&&r.group._inert),$e(1),je("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[_re,Eh,yre],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return n})(),Ej=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=kt({type:n})}static{this.\u0275inj=wt({imports:[_j,rd,Ni,yj]})}}return n})();const xre=["*"],Sre=new de("MAT_CARD_CONFIG");let jw=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}static{this.\u0275fac=function(i){return new(i||n)(H(Sre,8))}}static{this.\u0275cmp=Wn({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){2&i&&Vn("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:xre,decls:1,vars:0,template:function(i,r){1&i&&(Vs(),Qt(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}}return n})(),Ij=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=kt({type:n})}static{this.\u0275inj=wt({imports:[Ni,rd,Ni]})}}return n})();class kre{constructor(e){this._box=e,this._destroyed=new j,this._resizeSubject=new j,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new rt(t=>{const i=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(Pi(t=>t.some(i=>i.target===e)),YC({bufferSize:1,refCount:!0}),Nr(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let Rre=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=Ee(Qe)}ngOnDestroy(){for(const[,t]of this._observers)t.destroy();this._observers.clear()}observe(t,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new kre(r)),this._observers.get(r).observe(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class xj{}class Mre{}const $a="*";function BD(n,e){return{type:7,name:n,definitions:e,options:{}}}function UD(n,e=null){return{type:4,styles:e,timings:n}}function Cj(n,e=null){return{type:2,steps:n,options:e}}function Nd(n){return{type:6,styles:n,offset:null}}function Tj(n,e,t){return{type:0,name:n,styles:e,options:t}}function zw(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Pre(n=null){return{type:9,options:n}}function Ore(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}class Qg{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Aj{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}let Dj=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Sj=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=kt({type:n})}static{this.\u0275inj=wt({providers:[Dj]})}}return n})();const Lre=["notch"],Vre=["matFormFieldNotchedOutline",""],Bre=["*"],Ure=["textField"],jre=["iconPrefixContainer"],zre=["textPrefixContainer"];function Hre(n,e){1&n&&vn(0,"span",19)}function $re(n,e){if(1&n&&(Le(0,"label",17),Qt(1,1),nt(2,Hre,1,0,"span",18),Fe()),2&n){const t=$t(2);je("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),oi("for",t._control.id),$e(2),je("ngIf",!t.hideRequiredMarker&&t._control.required)}}function qre(n,e){1&n&&nt(0,$re,3,5,"label",16),2&n&&je("ngIf",$t()._hasFloatingLabel())}function Gre(n,e){1&n&&vn(0,"div",20)}function Wre(n,e){}function Kre(n,e){1&n&&nt(0,Wre,0,0,"ng-template",22),2&n&&($t(2),je("ngTemplateOutlet",Ls(1)))}function Qre(n,e){if(1&n&&(Le(0,"div",21),nt(1,Kre,1,1,"ng-template",9),Fe()),2&n){const t=$t();je("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),$e(1),je("ngIf",!t._forceDisplayInfixLabel())}}function Yre(n,e){1&n&&(Le(0,"div",23,24),Qt(2,2),Fe())}function Xre(n,e){1&n&&(Le(0,"div",25,26),Qt(2,3),Fe())}function Zre(n,e){}function Jre(n,e){1&n&&nt(0,Zre,0,0,"ng-template",22),2&n&&($t(),je("ngTemplateOutlet",Ls(1)))}function ese(n,e){1&n&&(Le(0,"div",27),Qt(1,4),Fe())}function tse(n,e){1&n&&(Le(0,"div",28),Qt(1,5),Fe())}function nse(n,e){1&n&&vn(0,"div",29)}function ise(n,e){1&n&&(Le(0,"div",30),Qt(1,6),Fe()),2&n&&je("@transitionMessages",$t()._subscriptAnimationState)}function rse(n,e){if(1&n&&(Le(0,"mat-hint",34),bn(1),Fe()),2&n){const t=$t(2);je("id",t._hintLabelId),$e(1),Xc(t.hintLabel)}}function sse(n,e){if(1&n&&(Le(0,"div",31),nt(1,rse,2,2,"mat-hint",32),Qt(2,7),vn(3,"div",33),Qt(4,8),Fe()),2&n){const t=$t();je("@transitionMessages",t._subscriptAnimationState),$e(1),je("ngIf",t.hintLabel)}}const ose=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],ase=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let zD=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=xe({type:n,selectors:[["mat-label"]]})}}return n})();const lse=new de("MatError");let cse=0,kj=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+cse++}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=xe({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(Iv("id",r.id),oi("align",null),Vn("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}}return n})();const dse=new de("MatPrefix"),use=new de("MatSuffix"),Rj=new de("FloatingLabelParent");let Mj=(()=>{class n{get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(t){this._elementRef=t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=Ee(Rre),this._ngZone=Ee(Qe),this._parent=Ee(Rj),this._resizeSubscription=new ct}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function hse(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static{this.\u0275fac=function(i){return new(i||n)(H(Ht))}}static{this.\u0275dir=xe({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&Vn("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}}return n})();const Pj="mdc-line-ripple--active",Hw="mdc-line-ripple--deactivating";let Oj=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,o=s.contains(Hw);"opacity"===r.propertyName&&o&&s.remove(Pj,Hw)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(Hw),t.add(Pj)}deactivate(){this._elementRef.nativeElement.classList.add(Hw)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static{this.\u0275fac=function(i){return new(i||n)(H(Ht),H(Qe))}}static{this.\u0275dir=xe({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}}return n})(),Nj=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){this._notch.nativeElement.style.width=this.open&&t?`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static{this.\u0275fac=function(i){return new(i||n)(H(Ht),H(Qe))}}static{this.\u0275cmp=Wn({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&Zr(Lre,5),2&i){let s;Yt(s=Xt())&&(r._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&Vn("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:Vre,ngContentSelectors:Bre,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(Vs(),vn(0,"div",0),Le(1,"div",1,2),Qt(3),Fe(),vn(4,"div",3))},encapsulation:2,changeDetection:0})}}return n})();const fse={transitionMessages:BD("transitionMessages",[Tj("enter",Nd({opacity:1,transform:"translateY(0%)"})),zw("void => enter",[Nd({opacity:0,transform:"translateY(-5px)"}),UD("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Fj=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=xe({type:n})}}return n})();const Lj=new de("MatFormField"),mse=new de("MAT_FORM_FIELD_DEFAULT_OPTIONS");let Vj=0,_se=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Xn(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,r,s,o,a,l,d){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=s,this._platform=o,this._defaults=a,this._animationMode=l,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+Vj++,this._hintLabelId="mat-mdc-hint-"+Vj++,this._subscriptAnimationState="",this._destroyed=new j,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Nr(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),k(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Nr(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Nr(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,o=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+o}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}static{this.\u0275fac=function(i){return new(i||n)(H(Ht),H(Da),H(Qe),H(Uw),H($s),H(mse,8),H(xa,8),H(Mt))}}static{this.\u0275cmp=Wn({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,s){if(1&i&&(ji(s,zD,5),ji(s,zD,7),ji(s,Fj,5),ji(s,dse,5),ji(s,use,5),ji(s,lse,5),ji(s,kj,5)),2&i){let o;Yt(o=Xt())&&(r._labelChildNonStatic=o.first),Yt(o=Xt())&&(r._labelChildStatic=o.first),Yt(o=Xt())&&(r._formFieldControl=o.first),Yt(o=Xt())&&(r._prefixChildren=o),Yt(o=Xt())&&(r._suffixChildren=o),Yt(o=Xt())&&(r._errorChildren=o),Yt(o=Xt())&&(r._hintChildren=o)}},viewQuery:function(i,r){if(1&i&&(Zr(Ure,5),Zr(jre,5),Zr(zre,5),Zr(Mj,5),Zr(Nj,5),Zr(Oj,5)),2&i){let s;Yt(s=Xt())&&(r._textField=s.first),Yt(s=Xt())&&(r._iconPrefixContainer=s.first),Yt(s=Xt())&&(r._textPrefixContainer=s.first),Yt(s=Xt())&&(r._floatingLabel=s.first),Yt(s=Xt())&&(r._notchedOutline=s.first),Yt(s=Xt())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&Vn("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[an([{provide:Lj,useExisting:n},{provide:Rj,useExisting:n}])],ngContentSelectors:ase,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,r){1&i&&(Vs(ose),nt(0,qre,1,1,"ng-template",null,0,td),Le(2,"div",1,2),Kt("click",function(o){return r._control.onContainerClick(o)}),nt(4,Gre,1,0,"div",3),Le(5,"div",4),nt(6,Qre,2,2,"div",5),nt(7,Yre,3,0,"div",6),nt(8,Xre,3,0,"div",7),Le(9,"div",8),nt(10,Jre,1,1,"ng-template",9),Qt(11),Fe(),nt(12,ese,2,0,"div",10),nt(13,tse,2,0,"div",11),Fe(),nt(14,nse,1,0,"div",12),Fe(),Le(15,"div",13),nt(16,ise,2,1,"div",14),nt(17,sse,5,2,"div",15),Fe()),2&i&&($e(2),Vn("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),$e(2),je("ngIf",!r._hasOutline()&&!r._control.disabled),$e(2),je("ngIf",r._hasOutline()),$e(1),je("ngIf",r._hasIconPrefix),$e(1),je("ngIf",r._hasTextPrefix),$e(2),je("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),$e(2),je("ngIf",r._hasTextSuffix),$e(1),je("ngIf",r._hasIconSuffix),$e(1),je("ngIf",!r._hasOutline()),$e(1),Vn("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),je("ngSwitch",r._getDisplayedMessages()),$e(1),je("ngSwitchCase","error"),$e(1),je("ngSwitchCase","hint"))},dependencies:[Eh,sC,Rp,rC,kj,Mj,Nj,Oj],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[fse.transitionMessages]},changeDetection:0})}}return n})(),HD=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=kt({type:n})}static{this.\u0275inj=wt({imports:[Ni,rd,Sj,Ni]})}}return n})();const yse=new de("MAT_PROGRESS_BAR_DEFAULT_OPTIONS"),bse=LD(class{constructor(n){this._elementRef=n}},"primary");let wse=(()=>{class n extends bse{constructor(t,i,r,s,o){super(t),this._ngZone=i,this._changeDetectorRef=r,this._animationMode=s,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new At,this._mode="determinate",this._transitionendHandler=a=>{0===this.animationEnd.observers.length||!a.target||!a.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation="NoopAnimations"===s,o&&(o.color&&(this.color=this.defaultColor=o.color),this.mode=o.mode||this.mode)}get value(){return this._value}set value(t){this._value=jj(Tf(t)),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(t){this._bufferValue=jj(Tf(t)),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(t){this._mode=t,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}static{this.\u0275fac=function(i){return new(i||n)(H(Ht),H(Qe),H(Da),H(xa,8),H(yse,8))}}static{this.\u0275cmp=Wn({type:n,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:8,hostBindings:function(i,r){2&i&&(oi("aria-valuenow",r._isIndeterminate()?null:r.value)("mode",r.mode),Vn("_mat-animation-noopable",r._isNoopAnimation)("mdc-linear-progress--animation-ready",!r._isNoopAnimation)("mdc-linear-progress--indeterminate",r._isIndeterminate()))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[xt],decls:7,vars:4,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(i,r){1&i&&(Le(0,"div",0),vn(1,"div",1)(2,"div",2),Fe(),Le(3,"div",3),vn(4,"span",4),Fe(),Le(5,"div",5),vn(6,"span",4),Fe()),2&i&&($e(1),wv("flex-basis",r._getBufferBarFlexBasis()),$e(2),wv("transform",r._getPrimaryBarTransform()))},styles:["@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half))}100%{transform:translateX(var(--mdc-linear-progress-primary-full))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-primary-full-neg))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full-neg))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}.mdc-linear-progress__bar-inner{border-color:var(--mdc-linear-progress-active-indicator-color)}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-color:rgba(0,0,0,0);background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill=''/%3E%3C/svg%3E\")}}.mdc-linear-progress{height:max(var(--mdc-linear-progress-track-height), var(--mdc-linear-progress-active-indicator-height))}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress{height:4px}}.mdc-linear-progress__bar{height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__bar-inner{border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{height:var(--mdc-linear-progress-track-height)}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-size:10px var(--mdc-linear-progress-track-height)}}.mdc-linear-progress__buffer{border-radius:var(--mdc-linear-progress-track-shape)}.mat-mdc-progress-bar{--mdc-linear-progress-active-indicator-height:4px;--mdc-linear-progress-track-height:4px;--mdc-linear-progress-track-shape:0}.mat-mdc-progress-bar{display:block;text-align:left;--mdc-linear-progress-primary-half: 83.67142%;--mdc-linear-progress-primary-full: 200.611057%;--mdc-linear-progress-secondary-quarter: 37.651913%;--mdc-linear-progress-secondary-half: 84.386165%;--mdc-linear-progress-secondary-full: 160.277782%;--mdc-linear-progress-primary-half-neg: -83.67142%;--mdc-linear-progress-primary-full-neg: -200.611057%;--mdc-linear-progress-secondary-quarter-neg: -37.651913%;--mdc-linear-progress-secondary-half-neg: -84.386165%;--mdc-linear-progress-secondary-full-neg: -160.277782%}[dir=rtl] .mat-mdc-progress-bar{text-align:right}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}"],encapsulation:2,changeDetection:0})}}return n})();function jj(n,e=0,t=100){return Math.max(e,Math.min(t,n))}let zj=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=kt({type:n})}static{this.\u0275inj=wt({imports:[Ni]})}}return n})();const Ese=["addListener","removeListener"],Ise=["addEventListener","removeEventListener"],xse=["on","off"];function $D(n,e,t,i){if(A(t)&&(i=t,t=void 0),i)return $D(n,e,t).pipe(bC(i));const[r,s]=function Ase(n){return A(n.addEventListener)&&A(n.removeEventListener)}(n)?Ise.map(o=>a=>n[o](e,a,t)):function Cse(n){return A(n.addListener)&&A(n.removeListener)}(n)?Ese.map(Hj(n,e)):function Tse(n){return A(n.on)&&A(n.off)}(n)?xse.map(Hj(n,e)):[];if(!r&&Vt(n))return Fn(o=>$D(o,e,t))(ei(n));if(!r)throw new TypeError("Invalid event target");return new rt(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function Hj(n,e){return t=>i=>n[t](e,i)}const Yg={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Yg;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new ct(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=Yg;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Yg;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class Sse extends Ib{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Dse extends Eb{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Yg.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(Yg.cancelAnimationFrame(t),e._scheduled=void 0)}});let qD,Rse=1;const $w={};function $j(n){return n in $w&&(delete $w[n],!0)}const Mse={setImmediate(n){const e=Rse++;return $w[e]=!0,qD||(qD=Promise.resolve()),qD.then(()=>$j(e)&&n()),e},clearImmediate(n){$j(n)}},{setImmediate:Pse,clearImmediate:Ose}=Mse,qw={setImmediate(...n){const{delegate:e}=qw;return(e?.setImmediate||Pse)(...n)},clearImmediate(n){const{delegate:e}=qw;return(e?.clearImmediate||Ose)(n)},delegate:void 0};new class Fse extends Ib{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Nse extends Eb{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=qw.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(qw.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function qj(n,e=Yp){return function Vse(n){return q((e,t)=>{let i=!1,r=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const d=r;r=null,t.next(d)}o&&t.complete()},l=()=>{s=null,o&&t.complete()};e.subscribe(te(t,d=>{i=!0,r=d,s||ei(n(d)).subscribe(s=te(t,a,l))},()=>{o=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>function Use(n=0,e,t=VX){let i=-1;return null!=e&&(ta(e)?t=e:i=e),new rt(r=>{let s=function Bse(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(n,e))}let zse=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new j,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new rt(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(qj(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):z()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Pi(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Bw(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>$D(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(i){return new(i||n)(Q(Qe),Q($s),Q(Mt,8))}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),GD=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new j,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(qj(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(i){return new(i||n)(Q($s),Q(Qe),Q(Mt,8))}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),WD=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=kt({type:n})}static{this.\u0275inj=wt({})}}return n})(),Gj=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=kt({type:n})}static{this.\u0275inj=wt({imports:[Gg,WD,Gg,WD]})}}return n})();class KD{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class qse extends KD{constructor(e,t,i,r,s){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class Wj extends KD{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Gse extends KD{constructor(e){super(),this.element=e instanceof Ht?e.nativeElement:e}}class Wse{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof qse?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Wj?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Gse?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Kse extends Wse{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||pr.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Qse=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=kt({type:n})}static{this.\u0275inj=wt({})}}return n})();const Kj=aie();class Yse{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Ci(-this._previousScrollPosition.left),e.style.top=Ci(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Kj&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Kj&&(i.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class Xse{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Pi(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Qj{enable(){}disable(){}attach(){}}function QD(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function Yj(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Zse{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();QD(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Jse=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new Qj,this.close=o=>new Xse(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new Yse(this._viewportRuler,this._document),this.reposition=o=>new Zse(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}static{this.\u0275fac=function(i){return new(i||n)(Q(zse),Q(GD),Q(Qe),Q(Mt))}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class Xj{constructor(e){if(this.scrollStrategy=new Qj,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class eoe{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let Zj=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(i){return new(i||n)(Q(Mt))}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),toe=(()=>{class n extends Zj{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(i){return new(i||n)(Q(Mt),Q(Qe,8))}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),noe=(()=>{class n extends Zj{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=RD(s)},this._clickListener=s=>{const o=RD(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let d=l.length-1;d>-1;d--){const f=l[d];if(f._outsidePointerEvents.observers.length<1||!f.hasAttached())continue;if(f.overlayElement.contains(o)||f.overlayElement.contains(a))break;const g=f._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>g.next(s)):g.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(i){return new(i||n)(Q(Mt),Q($s),Q(Qe,8))}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Jj=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||MD()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),MD()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static{this.\u0275fac=function(i){return new(i||n)(Q(Mt),Q($s))}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class ioe{constructor(e,t,i,r,s,o,a,l,d,f=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=d,this._animationsDisabled=f,this._backdropElement=null,this._backdropClick=new j,this._attachments=new j,this._detachments=new j,this._locationChanges=ct.EMPTY,this._backdropClickHandler=g=>this._backdropClick.next(g),this._backdropTransitionendHandler=g=>{this._disposeBackdrop(g.target)},this._keydownEvents=new j,this._outsidePointerEvents=new j,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(zs(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Ci(this._config.width),e.height=Ci(this._config.height),e.minWidth=Ci(this._config.minWidth),e.minHeight=Ci(this._config.minHeight),e.maxWidth=Ci(this._config.maxWidth),e.maxHeight=Ci(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=Vw(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Nr(k(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const e4="cdk-overlay-connected-position-bounding-box",roe=/([A-Za-z%]+)$/;class soe{get positions(){return this._preferredPositions}constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new j,this._resizeSubscription=ct.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(e4),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,r,a),d=this._getOverlayPoint(l,t,a),f=this._getOverlayFit(d,t,i,a);if(f.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(f,d,i)?s.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<f.visibleArea)&&(o={overlayFit:f,overlayPoint:d,originPoint:l,position:a,overlayRect:t})}if(s.length){let a=null,l=-1;for(const d of s){const f=d.boundingBoxRect.width*d.boundingBoxRect.height*(d.position.weight||1);f>l&&(l=f,a=d)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Fd(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(e4),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==i.originX?o:a}return t.left<0&&(r-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=n4(t);let{x:o,y:a}=e,l=this._getOffset(r,"x"),d=this._getOffset(r,"y");l&&(o+=l),d&&(a+=d);let y=0-a,b=a+s.height-i.height,I=this._subtractOverflows(s.width,0-o,o+s.width-i.width),x=this._subtractOverflows(s.height,y,b),T=I*x;return{visibleArea:T,isCompletelyWithinViewport:s.width*s.height===T,fitsInViewportVertically:x===s.height,fitsInViewportHorizontally:I==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,o=t4(this._overlayRef.getConfig().minHeight),a=t4(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=o&&o<=r)&&(e.fitsInViewportHorizontally||null!=a&&a<=s)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=n4(t),s=this._viewportRect,o=Math.max(e.x+r.width-s.width,0),a=Math.max(e.y+r.height-s.height,0),l=Math.max(s.top-i.top-e.y,0),d=Math.max(s.left-i.left-e.x,0);let f=0,g=0;return f=r.width<=s.width?d||-o:e.x<this._viewportMargin?s.left-i.left-e.x:0,g=r.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:f,y:g},{x:e.x+f,y:e.y+g}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new eoe(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,o,a,f,g,y;if("top"===t.overlayY)o=e.y,s=i.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,s=i.height-a+this._viewportMargin;else{const b=Math.min(i.bottom-e.y+i.top,e.y),I=this._lastBoundingBoxSize.height;s=2*b,o=e.y-b,s>I&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-I/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)y=i.width-e.x+this._viewportMargin,f=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)g=e.x,f=i.right-e.x;else{const b=Math.min(i.right-e.x+i.left,e.x),I=this._lastBoundingBoxSize.width;f=2*b,g=e.x-b,f>I&&!this._isInitialRender&&!this._growAfterOpen&&(g=e.x-I/2)}return{top:o,left:g,bottom:a,right:y,width:f,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=Ci(i.height),r.top=Ci(i.top),r.bottom=Ci(i.bottom),r.width=Ci(i.width),r.left=Ci(i.left),r.right=Ci(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Ci(s)),o&&(r.maxWidth=Ci(o))}this._lastBoundingBoxSize=i,Fd(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Fd(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Fd(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const f=this._viewportRuler.getViewportScrollPosition();Fd(i,this._getExactOverlayY(t,e,f)),Fd(i,this._getExactOverlayX(t,e,f))}else i.position="static";let a="",l=this._getOffset(t,"x"),d=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),d&&(a+=`translateY(${d}px)`),i.transform=a.trim(),o.maxHeight&&(r?i.maxHeight=Ci(o.maxHeight):s&&(i.maxHeight="")),o.maxWidth&&(r?i.maxWidth=Ci(o.maxWidth):s&&(i.maxWidth="")),Fd(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Ci(s.y),r}_getExactOverlayX(e,t,i){let o,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Ci(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Yj(e,i),isOriginOutsideView:QD(e,i),isOverlayClipped:Yj(t,i),isOverlayOutsideView:QD(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Vw(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Ht)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Fd(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function t4(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(roe);return t&&"px"!==t?null:parseFloat(e)}return n||null}function n4(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const i4="cdk-global-overlay-wrapper";class ooe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(i4),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),d=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a),f=this._xPosition,g=this._xOffset,y="rtl"===this._overlayRef.getConfig().direction;let b="",I="",x="";l?x="flex-start":"center"===f?(x="center",y?I=g:b=g):y?"left"===f||"end"===f?(x="flex-end",b=g):("right"===f||"start"===f)&&(x="flex-start",I=g):"left"===f||"start"===f?(x="flex-start",b=g):("right"===f||"end"===f)&&(x="flex-end",I=g),e.position=this._cssPosition,e.marginLeft=l?"0":b,e.marginTop=d?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":I,t.justifyContent=x,t.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(i4),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let aoe=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new ooe}flexibleConnectedTo(t){return new soe(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(i){return new(i||n)(Q(GD),Q(Mt),Q($s),Q(Jj))}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),loe=0,Gw=(()=>{class n{constructor(t,i,r,s,o,a,l,d,f,g,y,b){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=d,this._directionality=f,this._location=g,this._outsideClickDispatcher=y,this._animationsModuleType=b}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),o=new Xj(t);return o.direction=o.direction||this._directionality.value,new ioe(s,i,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+loe++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Dl)),new Kse(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(i){return new(i||n)(Q(Jse),Q(Jj),Q(sp),Q(aoe),Q(toe),Q(pr),Q(Qe),Q(Mt),Q(Uw),Q(Bv),Q(noe),Q(xa,8))}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const coe=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],r4=new de("cdk-connected-overlay-scroll-strategy");let YD=(()=>{class n{constructor(t){this.elementRef=t}static{this.\u0275fac=function(i){return new(i||n)(H(Ht))}}static{this.\u0275dir=xe({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}}return n})(),s4=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Xn(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=Xn(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=Xn(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=Xn(t)}get push(){return this._push}set push(t){this._push=Xn(t)}constructor(t,i,r,s,o){this._overlay=t,this._dir=o,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=ct.EMPTY,this._attachSubscription=ct.EMPTY,this._detachSubscription=ct.EMPTY,this._positionSubscription=ct.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new At,this.positionChange=new At,this.attach=new At,this.detach=new At,this.overlayKeydown=new At,this.overlayOutsideClick=new At,this._templatePortal=new Wj(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=coe);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Cf(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Xj({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(t){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof YD?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function $se(n,e=!1){return q((t,i)=>{let r=0;t.subscribe(te(i,s=>{const o=n(s,r++);(o||e)&&i.next(s),!o&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)(H(Gw),H(Po),H(Bs),H(r4),H(Uw,8))}}static{this.\u0275dir=xe({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[Yi]})}}return n})();const uoe={provide:r4,deps:[Gw],useFactory:function doe(n){return()=>n.scrollStrategies.reposition()}};let hoe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=kt({type:n})}static{this.\u0275inj=wt({providers:[Gw,uoe],imports:[Gg,Qse,Gj,Gj]})}}return n})();class XD{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,t,i=!0,r){this._multiple=e,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new j,t&&t.length&&(e?t.forEach(s=>this._markSelected(s)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,i=new Set(e);e.forEach(s=>this._markSelected(s)),t.filter(s=>!i.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(e){if(this.compareWith){for(let t of this._selection)if(this.compareWith(e,t))return t;return e}return e}}function o4(...n){const e=na(n),{args:t,keys:i}=hF(n),r=new rt(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,d=o;for(let f=0;f<o;f++){let g=!1;ei(t[f]).subscribe(te(s,y=>{g||(g=!0,d--),a[f]=y},()=>l--,void 0,()=>{(!l||!g)&&(d||s.next(i?fF(i,a):a),s.complete())}))}});return e?r.pipe(bC(e)):r}function nc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function c4(n){return null!=n&&"number"==typeof n.length}const wr=new de("NgValidators"),ic=new de("NgAsyncValidators"),yoe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class voe{static min(e){return function d4(n){return e=>{if(nc(e.value)||nc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function u4(n){return e=>{if(nc(e.value)||nc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function h4(n){return nc(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function f4(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function m4(n){return nc(n.value)||yoe.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function p4(n){return e=>nc(e.value)||!c4(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function g4(n){return e=>c4(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function _4(n){if(!n)return Ww;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(nc(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return I4(e)}static composeAsync(e){return x4(e)}}function Ww(n){return null}function y4(n){return null!=n}function v4(n){return gp(n)?S(n):n}function b4(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function w4(n,e){return e.map(t=>t(n))}function E4(n){return n.map(e=>function boe(n){return!n.validate}(e)?e:t=>e.validate(t))}function I4(n){if(!n)return null;const e=n.filter(y4);return 0==e.length?null:function(t){return b4(w4(t,e))}}function JD(n){return null!=n?I4(E4(n)):null}function x4(n){if(!n)return null;const e=n.filter(y4);return 0==e.length?null:function(t){return o4(w4(t,e).map(v4)).pipe(he(b4))}}function eS(n){return null!=n?x4(E4(n)):null}function C4(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function T4(n){return n._rawValidators}function A4(n){return n._rawAsyncValidators}function tS(n){return n?Array.isArray(n)?n:[n]:[]}function Kw(n,e){return Array.isArray(n)?n.includes(e):n===e}function D4(n,e){const t=tS(e);return tS(n).forEach(r=>{Kw(t,r)||t.push(r)}),t}function S4(n,e){return tS(e).filter(t=>!Kw(n,t))}class k4{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=JD(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=eS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Br extends k4{get formDirective(){return null}get path(){return null}}class qa extends k4{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}const Xg="VALID",Yw="INVALID",Af="PENDING",Zg="DISABLED";function rS(n){return(Xw(n)?n.validators:n)||null}function sS(n,e){return(Xw(e)?e.asyncValidators:n)||null}function Xw(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class oS{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Xg}get invalid(){return this.status===Yw}get pending(){return this.status==Af}get disabled(){return this.status===Zg}get enabled(){return this.status!==Zg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(D4(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(D4(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(S4(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(S4(e,this._rawAsyncValidators))}hasValidator(e){return Kw(this._rawValidators,e)}hasAsyncValidator(e){return Kw(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Af,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Zg,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Xg,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xg||this.status===Af)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zg:Xg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Af,this._hasOwnPendingAsyncValidator=!0;const t=v4(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new At,this.statusChanges=new At}_calculateStatus(){return this._allControlsDisabled()?Zg:this.errors?Yw:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Af)?Af:this._anyControlsHaveStatus(Yw)?Yw:Xg}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Xw(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Toe(n){return Array.isArray(n)?JD(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Aoe(n){return Array.isArray(n)?eS(n):n||null}(this._rawAsyncValidators)}}class aS extends oS{constructor(e,t,i){super(rS(t),sS(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function O4(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new re(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function P4(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new re(1e3,"");if(!i[t])throw new re(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Jg=new de("CallSetDisabledState",{providedIn:"root",factory:()=>lS}),lS="always";function e_(n,e,t=lS){cS(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function koe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&N4(n,e)})}(n,e),function Moe(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Roe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&N4(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Soe(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Jw(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),t0(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function e0(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function cS(n,e){const t=T4(n);null!==e.validator?n.setValidators(C4(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=A4(n);null!==e.asyncValidator?n.setAsyncValidators(C4(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();e0(e._rawValidators,r),e0(e._rawAsyncValidators,r)}function t0(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=T4(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=A4(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return e0(e._rawValidators,i),e0(e._rawAsyncValidators,i),t}function N4(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function F4(n,e){cS(n,e)}function L4(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const Loe={provide:Br,useExisting:Ut(()=>n0)},t_=(()=>Promise.resolve())();let n0=(()=>{class n extends Br{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new At,this.form=new aS({},JD(t),eS(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){t_.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),e_(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){t_.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){t_.then(()=>{const i=this._findContainer(t.path),r=new aS({});F4(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){t_.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){t_.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,L4(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(i){return new(i||n)(H(wr,10),H(ic,10),H(Jg,8))}}static{this.\u0275dir=xe({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&Kt("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[an([Loe]),xt]})}}return n})();function V4(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function B4(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const U4=class extends oS{constructor(e=null,t,i){super(rS(t),sS(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xw(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=B4(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){V4(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){V4(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){B4(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Koe={provide:Br,useExisting:Ut(()=>r0)};let r0=(()=>{class n extends Br{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new At,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(t0(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return e_(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){Jw(t.control||null,t,!1),function Foe(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,L4(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(Jw(i||null,t),(n=>n instanceof U4)(r)&&(e_(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);F4(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function Poe(n,e){return t0(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){cS(this.form,this),this._oldForm&&t0(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(i){return new(i||n)(H(wr,10),H(ic,10),H(Jg,8))}}static{this.\u0275dir=xe({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&Kt("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[an([Koe]),xt,Yi]})}}return n})();const fae=["trigger"],mae=["panel"];function pae(n,e){if(1&n&&(Le(0,"span",10),bn(1),Fe()),2&n){const t=$t();$e(1),Xc(t.placeholder)}}function gae(n,e){if(1&n&&(Le(0,"span",14),bn(1),Fe()),2&n){const t=$t(2);$e(1),Xc(t.triggerValue)}}function _ae(n,e){1&n&&Qt(0,0,["*ngSwitchCase","true"])}function yae(n,e){1&n&&(Le(0,"span",11),nt(1,gae,2,1,"span",12),nt(2,_ae,1,0,"ng-content",13),Fe()),2&n&&(je("ngSwitch",!!$t().customTrigger),$e(2),je("ngSwitchCase",!0))}function vae(n,e){if(1&n){const t=mh();pl(),function Tm(){!function xE(){Ze.lFrame.currentNamespace=null}()}(),Le(0,"div",15,16),Kt("@transformPanel.done",function(r){return ls(t),to($t()._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){return ls(t),to($t()._handleKeydown(r))}),Qt(2,1),Fe()}if(2&n){const t=$t();r1("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",t._getPanelTheme(),""),je("ngClass",t.panelClass)("@transformPanel","showing"),oi("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const bae=[[["mat-select-trigger"]],"*"],wae=["mat-select-trigger","*"],Eae={transformPanelWrap:BD("transformPanelWrap",[zw("* => void",Ore("@transformPanel",[Pre()],{optional:!0}))]),transformPanel:BD("transformPanel",[Tj("void",Nd({opacity:0,transform:"scale(1, 0.8)"})),zw("void => showing",UD("120ms cubic-bezier(0, 0, 0.2, 1)",Nd({opacity:1,transform:"scale(1, 1)"}))),zw("* => void",UD("100ms linear",Nd({opacity:0})))])};let cz=0;const dz=new de("mat-select-scroll-strategy"),xae=new de("MAT_SELECT_CONFIG"),Cae={provide:dz,deps:[Gw],useFactory:function Iae(n){return()=>n.scrollStrategies.reposition()}},Tae=new de("MatSelectTrigger");class Aae{constructor(e,t){this.source=e,this.value=t}}const Dae=lre(cre(are(dre(class{constructor(n,e,t,i,r){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new j}}))));let Sae=(()=>{class n extends Dae{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(voe.required)??!1}set required(t){this._required=Xn(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=Xn(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=Xn(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=Tf(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}constructor(t,i,r,s,o,a,l,d,f,g,y,b,I,x){super(o,s,l,d,g),this._viewportRuler=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=a,this._parentFormField=f,this._liveAnnouncer=I,this._defaultOptions=x,this._panelOpen=!1,this._compareWith=(T,V)=>T===V,this._uid="mat-select-"+cz++,this._triggerAriaLabelledBy=null,this._destroy=new j,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+cz++,this._panelDoneAnimatingStream=new j,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=wC(()=>{const T=this.options;return T?T.changes.pipe(sd(T),Te(()=>k(...T.map(V=>V.onSelectionChange)))):this._ngZone.onStable.pipe(zs(1),Te(()=>this.optionSelectionChanges))}),this.openedChange=new At,this._openedStream=this.openedChange.pipe(Pi(T=>T),he(()=>{})),this._closedStream=this.openedChange.pipe(Pi(T=>!T),he(()=>{})),this.selectionChange=new At,this.valueChange=new At,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=x?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=x.typeaheadDebounceInterval),this._scrollStrategyFactory=b,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(y)||0,this.id=this.id}ngOnInit(){this._selectionModel=new XD(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(rn(),Nr(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Nr(this._destroy)).subscribe(t=>{t.added.forEach(i=>i.select()),t.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(sd(null),Nr(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),i=this.ngControl;if(t!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?r.setAttribute("aria-labelledby",t):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const t=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;const i=`${this.id}-panel`;this._trackedModal&&rj(this._trackedModal,"aria-owns",i),function kie(n,e,t){const i=sj(n,e);i.some(r=>r.trim()==t.trim())||(i.push(t.trim()),n.setAttribute(e,i.join(" ")))}(t,"aria-owns",i),this._trackedModal=t}_clearFromModal(){this._trackedModal&&(rj(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const i=t.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,o=this._keyManager;if(!o.isTyping()&&s&&!Cf(t)||(this.multiple||t.altKey)&&r)t.preventDefault(),this.open();else if(!this.multiple){const a=this.selected;o.onKeydown(t);const l=this.selected;l&&a!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(t){const i=this._keyManager,r=t.keyCode,s=40===r||38===r,o=i.isTyping();if(s&&t.altKey)t.preventDefault(),this.close();else if(o||13!==r&&32!==r||!i.activeItem||Cf(t))if(!o&&this._multiple&&65===r&&t.ctrlKey){t.preventDefault();const a=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(a?l.select():l.deselect())})}else{const a=i.activeItemIndex;i.onKeydown(t),this._multiple&&s&&t.shiftKey&&i.activeItem&&i.activeItemIndex!==a&&i.activeItem._selectViaInteraction()}else t.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(zs(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(t);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,t)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_skipPredicate(t){return t.disabled}_initKeyManager(){this._keyManager=new Pie(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=k(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Nr(t)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),k(...this.options.map(i=>i._stateChanges)).pipe(Nr(t)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(t,i){const r=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(r!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),i&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),i&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),r!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,t):t.indexOf(i)-t.indexOf(r)),this.stateChanges.next()}}_propagateChanges(t){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:t,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let t=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){t=i;break}this._keyManager.setActiveItem(t)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();let i=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static{this.\u0275fac=function(i){return new(i||n)(H(GD),H(Da),H(Qe),H(hre),H(Ht),H(Uw,8),H(n0,8),H(r0,8),H(Lj,8),H(qa,10),vl("tabindex"),H(dz),H(Wie),H(xae,8))}}static{this.\u0275dir=xe({type:n,viewQuery:function(i,r){if(1&i&&(Zr(fae,5),Zr(mae,5),Zr(s4,5)),2&i){let s;Yt(s=Xt())&&(r.trigger=s.first),Yt(s=Xt())&&(r.panel=s.first),Yt(s=Xt())&&(r._overlayDir=s.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[xt,Yi]})}}return n})(),kae=(()=>{class n extends Sae{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=t=>!this.panelOpen&&t.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Nr(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(t){const i=this.options.toArray()[t];if(i){const r=this.panel.nativeElement,s=function Ere(n,e,t){if(t.length){let i=e.toArray(),r=t.toArray(),s=0;for(let o=0;o<n+1;o++)i[o].group&&i[o].group===r[s]&&s++;return s}return 0}(t,this.options,this.optionGroups),o=i._getHostElement();r.scrollTop=0===t&&1===s?0:function Ire(n,e,t,i){return n<t?n:n+e>t+i?Math.max(0,n-i+e):t}(o.offsetTop,o.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(t){return new Aae(this,t)}_getOverlayWidth(t){return"auto"===this.panelWidth?(t instanceof YD?t.elementRef:t||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=Xn(t),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const t of this.options)t._changeDetectorRef.markForCheck()}static{this.\u0275fac=function(){let t;return function(r){return(t||(t=Ln(n)))(r||n)}}()}static{this.\u0275cmp=Wn({type:n,selectors:[["mat-select"]],contentQueries:function(i,r,s){if(1&i&&(ji(s,Tae,5),ji(s,wj,5),ji(s,bj,5)),2&i){let o;Yt(o=Xt())&&(r.customTrigger=o.first),Yt(o=Xt())&&(r.options=o),Yt(o=Xt())&&(r.optionGroups=o)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,r){1&i&&Kt("keydown",function(o){return r._handleKeydown(o)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&i&&(oi("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),Vn("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[an([{provide:Fj,useExisting:n},{provide:vj,useExisting:n}]),xt],ngContentSelectors:wae,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(i,r){if(1&i&&(Vs(bae),Le(0,"div",0,1),Kt("click",function(){return r.toggle()}),Le(3,"div",2),nt(4,pae,2,1,"span",3),nt(5,yae,3,2,"span",4),Fe(),Le(6,"div",5)(7,"div",6),pl(),Le(8,"svg",7),vn(9,"path",8),Fe()()()(),nt(10,vae,3,9,"ng-template",9),Kt("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&i){const s=Ls(1);$e(3),je("ngSwitch",r.empty),oi("id",r._valueId),$e(1),je("ngSwitchCase",!0),$e(1),je("ngSwitchCase",!1),$e(5),je("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||s)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[PN,Rp,rC,LN,s4,YD],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[Eae.transformPanel]},changeDetection:0})}}return n})(),uz=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=kt({type:n})}static{this.\u0275inj=wt({providers:[Cae],imports:[rd,hoe,Ej,Ni,WD,HD,Ej,Ni]})}}return n})();function Rae(n,e){if(1&n&&(Le(0,"mat-option",10),bn(1),Fe()),2&n){const t=e.$implicit;je("value",t.value),$e(1),Zc(" ",t.label," ")}}function Mae(n,e){1&n&&vn(0,"mat-progress-bar",11),2&n&&je("value",$t().uploadProgress)}function Pae(n,e){if(1&n){const t=mh();Le(0,"button",12),Kt("click",function(){return ls(t),to($t().cancelUpload())}),bn(1,"Cancel Upload"),Fe()}}let Oae=(()=>{class n{constructor(t,i){this.firestore=t,this.http=i,this.selectedFile=null,this.selectedExpiration=300,this.uploadProgress=null,this.uploading=!1,this.uploaded=new At,this.file="",this.expirationOptions=[{label:"1 mint",value:60},{label:"5 mint",value:300},{label:"10 mint",value:600},{label:"30 mint",value:1800}],this.sessionToken=null,this.getIPAddress(),this.sessionToken=sessionStorage.getItem("Token"),null==this.sessionToken&&(this.sessionToken=this.generateRandomToken(),sessionStorage.setItem("Token",this.sessionToken))}generateRandomToken(){return Math.random().toString(36)}onFileSelect(t){this.selectedFile=t.target.files[0]}getIPAddress(){this.http.get("https://ipinfo.io/json").subscribe(t=>{this.userIpAddress=t.ip},t=>{const i=this.generateRandomIp();this.userIpAddress=i})}generateRandomIp(){return`${this.getRandom(1,255)}.${this.getRandom(0,255)}.${this.getRandom(0,255)}.${this.getRandom(1,255)}`}getRandom(t,i){return Math.floor(Math.random()*(i-t+1))+t}uploadFile(){var t=this;if(!this.selectedFile)return;this.uploading=!0,this.uploadProgress=0;const i=new FileReader;i.onload=function(){var r=(0,ae.A)(function*(s){const o=s.target.result.split(",")[1],a=new Date;a.setSeconds(a.getSeconds()+t.selectedExpiration);const l=setInterval(()=>{t.uploadProgress<100?t.uploadProgress+=10:(clearInterval(l),t.uploading=!1)},300);yield t.firestore.collection("files").add({name:t.selectedFile?.name,size:t.selectedFile?.size,createdAt:new Date,fileData:o,expiresAt:a.getTime(),ipAddress:t.userIpAddress,Token:t.sessionToken}),alert("File uploaded successfully!"),window.document.getElementById("fileInput"),t.uploaded.emit(),t.selectedFile=null,t.uploadProgress=null});return function(s){return r.apply(this,arguments)}}(),i.readAsDataURL(this.selectedFile)}cancelUpload(){this.uploading=!1,this.uploadProgress=null}static{this.\u0275fac=function(i){return new(i||n)(H(jg),H(Hg))}}static{this.\u0275cmp=Wn({type:n,selectors:[["app-upload"]],outputs:{uploaded:"uploaded"},decls:15,vars:5,consts:[[1,"upload-container"],[1,"upload-card"],["type","file",3,"change"],["fileInput",""],["appearance","outline"],[3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"disabled","click"],["mode","determinate",3,"value",4,"ngIf"],["mat-button","",3,"click",4,"ngIf"],[3,"value"],["mode","determinate",3,"value"],["mat-button","",3,"click"]],template:function(i,r){1&i&&(Le(0,"div",0)(1,"h2"),bn(2,"Upload Your File"),Fe(),Le(3,"mat-card",1)(4,"input",2,3),Kt("change",function(o){return r.onFileSelect(o)}),Fe(),Le(6,"mat-form-field",4)(7,"mat-label"),bn(8,"Expiration Time"),Fe(),Le(9,"mat-select",5),Kt("valueChange",function(o){return r.selectedExpiration=o}),nt(10,Rae,2,2,"mat-option",6),Fe()(),Le(11,"button",7),Kt("click",function(){return r.uploadFile()}),bn(12," Upload File "),Fe(),nt(13,Mae,1,1,"mat-progress-bar",8),nt(14,Pae,2,0,"button",9),Fe()()),2&i&&($e(9),je("value",r.selectedExpiration),$e(1),je("ngForOf",r.expirationOptions),$e(1),je("disabled",!r.selectedFile),$e(2),je("ngIf",r.uploadProgress),$e(1),je("ngIf",r.uploading))},dependencies:[nC,Eh,jw,_se,zD,wse,kae,wj],styles:[".upload-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px}.upload-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;color:#333;margin-bottom:20px}.upload-container[_ngcontent-%COMP%]   .upload-card[_ngcontent-%COMP%]{width:100%;max-width:600px;padding:20px;display:flex;flex-direction:column;align-items:center}.upload-container[_ngcontent-%COMP%]   .upload-card[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]{width:100%;margin-top:10px}.upload-container[_ngcontent-%COMP%]   .upload-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:10px;width:90%}.upload-container[_ngcontent-%COMP%]   .upload-card[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{margin-top:10px;padding:10px;width:100%}"]})}}return n})();const Nae=["*"];let s0;function n_(n){return function Fae(){if(void 0===s0&&(s0=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(s0=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return s0}()?.createHTML(n)||n}function hz(n){return Error(`Unable to find icon with the name "${n}"`)}function fz(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function mz(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Bd{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let o0=(()=>{class n{constructor(t,i,r,s){this._httpClient=t,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,s){return this._addSvgIconConfig(t,i,new Bd(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,s){const o=this._sanitizer.sanitize(Ji.HTML,r);if(!o)throw mz(r);const a=n_(o);return this._addSvgIconConfig(t,i,new Bd("",a,s))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Bd(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const s=this._sanitizer.sanitize(Ji.HTML,i);if(!s)throw mz(i);const o=n_(s);return this._addSvgIconSetConfig(t,new Bd("",o,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(Ji.RESOURCE_URL,t);if(!i)throw fz(t);const r=this._cachedIconsByUrl.get(i);return r?z(a0(r)):this._loadSvgIconFromConfig(new Bd(t,null)).pipe(pi(s=>this._cachedIconsByUrl.set(i,s)),he(s=>a0(s)))}getNamedSvgIcon(t,i=""){const r=pz(i,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(i);return o?this._getSvgFromIconSetConfigs(t,o):Ih(hz(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?z(a0(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(he(i=>a0(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?z(r):o4(i.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(Ml(a=>{const d=`Loading icon set URL: ${this._sanitizer.sanitize(Ji.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(d)),z(null)})))).pipe(he(()=>{const o=this._extractIconWithNameFromAnySet(t,i);if(!o)throw hz(t);return o}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,t,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(pi(i=>t.svgText=i),he(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?z(null):this._fetchIcon(t).pipe(pi(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const s=t.querySelector(`[id="${i}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,r);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),r);const a=this._svgElementFromString(n_("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(n_("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:o,value:a}=r[s];"id"!==o&&i.setAttribute(o,a)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,s=r?.withCredentials??!1;if(!this._httpClient)throw function Lae(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const o=this._sanitizer.sanitize(Ji.RESOURCE_URL,i);if(!o)throw fz(i);const a=this._inProgressUrlFetches.get(o);if(a)return a;const l=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(he(d=>n_(d)),Ch(()=>this._inProgressUrlFetches.delete(o)),Y());return this._inProgressUrlFetches.set(o,l),l}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(pz(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,t);if(s)return Bae(s)?new Bd(s.url,null,s.options):new Bd(s,null)}}static{this.\u0275fac=function(i){return new(i||n)(Q(Hg,8),Q(vC),Q(Mt,8),Q(Ns))}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function a0(n){return n.cloneNode(!0)}function pz(n,e){return n+":"+e}function Bae(n){return!(!n.url||!n.options)}const Uae=LD(class{constructor(n){this._elementRef=n}}),jae=new de("MAT_ICON_DEFAULT_OPTIONS"),zae=new de("mat-icon-location",{providedIn:"root",factory:function Hae(){const n=Ee(Mt),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),gz=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],$ae=gz.map(n=>`[${n}]`).join(", "),qae=/^url\(['"]?#(.*?)['"]?\)$/;let Gae=(()=>{class n extends Uae{get inline(){return this._inline}set inline(t){this._inline=Xn(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,s,o,a){super(t),this._iconRegistry=i,this._location=s,this._errorHandler=o,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=ct.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(o=>{s.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll($ae),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)gz.forEach(o=>{const a=i[s],l=a.getAttribute(o),d=l?l.match(qae):null;if(d){let f=r.get(a);f||(f=[],r.set(a,f)),f.push({name:o,value:d[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(zs(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}static{this.\u0275fac=function(i){return new(i||n)(H(Ht),H(o0),vl("aria-hidden"),H(zae),H(Ns),H(jae,8))}}static{this.\u0275cmp=Wn({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,r){2&i&&(oi("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Vn("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[xt],ngContentSelectors:Nae,decls:1,vars:0,template:function(i,r){1&i&&(Vs(),Qt(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}}return n})(),_z=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=kt({type:n})}static{this.\u0275inj=wt({imports:[Ni,Ni]})}}return n})();function Wae(n,e){if(1&n){const t=mh();Le(0,"mat-card",3)(1,"div",4)(2,"p")(3,"strong"),bn(4,"Name:"),Fe(),bn(5),Fe(),Le(6,"p")(7,"strong"),bn(8,"Expires At:"),Fe(),bn(9),function iO(n,e){const t=Rt();let i;const r=n+It;t.firstCreatePass?(i=function LG(n,e){if(e)for(let t=e.length-1;t>=0;t--){const i=e[t];if(n===i.name)return i}}(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];const s=i.factory||(i.factory=da(i.type)),a=dr(H);try{const l=Vu(!1),d=s();return Vu(l),function vq(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}(t,fe(),r,d),d}finally{dr(a)}}(10,"date"),Fe(),Le(11,"p")(12,"strong"),bn(13,"Shareable Link:"),Fe(),Le(14,"a",5),bn(15),Fe(),Le(16,"button",6),Kt("click",function(){const s=ls(t).$implicit;return to($t().copyLink(s))}),Le(17,"mat-icon"),bn(18,"content_copy"),Fe()()()(),Le(19,"div",7)(20,"button",8),Kt("click",function(){const s=ls(t).$implicit;return to($t().downloadFile(s))}),bn(21,"Download"),Fe(),Le(22,"button",9),Kt("click",function(){const s=ls(t).$implicit;return to($t().deleteFile(s.id))}),bn(23,"Delete"),Fe()()()}if(2&n){const t=e.$implicit;$e(5),Zc(" ",t.name,""),$e(4),Zc(" ",rO(10,4,t.expiresAt,"medium"),""),$e(5),je("href","/download/"+t.id,lI),$e(1),Xc("/download/"+t.key)}}function Kae(n,e){1&n&&(Le(0,"mat-card",10)(1,"p"),bn(2,"No files uploaded yet. Please upload files to see them here."),Fe()())}let Qae=(()=>{class n{constructor(t,i){this.firestore=t,this.http=i,this.files=[],this.sessionToken=null}ngOnInit(){var t=this;return(0,ae.A)(function*(){t.getIPAddress()})()}getIPAddress(){this.sessionToken=sessionStorage.getItem("Token"),this.http.get("https://ipinfo.io/json").subscribe(t=>{this.userIpAddress=t.ip,this.loadFiles()},t=>{const i=this.generateRandomIp();this.userIpAddress=i,this.loadFiles()})}generateRandomIp(){return`${this.getRandom(1,255)}.${this.getRandom(0,255)}.${this.getRandom(0,255)}.${this.getRandom(1,255)}`}getRandom(t,i){return Math.floor(Math.random()*(i-t+1))+t}loadFiles(){var t=this;return(0,ae.A)(function*(){const i=yield t.firestore.collection("files").get().toPromise();i&&(t.files=i.docs.map(r=>({...r.data(),key:r.id})).filter(r=>r?.Token===t.sessionToken&&r.ipAddress===t.userIpAddress))})()}loadnewFiles(){setTimeout(()=>{this.loadFiles()},1e3)}downloadFile(t){const i=document.createElement("a");i.href=`data:application/octet-stream;base64,${t.fileData}`,i.download=t.name,i.click()}deleteFile(t){this.firestore.collection("files").doc(t).delete().then(()=>{alert("File deleted successfully"),this.loadFiles()})}copyLink(t){const i=this.base64ToBlob(t.fileData),r=window.URL.createObjectURL(i),a=(btoa(r),btoa(t.name),`${window.location.origin}/quickshare/#/file/${t.key}`);navigator.clipboard.writeText(a).then(()=>{alert("Shareable link copied!")})}getRemainingTime(t){const r=t-Date.now();if(r<=0)return"Expired";const s=Math.floor(r/864e5),o=Math.floor(r%864e5/36e5),a=Math.floor(r%36e5/6e4)+1;var l="";return s>0?(l=`${s} days`,o>0&&(l+=`, ${o} hours`,a>0&&(l+=`, ${a} mints`))):o>0?(l=`${o} hours`,a>0&&(l+=`, ${a} mints`)):a>0&&(l=`${a} mints`),l}base64ToBlob(t){const i=atob(t),r=new Array(i.length).fill(0).map((o,a)=>i.charCodeAt(a)),s=new Uint8Array(r);return new Blob([s],{type:"application/octet-stream"})}static{this.\u0275fac=function(i){return new(i||n)(H(jg),H(Hg))}}static{this.\u0275cmp=Wn({type:n,selectors:[["app-file-list"]],decls:6,vars:1,consts:[[1,"file-list-container","container"],["class","file-card",4,"ngFor","ngForOf"],["noFiles",""],[1,"file-card"],[1,"file-info"],["target","_blank",3,"href"],["mat-icon-button","","aria-label","Copy Link",3,"click"],[1,"file-actions"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"],[1,"no-files-card"]],template:function(i,r){1&i&&(Le(0,"div",0)(1,"h2"),bn(2,"Uploaded Files"),Fe(),nt(3,Wae,24,7,"mat-card",1),nt(4,Kae,3,0,"ng-template",null,2,td),Fe()),2&i&&($e(3),je("ngForOf",r.files))},dependencies:[nC,jw,Gae,BN],styles:[".file-list-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#311111}.file-list-container[_ngcontent-%COMP%]   .file-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:15px;margin-bottom:15px}.file-list-container[_ngcontent-%COMP%]   .file-card[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.file-list-container[_ngcontent-%COMP%]   .file-card[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#1a1a55}.file-list-container[_ngcontent-%COMP%]   .file-card[_ngcontent-%COMP%]   .file-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:10px}.file-list-container[_ngcontent-%COMP%]   .file-card[_ngcontent-%COMP%]   .file-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px;margin-right:0}@media (min-width: 600px){.file-card[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-between;align-items:center}}"]})}}return n})();const Yae=["FileListComponent"];function Zae(n,e){if(1&n){const t=mh();Le(0,"button",5),Kt("click",function(){return ls(t),to($t(2).downloadFile())}),bn(1," Download File "),Fe()}}function Jae(n,e){if(1&n&&(Le(0,"mat-card",3)(1,"h3"),bn(2),Fe(),nt(3,Zae,2,0,"button",4),Fe()),2&n){const t=$t();$e(2),Xc(null==t.file?null:t.file.name),$e(1),je("ngIf",t.file)}}function ele(n,e){1&n&&(Le(0,"p"),bn(1,"Loading file..."),Fe())}const tle=[{path:"",component:(()=>{class n{constructor(t){this.fileService=t,this.upload=!1}openFileDialog(){}uploaded(){this.upload=!0}ngOnDestroy(){this.fileService.cleanupondestroy()}static{this.\u0275fac=function(i){return new(i||n)(H(NU))}}static{this.\u0275cmp=Wn({type:n,selectors:[["app-home"]],viewQuery:function(i,r){if(1&i&&Zr(Yae,5),2&i){let s;Yt(s=Xt())&&(r.FileListComponent=s.first)}},decls:3,vars:0,consts:[[3,"uploaded"],["FileListComponent",""]],template:function(i,r){if(1&i){const s=mh();Le(0,"app-upload",0),Kt("uploaded",function(){return ls(s),to(Ls(2).loadnewFiles())}),Fe(),vn(1,"app-file-list",null,1)}},dependencies:[Oae,Qae],styles:[".home-container[_ngcontent-%COMP%]{text-align:center;padding:20px}.upload-card[_ngcontent-%COMP%]{padding:20px;margin-bottom:20px}.upload-area[_ngcontent-%COMP%]{border:2px dashed #00796b;padding:30px;margin-bottom:20px}.file-list-card[_ngcontent-%COMP%]{padding:20px}"]})}}return n})()},{path:"file/:id",component:(()=>{class n{constructor(t,i,r){this.route=t,this.firestore=i,this.router=r,this.file=null,this.loading=!0}ngOnInit(){const t=this.route.snapshot.paramMap.get("id");t?this.fetchFile(t):this.loading=!1}fetchFile(t){var i=this;return(0,ae.A)(function*(){try{const r=yield i.firestore.collection("files").doc(t).get().toPromise();if(r?.exists){const s=r.data(),o=Date.now();if(s.expiresAt<o)return alert("This file has expired and is no longer available."),void i.router.navigate(["/"]);i.file=s}else alert("File not found!"),i.router.navigate(["/"])}catch(r){console.error("Error fetching file:",r)}finally{i.loading=!1}})()}downloadFile(){if(!this.file)return;const t=this.base64ToBlob(this.file.fileData),i=window.URL.createObjectURL(t),r=document.createElement("a");r.href=i,r.download=this.file.name,document.body.appendChild(r),r.click(),document.body.removeChild(r)}base64ToBlob(t){const i=atob(t),r=new Array(i.length).fill(0).map((o,a)=>i.charCodeAt(a)),s=new Uint8Array(r);return new Blob([s],{type:"application/octet-stream"})}static{this.\u0275fac=function(i){return new(i||n)(H(ld),H(jg),H(es))}}static{this.\u0275cmp=Wn({type:n,selectors:[["app-file-view"]],decls:6,vars:2,consts:[[1,"file-view-container"],["class","file-card",4,"ngIf","ngIfElse"],["loadingTemplate",""],[1,"file-card"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"]],template:function(i,r){if(1&i&&(Le(0,"div",0)(1,"h2"),bn(2,"Download File"),Fe(),nt(3,Jae,4,2,"mat-card",1),nt(4,ele,2,0,"ng-template",null,2,td),Fe()),2&i){const s=Ls(5);$e(3),je("ngIf",!r.loading)("ngIfElse",s)}},dependencies:[Eh,jw]})}}return n})()}];let nle=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=kt({type:n})}static{this.\u0275inj=wt({imports:[_L.forRoot(tle,{enableTracing:!1,useHash:!0}),_L]})}}return n})();const ile=["*",[["mat-toolbar-row"]]],rle=["*","mat-toolbar-row"],sle=LD(class{constructor(n){this._elementRef=n}});let ole=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=xe({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}}return n})(),ale=(()=>{class n extends sle{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static{this.\u0275fac=function(i){return new(i||n)(H(Ht),H($s),H(Mt))}}static{this.\u0275cmp=Wn({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,s){if(1&i&&ji(s,ole,5),2&i){let o;Yt(o=Xt())&&(r._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,r){2&i&&Vn("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[xt],ngContentSelectors:rle,decls:2,vars:0,template:function(i,r){1&i&&(Vs(ile),Qt(0),Qt(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}}return n})(),yz=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=kt({type:n})}static{this.\u0275inj=wt({imports:[Ni,Ni]})}}return n})(),lle=(()=>{class n{constructor(t,i){this.fileService=t,this.router=i,this.title="quickshare"}ngOnInit(){this.fileService.cleanupExpiredFiles(),setInterval(()=>{this.fileService.cleanupExpiredFiles()},36e5)}toggleDarkMode(){}navigation(){this.router.navigate([""])}static{this.\u0275fac=function(i){return new(i||n)(H(NU),H(es))}}static{this.\u0275cmp=Wn({type:n,selectors:[["app-root"]],decls:6,vars:0,consts:[["color","primary",1,"toolbar"],[1,"logo",3,"click"],[1,"spacer"],[1,"container"]],template:function(i,r){1&i&&(Le(0,"mat-toolbar",0)(1,"span",1),Kt("click",function(){return r.navigation()}),bn(2,"QuickTransfer"),Fe(),vn(3,"span",2),Fe(),Le(4,"div",3),vn(5,"router-outlet"),Fe())},dependencies:[FC,ale],styles:[".toolbar[_ngcontent-%COMP%]{display:flex;align-items:center}.toolbar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.toolbar[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]})}}return n})();function vz(n){return new re(3e3,!1)}function rc(n){switch(n.length){case 0:return new Qg;case 1:return n[0];default:return new Aj(n)}}function bz(n,e,t=new Map,i=new Map){const r=[],s=[];let o=-1,a=null;if(e.forEach(l=>{const d=l.get("offset"),f=d==o,g=f&&a||new Map;l.forEach((y,b)=>{let I=b,x=y;if("offset"!==b)switch(I=n.normalizePropertyName(I,r),x){case"!":x=t.get(b);break;case $a:x=i.get(b);break;default:x=n.normalizeStyleValue(b,I,x,r)}g.set(I,x)}),f||s.push(g),a=g,o=d}),r.length)throw function Rle(n){return new re(3502,!1)}();return s}function yS(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&vS(t,"start",n)));break;case"done":n.onDone(()=>i(t&&vS(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&vS(t,"destroy",n)))}}function vS(n,e,t){const s=bS(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function bS(n,e,t,i,r="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function ys(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function wz(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const Hle=(()=>typeof document>"u"?null:document.documentElement)();function wS(n){const e=n.parentNode||n.host||null;return e===Hle?null:e}let Ud=null,Ez=!1;function Iz(n,e){for(;e;){if(e===n)return!0;e=wS(e)}return!1}function xz(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let Cz=(()=>{class n{validateStyleProperty(t){return function qle(n){Ud||(Ud=function Gle(){return typeof document<"u"?document.body:null}()||{},Ez=!!Ud.style&&"WebkitAppearance"in Ud.style);let e=!0;return Ud.style&&!function $le(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Ud.style,!e&&Ez&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ud.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return Iz(t,i)}getParentElement(t){return wS(t)}query(t,i,r){return xz(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,o,a=[],l){return new Qg(r,s)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac})}}return n})(),ES=(()=>{class n{static{this.NOOP=new Cz}}return n})();const Wle=1e3,IS="ng-enter",l0="ng-leave",c0="ng-trigger",d0=".ng-trigger",Az="ng-animating",xS=".ng-animating";function Ga(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:CS(parseFloat(e[1]),e[2])}function CS(n,e){return"s"===e?n*Wle:n}function u0(n,e,t){return n.hasOwnProperty("duration")?n:function Qle(n,e,t){let r,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(vz()),{duration:0,delay:0,easing:""};r=CS(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=CS(parseFloat(l),a[4]));const d=a[5];d&&(o=d)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(function cle(){return new re(3100,!1)}()),a=!0),s<0&&(e.push(function dle(){return new re(3101,!1)}()),a=!0),a&&e.splice(l,0,vz())}return{duration:r,delay:s,easing:o}}(n,e,t)}function i_(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Dz(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function sc(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function Ko(n,e,t){e.forEach((i,r)=>{const s=AS(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i})}function jd(n,e){e.forEach((t,i)=>{const r=AS(i);n.style[r]=""})}function r_(n){return Array.isArray(n)?1==n.length?n[0]:Cj(n):n}const TS=new RegExp("{{\\s*(.+?)\\s*}}","g");function kz(n){let e=[];if("string"==typeof n){let t;for(;t=TS.exec(n);)e.push(t[1]);TS.lastIndex=0}return e}function s_(n,e,t){const i=n.toString(),r=i.replace(TS,(s,o)=>{let a=e[o];return null==a&&(t.push(function hle(n){return new re(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function h0(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Zle=/-+([a-z0-9])/g;function AS(n){return n.replace(Zle,(...e)=>e[1].toUpperCase())}function vs(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function fle(n){return new re(3004,!1)}()}}function Rz(n,e){return window.getComputedStyle(n)[e]}const f0="*";function tce(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function nce(n,e,t){if(":"==n[0]){const l=function ice(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function Ale(n){return new re(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function Tle(n){return new re(3015,!1)}()),e;const r=i[1],s=i[2],o=i[3];e.push(Mz(r,o));"<"==s[0]&&!(r==f0&&o==f0)&&e.push(Mz(o,r))}(i,t,e)):t.push(n),t}const m0=new Set(["true","1"]),p0=new Set(["false","0"]);function Mz(n,e){const t=m0.has(n)||p0.has(n),i=m0.has(e)||p0.has(e);return(r,s)=>{let o=n==f0||n==r,a=e==f0||e==s;return!o&&t&&"boolean"==typeof r&&(o=r?m0.has(n):p0.has(n)),!a&&i&&"boolean"==typeof s&&(a=s?m0.has(e):p0.has(e)),o&&a}}const rce=new RegExp("s*:selfs*,?","g");function DS(n,e,t,i){return new sce(n).build(e,t,i)}class sce{constructor(e){this._driver=e}build(e,t,i){const r=new lce(t);return this._resetContextStyleTimingState(r),vs(this,r_(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function ple(){return new re(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,d=l.name;d.toString().split(/\s*,\s*/).forEach(f=>{l.name=f,s.push(this.visitState(l,t))}),l.name=d}else if(1==a.type){const l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,o.push(l)}else t.errors.push(function gle(){return new re(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{kz(l).forEach(d=>{o.hasOwnProperty(d)||s.add(d)})})}),s.size&&(h0(s.values()),t.errors.push(function _le(n,e){return new re(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=vs(this,r_(e.animation),t);return{type:1,matchers:tce(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:zd(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>vs(this,i,t)),options:zd(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(o=>{t.currentTime=i;const a=vs(this,o,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:s,options:zd(e.options)}}visitAnimate(e,t){const i=function dce(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return SS(u0(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=SS(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=u0(t,e);return SS(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:Nd({});if(5==s.type)r=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const d={};i.easing&&(d.easing=i.easing),o=Nd(d)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===$a?i.push(a):t.errors.push(new re(3002,!1)):i.push(Dz(a));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const d=t.collectedStyles.get(t.currentQuerySelector),f=d.get(l);let g=!0;f&&(s!=r&&s>=f.startTime&&r<=f.endTime&&(t.errors.push(function vle(n,e,t,i,r){return new re(3010,!1)}()),g=!1),s=f.startTime),g&&d.set(l,{startTime:s,endTime:r}),t.options&&function Xle(n,e,t){const i=e.params||{},r=kz(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function ule(n){return new re(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function ble(){return new re(3011,!1)}()),i;let s=0;const o=[];let a=!1,l=!1,d=0;const f=e.steps.map(V=>{const M=this._makeStyleAst(V,t);let U=null!=M.offset?M.offset:function cce(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(M.styles),J=0;return null!=U&&(s++,J=M.offset=U),l=l||J<0||J>1,a=a||J<d,d=J,o.push(J),M});l&&t.errors.push(function wle(){return new re(3012,!1)}()),a&&t.errors.push(function Ele(){return new re(3200,!1)}());const g=e.steps.length;let y=0;s>0&&s<g?t.errors.push(function Ile(){return new re(3202,!1)}()):0==s&&(y=1/(g-1));const b=g-1,I=t.currentTime,x=t.currentAnimateTimings,T=x.duration;return f.forEach((V,M)=>{const U=y>0?M==b?1:y*M:o[M],J=U*T;t.currentTime=I+x.delay+J,x.duration=J,this._validateStyleAst(V,t),V.offset=U,i.styles.push(V)}),i}visitReference(e,t){return{type:8,animation:vs(this,r_(e.animation),t),options:zd(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:zd(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:zd(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function oce(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(rce,"")),n=n.replace(/@\*/g,d0).replace(/@\w+/g,t=>d0+"-"+t.slice(1)).replace(/:animating/g,xS),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,ys(t.collectedStyles,t.currentQuerySelector,new Map);const a=vs(this,r_(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:zd(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function xle(){return new re(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:u0(e.timings,t.errors,!0);return{type:12,animation:vs(this,r_(e.animation),t),timings:i,options:null}}}class lce{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function zd(n){return n?(n=i_(n)).params&&(n.params=function ace(n){return n?i_(n):null}(n.params)):n={},n}function SS(n,e,t){return{duration:n,delay:e,easing:t}}function kS(n,e,t,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class g0{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const fce=new RegExp(":enter","g"),pce=new RegExp(":leave","g");function RS(n,e,t,i,r,s=new Map,o=new Map,a,l,d=[]){return(new gce).buildKeyframes(n,e,t,i,r,s,o,a,l,d)}class gce{buildKeyframes(e,t,i,r,s,o,a,l,d,f=[]){d=d||new g0;const g=new MS(e,t,d,r,s,f,[]);g.options=l;const y=l.delay?Ga(l.delay):0;g.currentTimeline.delayNextStep(y),g.currentTimeline.setStyles([o],null,g.errors,l),vs(this,i,g);const b=g.timelines.filter(I=>I.containsAnimation());if(b.length&&a.size){let I;for(let x=b.length-1;x>=0;x--){const T=b[x];if(T.element===t){I=T;break}}I&&!I.allowOnlyTimelineStyles()&&I.setStyles([a],null,g.errors,l)}return b.length?b.map(I=>I.buildKeyframes()):[kS(t,[],[],[],0,y,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const s=r?.delay;if(s){const o="number"==typeof s?s:Ga(s_(s,r?.params??{},t.errors));i.delayNextStep(o)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const o=null!=i.duration?Ga(i.duration):null,a=null!=i.delay?Ga(i.delay):null;return 0!==o&&e.forEach(l=>{const d=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,d.duration+d.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),vs(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=_0);const o=Ga(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>vs(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Ga(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),vs(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return u0(t.params?s_(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?Ga(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=_0);let o=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((d,f)=>{t.currentQueryIndex=f;const g=t.createSubContext(e.options,d);s&&g.delayNextStep(s),d===t.element&&(l=g.currentTimeline),vs(this,e.animation,g),g.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,g.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const f=t.currentTimeline;l&&f.delayNextStep(l);const g=f.currentTime;vs(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-g+(r.startTime-i.currentTimeline.startTime)}}const _0={};class MS{constructor(e,t,i,r,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_0,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new y0(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Ga(i.duration)),null!=i.delay&&(r.delay=Ga(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=s_(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new MS(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=_0,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new _ce(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,o){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(fce,"."+this._enterClassName)).replace(pce,"."+this._leaveClassName);let d=this._driver.query(this.element,e,1!=i);0!==i&&(d=i<0?d.slice(d.length+i,d.length):d.slice(0,i)),a.push(...d)}return!s&&0==a.length&&o.push(function Cle(n){return new re(3014,!1)}()),a}}class y0{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new y0(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||$a),this._currentKeyframe.set(t,$a);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},o=function yce(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,$a)}else sc(r,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of o){const d=s_(l,s,i);this._pendingStyles.set(a,d),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??$a),this._updateStyle(a,d)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const d=sc(a,new Map,this._backFill);d.forEach((f,g)=>{"!"===f?e.add(g):f===$a&&t.add(g)}),i||d.set("offset",l/this.duration),r.push(d)});const s=e.size?h0(e.values()):[],o=t.size?h0(t.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return kS(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class _ce extends y0{constructor(e,t,i,r,s,o,a=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=i+t,a=t/o,l=sc(e[0]);l.set("offset",0),s.push(l);const d=sc(e[0]);d.set("offset",Nz(a)),s.push(d);const f=e.length-1;for(let g=1;g<=f;g++){let y=sc(e[g]);const b=y.get("offset");y.set("offset",Nz((t+b*i)/o)),s.push(y)}i=o,t=0,r="",e=s}return kS(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function Nz(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class PS{}const vce=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class bce extends PS{normalizePropertyName(e,t){return AS(e)}normalizeStyleValue(e,t,i,r){let s="";const o=i.toString().trim();if(vce.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function mle(n,e){return new re(3005,!1)}())}return o+s}}function Fz(n,e,t,i,r,s,o,a,l,d,f,g,y){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:d,postStyleProps:f,totalTime:g,errors:y}}const OS={};class Lz{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function wce(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,o,a,l,d,f){const g=[],y=this.ast.options&&this.ast.options.params||OS,I=this.buildStyles(i,a&&a.params||OS,g),x=l&&l.params||OS,T=this.buildStyles(r,x,g),V=new Set,M=new Map,U=new Map,J="void"===r,ye={params:Ece(x,y),delay:this.ast.options?.delay},Se=f?[]:RS(e,t,this.ast.animation,s,o,I,T,ye,d,g);let N=0;if(Se.forEach(P=>{N=Math.max(P.duration+P.delay,N)}),g.length)return Fz(t,this._triggerName,i,r,J,I,T,[],[],M,U,N,g);Se.forEach(P=>{const B=P.element,G=ys(M,B,new Set);P.preStyleProps.forEach(O=>G.add(O));const X=ys(U,B,new Set);P.postStyleProps.forEach(O=>X.add(O)),B!==t&&V.add(B)});const D=h0(V.values());return Fz(t,this._triggerName,i,r,J,I,T,Se,D,M,U,N)}}function Ece(n,e){const t=i_(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class Ice{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=i_(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(r[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=s_(o,r,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),i.set(a,o)})}),i}}class Cce{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new Ice(r.style,r.options&&r.options.params||{},i))}),Vz(this.states,"true","1"),Vz(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Lz(e,r,this.states))}),this.fallbackTransition=function Tce(n,e,t){return new Lz(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(o=>o.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Vz(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Ace=new g0;class Dce{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],s=DS(this._driver,t,i,[]);if(i.length)throw function Mle(n){return new re(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=bz(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=RS(this._driver,t,s,IS,l0,new Map,new Map,i,Ace,r),o.forEach(f=>{const g=ys(a,f.element,new Map);f.postStyleProps.forEach(y=>g.set(y,null))})):(r.push(function Ple(){return new re(3300,!1)}()),o=[]),r.length)throw function Ole(n){return new re(3504,!1)}();a.forEach((f,g)=>{f.forEach((y,b)=>{f.set(b,this._driver.computeStyle(g,b,$a))})});const d=rc(o.map(f=>{const g=a.get(f.element);return this._buildPlayer(f,new Map,g)}));return this._playersById.set(e,d),d.onDestroy(()=>this.destroy(e)),this.players.push(d),d}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Nle(n){return new re(3301,!1)}();return t}listen(e,t,i,r){const s=bS(t,"","","");return yS(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Bz="ng-animate-queued",NS="ng-animate-disabled",Pce=[],Uz={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Oce={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},co="__ng_removed";class FS{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Vce(n){return n??null}(i?e.value:e),i){const s=i_(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const o_="void",LS=new FS(o_);class Nce{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,qs(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function Fle(n,e){return new re(3302,!1)}();if(null==i||0==i.length)throw function Lle(n){return new re(3303,!1)}();if(!function Bce(n){return"start"==n||"done"==n}(i))throw function Vle(n,e){return new re(3400,!1)}();const s=ys(this._elementListeners,e,[]),o={name:t,phase:i,callback:r};s.push(o);const a=ys(this._engine.statesByElement,e,new Map);return a.has(t)||(qs(e,c0),qs(e,c0+"-"+t),a.set(t,LS)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Ble(n){return new re(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),o=new VS(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(qs(e,c0),qs(e,c0+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const d=new FS(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&d.absorbOptions(l.options),a.set(t,d),l||(l=LS),d.value!==o_&&l.value===d.value){if(!function zce(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,d.params)){const x=[],T=s.matchStyles(l.value,l.params,x),V=s.matchStyles(d.value,d.params,x);x.length?this._engine.reportError(x):this._engine.afterFlush(()=>{jd(e,T),Ko(e,V)})}return}const y=ys(this._engine.playersByElement,e,[]);y.forEach(x=>{x.namespaceId==this.id&&x.triggerName==t&&x.queued&&x.destroy()});let b=s.matchTransition(l.value,d.value,e,d.params),I=!1;if(!b){if(!r)return;b=s.fallbackTransition,I=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:b,fromState:l,toState:d,player:o,isFallbackTransition:I}),I||(qs(e,Bz),o.onStart(()=>{Df(e,Bz)})),o.onDone(()=>{let x=this.players.indexOf(o);x>=0&&this.players.splice(x,1);const T=this._engine.playersByElement.get(e);if(T){let V=T.indexOf(o);V>=0&&T.splice(V,1)}}),this.players.push(o),y.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,d0,!0);i.forEach(r=>{if(r[co])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,d)=>{if(o.set(d,l.value),this._triggers.has(d)){const f=this.trigger(e,d,o_,r);f&&a.push(f)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),i&&rc(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers.get(o).fallbackTransition,d=i.get(o)||LS,f=new FS(o_),g=new VS(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:d,toState:f,player:g,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[co];(!s||s===Uz)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){qs(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=bS(s,i.triggerName,i.fromState.value,i.toState.value);l._data=e,yS(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Fce{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new Nce(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=r.get(a);if(l){const d=i.indexOf(l);i.splice(d+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(v0(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!v0(t))return;const s=t[co];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),qs(e,NS)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Df(e,NS))}removeNode(e,t,i){if(v0(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[co]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return v0(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,d0,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,xS,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return rc(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[co];if(t&&t.setForRemoval){if(e[co]=Uz,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(NS)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)qs(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?rc(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function Ule(n){return new re(3402,!1)}()}_flushAnimations(e,t){const i=new g0,r=[],s=new Map,o=[],a=new Map,l=new Map,d=new Map,f=new Set;this.disabledNodes.forEach(Ue=>{f.add(Ue);const He=this.driver.query(Ue,".ng-animate-queued",!0);for(let We=0;We<He.length;We++)f.add(He[We])});const g=this.bodyNode,y=Array.from(this.statesByElement.keys()),b=Hz(y,this.collectedEnterElements),I=new Map;let x=0;b.forEach((Ue,He)=>{const We=IS+x++;I.set(He,We),Ue.forEach(St=>qs(St,We))});const T=[],V=new Set,M=new Set;for(let Ue=0;Ue<this.collectedLeaveElements.length;Ue++){const He=this.collectedLeaveElements[Ue],We=He[co];We&&We.setForRemoval&&(T.push(He),V.add(He),We.hasAnimation?this.driver.query(He,".ng-star-inserted",!0).forEach(St=>V.add(St)):M.add(He))}const U=new Map,J=Hz(y,Array.from(V));J.forEach((Ue,He)=>{const We=l0+x++;U.set(He,We),Ue.forEach(St=>qs(St,We))}),e.push(()=>{b.forEach((Ue,He)=>{const We=I.get(He);Ue.forEach(St=>Df(St,We))}),J.forEach((Ue,He)=>{const We=U.get(He);Ue.forEach(St=>Df(St,We))}),T.forEach(Ue=>{this.processLeaveNode(Ue)})});const ye=[],Se=[];for(let Ue=this._namespaceList.length-1;Ue>=0;Ue--)this._namespaceList[Ue].drainQueuedTransitions(t).forEach(We=>{const St=We.player,yi=We.element;if(ye.push(St),this.collectedEnterElements.length){const di=yi[co];if(di&&di.setForMove){if(di.previousTriggersValues&&di.previousTriggersValues.has(We.triggerName)){const Qa=di.previousTriggersValues.get(We.triggerName),is=this.statesByElement.get(We.element);if(is&&is.has(We.triggerName)){const Ya=is.get(We.triggerName);Ya.value=Qa,is.set(We.triggerName,Ya)}}return void St.destroy()}}const Ws=!g||!this.driver.containsElement(g,yi),ci=U.get(yi),Mn=I.get(yi),Pn=this._buildInstruction(We,i,Mn,ci,Ws);if(Pn.errors&&Pn.errors.length)return void Se.push(Pn);if(Ws)return St.onStart(()=>jd(yi,Pn.fromStyles)),St.onDestroy(()=>Ko(yi,Pn.toStyles)),void r.push(St);if(We.isFallbackTransition)return St.onStart(()=>jd(yi,Pn.fromStyles)),St.onDestroy(()=>Ko(yi,Pn.toStyles)),void r.push(St);const ac=[];Pn.timelines.forEach(di=>{di.stretchStartingKeyframe=!0,this.disabledNodes.has(di.element)||ac.push(di)}),Pn.timelines=ac,i.append(yi,Pn.timelines),o.push({instruction:Pn,player:St,element:yi}),Pn.queriedElements.forEach(di=>ys(a,di,[]).push(St)),Pn.preStyleProps.forEach((di,Qa)=>{if(di.size){let is=l.get(Qa);is||l.set(Qa,is=new Set),di.forEach((Ya,lc)=>is.add(lc))}}),Pn.postStyleProps.forEach((di,Qa)=>{let is=d.get(Qa);is||d.set(Qa,is=new Set),di.forEach((Ya,lc)=>is.add(lc))})});if(Se.length){const Ue=[];Se.forEach(He=>{Ue.push(function jle(n,e){return new re(3505,!1)}())}),ye.forEach(He=>He.destroy()),this.reportError(Ue)}const N=new Map,D=new Map;o.forEach(Ue=>{const He=Ue.element;i.has(He)&&(D.set(He,He),this._beforeAnimationBuild(Ue.player.namespaceId,Ue.instruction,N))}),r.forEach(Ue=>{const He=Ue.element;this._getPreviousPlayers(He,!1,Ue.namespaceId,Ue.triggerName,null).forEach(St=>{ys(N,He,[]).push(St),St.destroy()})});const P=T.filter(Ue=>qz(Ue,l,d)),B=new Map;zz(B,this.driver,M,d,$a).forEach(Ue=>{qz(Ue,l,d)&&P.push(Ue)});const X=new Map;b.forEach((Ue,He)=>{zz(X,this.driver,new Set(Ue),l,"!")}),P.forEach(Ue=>{const He=B.get(Ue),We=X.get(Ue);B.set(Ue,new Map([...He?.entries()??[],...We?.entries()??[]]))});const O=[],Gs=[],oc={};o.forEach(Ue=>{const{element:He,player:We,instruction:St}=Ue;if(i.has(He)){if(f.has(He))return We.onDestroy(()=>Ko(He,St.toStyles)),We.disabled=!0,We.overrideTotalTime(St.totalTime),void r.push(We);let yi=oc;if(D.size>1){let ci=He;const Mn=[];for(;ci=ci.parentNode;){const Pn=D.get(ci);if(Pn){yi=Pn;break}Mn.push(ci)}Mn.forEach(Pn=>D.set(Pn,yi))}const Ws=this._buildAnimation(We.namespaceId,St,N,s,X,B);if(We.setRealPlayer(Ws),yi===oc)O.push(We);else{const ci=this.playersByElement.get(yi);ci&&ci.length&&(We.parentPlayer=rc(ci)),r.push(We)}}else jd(He,St.fromStyles),We.onDestroy(()=>Ko(He,St.toStyles)),Gs.push(We),f.has(He)&&r.push(We)}),Gs.forEach(Ue=>{const He=s.get(Ue.element);if(He&&He.length){const We=rc(He);Ue.setRealPlayer(We)}}),r.forEach(Ue=>{Ue.parentPlayer?Ue.syncPlayerEvents(Ue.parentPlayer):Ue.destroy()});for(let Ue=0;Ue<T.length;Ue++){const He=T[Ue],We=He[co];if(Df(He,l0),We&&We.hasAnimation)continue;let St=[];if(a.size){let Ws=a.get(He);Ws&&Ws.length&&St.push(...Ws);let ci=this.driver.query(He,xS,!0);for(let Mn=0;Mn<ci.length;Mn++){let Pn=a.get(ci[Mn]);Pn&&Pn.length&&St.push(...Pn)}}const yi=St.filter(Ws=>!Ws.destroyed);yi.length?Uce(this,He,yi):this.processLeaveNode(He)}return T.length=0,O.forEach(Ue=>{this.players.push(Ue),Ue.onDone(()=>{Ue.destroy();const He=this.players.indexOf(Ue);this.players.splice(He,1)}),Ue.play()}),O}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==o_;a.forEach(d=>{d.queued||!l&&d.triggerName!=r||o.push(d)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,t,i){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const d=l.element,f=d!==s,g=ys(i,d,[]);this._getPreviousPlayers(d,f,o,a,t.toState).forEach(b=>{const I=b.getRealPlayer();I.beforeDestroy&&I.beforeDestroy(),b.destroy(),g.push(b)})}jd(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,o){const a=t.triggerName,l=t.element,d=[],f=new Set,g=new Set,y=t.timelines.map(I=>{const x=I.element;f.add(x);const T=x[co];if(T&&T.removedBeforeQueried)return new Qg(I.duration,I.delay);const V=x!==l,M=function jce(n){const e=[];return $z(n,e),e}((i.get(x)||Pce).map(N=>N.getRealPlayer())).filter(N=>!!N.element&&N.element===x),U=s.get(x),J=o.get(x),ye=bz(this._normalizer,I.keyframes,U,J),Se=this._buildPlayer(I,ye,M);if(I.subTimeline&&r&&g.add(x),V){const N=new VS(e,a,x);N.setRealPlayer(Se),d.push(N)}return Se});d.forEach(I=>{ys(this.playersByQueriedElement,I.element,[]).push(I),I.onDone(()=>function Lce(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,I.element,I))}),f.forEach(I=>qs(I,Az));const b=rc(y);return b.onDestroy(()=>{f.forEach(I=>Df(I,Az)),Ko(l,t.toStyles)}),g.forEach(I=>{ys(r,I,[]).push(b)}),b}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Qg(e.duration,e.delay)}}class VS{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Qg,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>yS(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ys(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function v0(n){return n&&1===n.nodeType}function jz(n,e){const t=n.style.display;return n.style.display=e??"none",t}function zz(n,e,t,i,r){const s=[];t.forEach(l=>s.push(jz(l)));const o=[];i.forEach((l,d)=>{const f=new Map;l.forEach(g=>{const y=e.computeStyle(d,g,r);f.set(g,y),(!y||0==y.length)&&(d[co]=Oce,o.push(d))}),n.set(d,f)});let a=0;return t.forEach(l=>jz(l,s[a++])),o}function Hz(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const d=a.parentNode;return l=t.has(d)?d:r.has(d)?1:o(d),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function qs(n,e){n.classList?.add(e)}function Df(n,e){n.classList?.remove(e)}function Uce(n,e,t){rc(t).onDone(()=>n.processLeaveNode(e))}function $z(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof Aj?$z(i.players,e):e.push(i)}}function qz(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class b0{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Fce(e,t,i),this._timelineEngine=new Dce(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const o=e+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],f=DS(this._driver,s,l,[]);if(l.length)throw function kle(n,e){return new re(3404,!1)}();a=function xce(n,e,t){return new Cce(n,e,t)}(r,f,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,o]=wz(i);this._timelineEngine.command(s,t,o,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[o,a]=wz(i);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let $ce=(()=>{class n{static{this.initialStylesByElement=new WeakMap}constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Ko(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ko(this._element,this._initialStyles),this._endStyles&&(Ko(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(jd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(jd(this._element,this._endStyles),this._endStyles=null),Ko(this._element,this._initialStyles),this._state=3)}}return n})();function BS(n){let e=null;return n.forEach((t,i)=>{(function qce(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class Gz{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:Rz(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Gce{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Iz(e,t)}getParentElement(e){return wS(e)}query(e,t,i){return xz(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,o=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(l.easing=s);const d=new Map,f=o.filter(b=>b instanceof Gz);(function Jle(n,e){return 0===n||0===e})(i,r)&&f.forEach(b=>{b.currentSnapshot.forEach((I,x)=>d.set(x,I))});let g=function Yle(n){return n.length?n[0]instanceof Map?n:n.map(e=>Dz(e)):[]}(t).map(b=>sc(b));g=function ece(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<e.length;s++){let o=e[s];r.forEach(a=>o.set(a,Rz(n,a)))}}return e}(e,g,d);const y=function Hce(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=BS(e[0]),e.length>1&&(i=BS(e[e.length-1]))):e instanceof Map&&(t=BS(e)),t||i?new $ce(n,t,i):null}(e,g);return new Gz(e,g,l,y)}}let Wce=(()=>{class n extends xj{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:ii.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?Cj(t):t;return Wz(this._renderer,null,i,"register",[r]),new Kce(i,this._renderer)}static{this.\u0275fac=function(i){return new(i||n)(Q(op),Q(Mt))}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac})}}return n})();class Kce extends Mre{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Qce(this._id,e,t||{},this._renderer)}}class Qce{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Wz(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Wz(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const Kz="@.disabled";let Yce=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let f=this._rendererCache.get(s);return f||(f=new Qz("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,f)),f}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=f=>{Array.isArray(f)?f.forEach(l):this.engine.registerTrigger(o,a,t,f.name,f)};return i.data.animation.forEach(l),new Xce(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(i){return new(i||n)(Q(op),Q(b0),Q(Qe))}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac})}}return n})();class Qz{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==Kz?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Xce extends Qz{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Kz?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function Zce(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function Jce(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}const Yz=[{provide:xj,useClass:Wce},{provide:PS,useFactory:function tde(){return new bce}},{provide:b0,useClass:(()=>{class n extends b0{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||n)(Q(Mt),Q(ES),Q(PS),Q(Dl))}}static{this.\u0275prov=be({token:n,factory:n.\u0275fac})}}return n})()},{provide:op,useFactory:function nde(n,e,t){return new Yce(n,e,t)},deps:[pC,b0,Qe]}],US=[{provide:ES,useFactory:()=>new Gce},{provide:xa,useValue:"BrowserAnimations"},...Yz],Xz=[{provide:ES,useClass:Cz},{provide:xa,useValue:"NoopAnimations"},...Yz];let ide=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Xz:US}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=kt({type:n})}static{this.\u0275inj=wt({providers:US,imports:[sF]})}}return n})(),rde=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=kt({type:n})}static{this.\u0275inj=wt({imports:[Ni,Ni]})}}return n})(),n3=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=kt({type:n})}static{this.\u0275inj=wt({imports:[Sj,rd,Ni,_j,yj,rde]})}}return n})(),r3=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=kt({type:n})}static{this.\u0275inj=wt({imports:[rd,Ni]})}}return n})();const Fde=[Ij,HD,r3,zj,_z,n3,uz,yz];let Lde=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=kt({type:n})}static{this.\u0275inj=wt({imports:[Fde,Ij,HD,r3,zj,_z,n3,uz,yz]})}}return n})();const s3="firebasestorage.googleapis.com",o3="storageBucket";class Zn extends yt.g{constructor(e,t,i=0){super(zS(e),`Firebase Storage: ${t} (${zS(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Zn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return zS(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Hn=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Hn||{});function zS(n){return"storage/"+n}function HS(){return new Zn(Hn.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function a3(){return new Zn(Hn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function l3(){return new Zn(Hn.CANCELED,"User canceled the upload/download.")}function c3(){return new Zn(Hn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Sf(n){return new Zn(Hn.INVALID_ARGUMENT,n)}function d3(){return new Zn(Hn.APP_DELETED,"The Firebase app was deleted.")}function u3(n){return new Zn(Hn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function a_(n,e){return new Zn(Hn.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function l_(n){throw new Zn(Hn.INTERNAL_ERROR,"Internal error: "+n)}class Er{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Er.makeFromUrl(e,t)}catch{return new Er(e,"")}if(""===i.path)return i;throw function Wde(n){return new Zn(Hn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+r+"(/(.*))?$","i");function d(J){J.path_=decodeURIComponent(J.path)}const g=t.replace(/[.]/g,"\\."),U=[{regex:a,indices:{bucket:1,path:3},postModify:function s(J){"/"===J.path.charAt(J.path.length-1)&&(J.path_=J.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${g}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:d},{regex:new RegExp(`^https?://${t===s3?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:d}];for(let J=0;J<U.length;J++){const ye=U[J],Se=ye.regex.exec(e);if(Se){let D=Se[ye.indices.path];D||(D=""),i=new Er(Se[ye.indices.bucket],D),ye.postModify(i);break}}if(null==i)throw function Gde(n){return new Zn(Hn.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return i}}class Zde{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function E0(n){return"string"==typeof n||n instanceof String}function h3(n){return $S()&&n instanceof Blob}function $S(){return typeof Blob<"u"}function qS(n,e,t,i){if(i<e)throw Sf(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Sf(`Invalid value for '${n}'. Expected ${t} or less.`)}function Wa(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function f3(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var kf=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(kf||{});function m3(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||r||s}class rue{constructor(e,t,i,r,s,o,a,l,d,f,g,y=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=g,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,I)=>{this.resolve_=b,this.reject_=I,this.start_()})}start_(){const t=(i,r)=>{const s=this.resolve_,o=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());!function tue(n){return void 0!==n}(l)?s():s(l)}catch(l){o(l)}else if(null!==a){const l=HS();l.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,l):l)}else o(r.canceled?this.appDelete_?d3():l3():a3())};this.canceled_?t(0,new I0(!1,null,!0)):this.backoffId_=function Jde(n,e,t){let i=1,r=null,s=null,o=!1,a=0;function l(){return 2===a}let d=!1;function f(...T){d||(d=!0,e.apply(null,T))}function g(T){r=setTimeout(()=>{r=null,n(b,l())},T)}function y(){s&&clearTimeout(s)}function b(T,...V){if(d)return void y();if(T)return y(),void f.call(null,T,...V);if(l()||o)return y(),void f.call(null,T,...V);let U;i<64&&(i*=2),1===a?(a=2,U=0):U=1e3*(i+Math.random()),g(U)}let I=!1;function x(T){I||(I=!0,y(),!d&&(null!==r?(T||(a=2),clearTimeout(r),g(0)):T||(a=1)))}return g(0),s=setTimeout(()=>{o=!0,x(!0)},t),x}((i,r)=>{if(r)return void i(!1,new I0(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===kf.NO_ERROR,l=s.getStatus();if(!a||m3(l,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===kf.ABORT;return void i(!1,new I0(!1,null,f))}const d=-1!==this.successCodes_.indexOf(l);i(!0,new I0(d,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function eue(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class I0{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function uue(...n){const e=function due(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if($S())return new Blob(n);throw new Zn(Hn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const bs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class GS{constructor(e,t){this.data=e,this.contentType=t||null}}function WS(n,e){switch(n){case bs.RAW:return new GS(p3(e));case bs.BASE64:case bs.BASE64URL:return new GS(g3(n,e));case bs.DATA_URL:return new GS(function pue(n){const e=new _3(n);return e.base64?g3(bs.BASE64,e.rest):function mue(n){let e;try{e=decodeURIComponent(n)}catch{throw a_(bs.DATA_URL,"Malformed data URL.")}return p3(e)}(e.rest)}(e),function gue(n){return new _3(n).contentType}(e))}throw HS()}function p3(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function g3(n,e){switch(n){case bs.BASE64:{const r=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(r||s)throw a_(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case bs.BASE64URL:{const r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw a_(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function fue(n){if(typeof atob>"u")throw function Xde(n){return new Zn(Hn.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(r){throw r.message.includes("polyfill")?r:a_(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class _3{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw a_(bs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function _ue(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class Qo{constructor(e,t){let i=0,r="";h3(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(h3(this.data_)){const r=function hue(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new Qo(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Qo(i,!0)}}static getBlob(...e){if($S()){const t=e.map(i=>i instanceof Qo?i.data_:i);return new Qo(uue.apply(null,t))}{const t=e.map(o=>E0(o)?WS(bs.RAW,o).data:o.data_);let i=0;t.forEach(o=>{i+=o.byteLength});const r=new Uint8Array(i);let s=0;return t.forEach(o=>{for(let a=0;a<o.length;a++)r[s++]=o[a]}),new Qo(r,!0)}}uploadData(){return this.data_}}function KS(n){let e;try{e=JSON.parse(n)}catch{return null}return function iue(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function y3(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function bue(n,e){return e}class Ur{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||bue}}let x0=null;function c_(){if(x0)return x0;const n=[];n.push(new Ur("bucket")),n.push(new Ur("generation")),n.push(new Ur("metageneration")),n.push(new Ur("name","fullPath",!0));const t=new Ur("name");t.xform=function e(s,o){return function wue(n){return!E0(n)||n.length<2?n:y3(n)}(o)},n.push(t);const r=new Ur("size");return r.xform=function i(s,o){return void 0!==o?Number(o):o},n.push(r),n.push(new Ur("timeCreated")),n.push(new Ur("updated")),n.push(new Ur("md5Hash",null,!0)),n.push(new Ur("cacheControl",null,!0)),n.push(new Ur("contentDisposition",null,!0)),n.push(new Ur("contentEncoding",null,!0)),n.push(new Ur("contentLanguage",null,!0)),n.push(new Ur("contentType",null,!0)),n.push(new Ur("metadata","customMetadata",!0)),x0=n,x0}function v3(n,e,t){const i=KS(e);return null===i?null:function Iue(n,e,t){const i={type:"file"},r=t.length;for(let s=0;s<r;s++){const o=t[s];i[o.local]=o.xform(i,e[o.server])}return function Eue(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new Er(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(i,n),i}(n,i,t)}function QS(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const b3="prefixes",w3="items";class Yo{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Xo(n){if(!n)throw HS()}function C0(n,e){return function t(i,r){const s=v3(n,r,e);return Xo(null!==s),s}}function Rf(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function $de(){return new Zn(Hn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Hde(){return new Zn(Hn.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function zde(n){return new Zn(Hn.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function qde(n){return new Zn(Hn.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}}function d_(n){const e=Rf(n);return function t(i,r){let s=e(i,r);return 404===i.getStatus()&&(s=function jde(n){return new Zn(Hn.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function E3(n,e,t){const r=Wa(e.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,a=new Yo(r,"GET",C0(n,t),o);return a.errorHandler=d_(e),a}function Sue(n,e,t,i,r){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),i&&(s.pageToken=i),r&&(s.maxResults=r);const a=Wa(e.bucketOnlyServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,f=new Yo(a,"GET",function Aue(n,e){return function t(i,r){const s=function Tue(n,e,t){const i=KS(t);return null===i?null:function Cue(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[b3])for(const r of t[b3]){const s=r.replace(/\/$/,""),o=n._makeStorageReference(new Er(e,s));i.prefixes.push(o)}if(t[w3])for(const r of t[w3]){const s=n._makeStorageReference(new Er(e,r.name));i.items.push(s)}return i}(n,e,i)}(n,e,r);return Xo(null!==s),s}}(n,e.bucket),d);return f.urlParams=s,f.errorHandler=Rf(e),f}function x3(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function Pue(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class T0{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function YS(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Xo(!1)}return Xo(!!t&&-1!==(e||["active"]).indexOf(t)),t}const Lue={STATE_CHANGED:"state_changed"},jr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function XS(n){switch(n){case"running":case"pausing":case"canceling":return jr.RUNNING;case"paused":return jr.PAUSED;case"success":return jr.SUCCESS;case"canceled":return jr.CANCELED;default:return jr.ERROR}}class Vue{constructor(e,t,i){if(function nue(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function Mf(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let A3=null;class Bue{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=kf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=kf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=kf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw l_("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw l_("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw l_("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw l_("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw l_("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Uue extends Bue{initXhr(){this.xhr_.responseType="text"}}function uo(){return A3?A3():new Uue}class D3{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=c_(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(Hn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(m3(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=a3()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(Hn.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function Oue(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),o=x3(e,i,r),a={name:o.fullPath},l=Wa(s,n.host,n._protocol),f={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},g=QS(o,t),I=new Yo(l,"POST",function b(x){let T;YS(x);try{T=x.getResponseHeader("X-Goog-Upload-URL")}catch{Xo(!1)}return Xo(E0(T)),T},n.maxUploadRetryTime);return I.urlParams=a,I.headers=f,I.body=g,I.errorHandler=Rf(e),I}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,uo,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function Nue(n,e,t,i){const l=new Yo(t,"POST",function s(d){const f=YS(d,["active","final"]);let g=null;try{g=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Xo(!1)}g||Xo(!1);const y=Number(g);return Xo(!isNaN(y)),new T0(y,i.size(),"final"===f)},n.maxUploadRetryTime);return l.headers={"X-Goog-Upload-Command":"query"},l.errorHandler=Rf(e),l}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,uo,t,i);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new T0(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let o;try{o=function Fue(n,e,t,i,r,s,o,a){const l=new T0(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=i.size()),i.size()!==l.total)throw function Qde(){return new Zn(Hn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const d=l.total-l.current;let f=d;r>0&&(f=Math.min(f,r));const g=l.current;let b="";b=0===f?"finalize":d===f?"upload, finalize":"upload";const I={"X-Goog-Upload-Command":b,"X-Goog-Upload-Offset":`${l.current}`},x=i.slice(g,g+f);if(null===x)throw c3();const U=new Yo(t,"POST",function T(J,ye){const Se=YS(J,["active","final"]),N=l.current+f,D=i.size();let P;return P="final"===Se?C0(e,s)(J,ye):null,new T0(N,D,"final"===Se,P)},e.maxUploadRetryTime);return U.headers=I,U.body=x.uploadData(),U.progressCallback=a||null,U.errorHandler=Rf(n),U}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(l){return this._error=l,void this._transition("error")}const a=this._ref.storage._makeRequest(o,uo,r,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=E3(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,uo,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function C3(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},l=function a(){let U="";for(let J=0;J<2;J++)U+=Math.random().toString().slice(2);return U}();o["Content-Type"]="multipart/related; boundary="+l;const d=x3(e,i,r),f=QS(d,t),b=Qo.getBlob("--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+f+"\r\n--"+l+"\r\nContent-Type: "+d.contentType+"\r\n\r\n",i,"\r\n--"+l+"--");if(null===b)throw c3();const I={name:d.fullPath},x=Wa(s,n.host,n._protocol),V=n.maxUploadRetryTime,M=new Yo(x,"POST",C0(n,t),V);return M.urlParams=I,M.headers=o,M.body=b.uploadData(),M.errorHandler=Rf(e),M}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,uo,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=l3(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=XS(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const s=new Vue(t||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(XS(this._state)){case jr.SUCCESS:Mf(this._resolve.bind(null,this.snapshot))();break;case jr.CANCELED:case jr.ERROR:Mf(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(XS(this._state)){case jr.RUNNING:case jr.PAUSED:e.next&&Mf(e.next.bind(e,this.snapshot))();break;case jr.SUCCESS:e.complete&&Mf(e.complete.bind(e))();break;default:e.error&&Mf(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Hd{constructor(e,t){this._service=e,this._location=t instanceof Er?t:Er.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Hd(e,t)}get root(){const e=new Er(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return y3(this._location.path)}get storage(){return this._service}get parent(){const e=function yue(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Er(this._location.bucket,e);return new Hd(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw u3(e)}}function k3(n,e,t){return ZS.apply(this,arguments)}function ZS(){return(ZS=(0,ae.A)(function*(n,e,t){const r=yield R3(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield k3(n,e,r.nextPageToken))})).apply(this,arguments)}function R3(n,e){null!=e&&"number"==typeof e.maxResults&&qS("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=Sue(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,uo)}function Zue(n){n._throwIfRoot("getDownloadURL");const e=function kue(n,e,t){const r=Wa(e.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,a=new Yo(r,"GET",function Due(n,e){return function t(i,r){const s=v3(n,r,e);return Xo(null!==s),function xue(n,e,t,i){const r=KS(e);if(null===r||!E0(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(d=>{const g=n.fullPath;return Wa("/b/"+o(n.bucket)+"/o/"+o(g),t,i)+f3({alt:"media",token:d})})[0]}(s,r,n.host,n._protocol)}}(n,t),o);return a.errorHandler=d_(e),a}(n.storage,n._location,c_());return n.storage.makeRequestWithTokens(e,uo).then(t=>{if(null===t)throw function Yde(){return new Zn(Hn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function M3(n,e){const t=function vue(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new Er(n._location.bucket,t);return new Hd(n.storage,i)}function P3(n,e){if(n instanceof JS){const t=n;if(null==t._bucket)throw function Kde(){return new Zn(Hn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+o3+"' property when initializing the app?")}();const i=new Hd(t,t._bucket);return null!=e?P3(i,e):i}return void 0!==e?M3(n,e):n}function nhe(n,e){if(e&&function ehe(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof JS)return function the(n,e){return new Hd(n,e)}(n,e);throw Sf("To use ref(service, url), the first argument must be a Storage instance.")}return P3(n,e)}function O3(n,e){const t=e?.[o3];return null==t?null:Er.makeFromBucketSpec(t,n)}class JS{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=s3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Er.makeFromBucketSpec(r,this._host):O3(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Er.makeFromBucketSpec(this._url,e):O3(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){qS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){qS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,ae.A)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,ae.A)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Hd(this,e)}_makeRequest(e,t,i,r,s=!0){if(this._deleted)return new Zde(d3());{const o=function cue(n,e,t,i,r,s,o=!0){const a=f3(n.urlParams),l=n.url+a,d=Object.assign({},n.headers);return function aue(n,e){e&&(n["X-Firebase-GMPID"]=e)}(d,e),function sue(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(d,t),function oue(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(d,s),function lue(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(d,i),new rue(l,n.method,d,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,o)}(e,this._appId,i,r,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,t){var i=this;return(0,ae.A)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,s).getPromise()})()}}const N3="@firebase/storage";function V3(n,e){return nhe(n=(0,yt.Ku)(n),e)}function hhe(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new JS(t,i,r,e,Lo.SDK_VERSION)}!function fhe(){(0,Lo._registerComponent)(new Tb.uA("storage",hhe,"PUBLIC").setMultipleInstances(!0)),(0,Lo.registerVersion)(N3,"0.13.2",""),(0,Lo.registerVersion)(N3,"0.13.2","esm2017")}();class A0{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class U3{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new A0(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new A0(i,this,this._ref))},t)}on(e,t,i,r){let s;return t&&(s="function"==typeof t?o=>t(new A0(o,this,this._ref)):{next:t.next?o=>t.next(new A0(o,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,i||void 0,r||void 0)}}class j3{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Ka(e,this._service))}get items(){return this._delegate.items.map(e=>new Ka(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ka{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function uhe(n,e){return M3(n,e)}(this._delegate,e);return new Ka(t,this.storage)}get root(){return new Ka(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Ka(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new U3(function rhe(n,e,t){return function Wue(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new D3(n,new Qo(e),t)}(n=(0,yt.Ku)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=bs.RAW,i){this._throwIfRoot("putString");const r=WS(t,e),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new U3(new D3(this._delegate,new Qo(r.data,!0),s),this)}listAll(){return function lhe(n){return function Que(n){const e={prefixes:[],items:[]};return k3(n,e).then(()=>e)}(n=(0,yt.Ku)(n))}(this._delegate).then(e=>new j3(e,this.storage))}list(e){return function ahe(n,e){return R3(n=(0,yt.Ku)(n),e)}(this._delegate,e||void 0).then(t=>new j3(t,this.storage))}getMetadata(){return function she(n){return function Yue(n){n._throwIfRoot("getMetadata");const e=E3(n.storage,n._location,c_());return n.storage.makeRequestWithTokens(e,uo)}(n=(0,yt.Ku)(n))}(this._delegate)}updateMetadata(e){return function ohe(n,e){return function Xue(n,e){n._throwIfRoot("updateMetadata");const t=function Rue(n,e,t,i){const s=Wa(e.fullServerUrl(),n.host,n._protocol),a=QS(t,i),d=n.maxOperationRetryTime,f=new Yo(s,"PATCH",C0(n,i),d);return f.headers={"Content-Type":"application/json; charset=utf-8"},f.body=a,f.errorHandler=d_(e),f}(n.storage,n._location,e,c_());return n.storage.makeRequestWithTokens(t,uo)}(n=(0,yt.Ku)(n),e)}(this._delegate,e)}getDownloadURL(){return function che(n){return Zue(n=(0,yt.Ku)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function dhe(n){return function Jue(n){n._throwIfRoot("deleteObject");const e=function Mue(n,e){const i=Wa(e.fullServerUrl(),n.host,n._protocol),a=new Yo(i,"DELETE",function o(l,d){},n.maxOperationRetryTime);return a.successCodes=[200,204],a.errorHandler=d_(e),a}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,uo)}(n=(0,yt.Ku)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw u3(e)}}class z3{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(H3(e))throw Sf("ref() expected a child path but got a URL, use refFromURL instead.");return new Ka(V3(this._delegate,e),this)}refFromURL(e){if(!H3(e))throw Sf("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Er.makeFromUrl(e,this._delegate.host)}catch{throw Sf("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ka(V3(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function B3(n,e,t,i={}){!function ihe(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,yt.Fy)(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function H3(n){return/^[A-Za-z]+:\/\//.test(n)}function _he(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new z3(t,i)}function $3(n){const e=function vhe(n){return new rt(e=>{const t=o=>e.next(o);t(n.snapshot);const s=n.on("state_changed",t);return n.then(o=>{t(o),e.complete()},o=>{t(n.snapshot),(o=>{e.error(o)})(o)}),function(){s()}}).pipe(Lw(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(he(t=>t.bytesTransferred/t.totalBytes*100))}}function D0(n){return{getDownloadURL:()=>z(void 0).pipe(bL,Te(()=>n.getDownloadURL()),Fr),getMetadata:()=>z(void 0).pipe(bL,Te(()=>n.getMetadata()),Fr),delete:()=>S(n.delete()),child:e=>D0(n.child(e)),updateMetadata:e=>S(n.updateMetadata(e)),put:(e,t)=>$3(n.put(e,t)),putString:(e,t,i)=>$3(n.putString(e,t,i)),list:e=>S(n.list(e)),listAll:()=>S(n.listAll())}}!function yhe(n){const e={TaskState:jr,TaskEvent:Lue,StringFormat:bs,Storage:z3,Reference:Ka};n.INTERNAL.registerComponent(new Tb.uA("storage-compat",_he,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.12")}(Vo.A);const bhe=new de("angularfire2.storageBucket"),whe=new de("angularfire2.storage.maxUploadRetryTime"),Ehe=new de("angularfire2.storage.maxOperationRetryTime"),Ihe=new de("angularfire2.storage.use-emulator");let xhe=(()=>{class n{storage;constructor(t,i,r,s,o,a,l,d,f,g){const y=Cb(t,o,i);this.storage=QC(`${y.name}.storage.${r}`,"AngularFireStorage",y.name,()=>{const b=o.runOutsideAngular(()=>y.storage(r||void 0)),I=f;return I&&b.useEmulator(...I),l&&b.setMaxUploadRetryTime(l),d&&b.setMaxOperationRetryTime(d),b},[l,d])}ref(t){return D0(this.storage.ref(t))}refFromURL(t){return D0(this.storage.refFromURL(t))}upload(t,i,r){return D0(this.storage.ref(t)).put(i,r)}static \u0275fac=function(i){return new(i||n)(Q(Xp),Q(Zp,8),Q(bhe,8),Q(Os),Q(Qe),Q(KC),Q(whe,8),Q(Ehe,8),Q(Ihe,8),Q(WC,8))};static \u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Che=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=kt({type:n});static \u0275inj=wt({})}return n})(),The=(()=>{class n{constructor(){Vo.A.registerVersion("angularfire",xb.full,"gcs-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=kt({type:n});static \u0275inj=wt({providers:[xhe],imports:[Che]})}return n})();const Ahe_firebaseConfig={apiKey:"AIzaSyDElSh3vud80KLWufNHTdq3iYN0ajg8SJE",authDomain:"file-transfer-35211.firebaseapp.com",projectId:"file-transfer-35211",storageBucket:"file-transfer-35211.firebasestorage.app",messagingSenderId:"830182675622",appId:"1:830182675622:web:7b52c4060e8b6079169067",measurementId:"G-34LMV2Z6GN"};let Dhe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=kt({type:n,bootstrap:[lle]})}static{this.\u0275inj=wt({imports:[sF,nle,ide,Lde,ZX.initializeApp(Ahe_firebaseConfig),The,kne,eie]})}}return n})();Y7().bootstrapModule(Dhe).catch(n=>console.error(n))},345:(Ks,Fi,ut)=>{ut.d(Fi,{A:()=>Ti});var A=ut(76),Je=ut(362),Pe=ut(852),oe=ut(41);class ct{constructor(et,ft){this._delegate=et,this.firebase=ft,(0,Pe._addComponent)(et,new Je.uA("app-compat",()=>this,"PUBLIC")),this.container=et.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(et){this._delegate.automaticDataCollectionEnabled=et}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(et=>{this._delegate.checkDestroyed(),et()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Pe.deleteApp)(this._delegate)))}_getService(et,ft=Pe._DEFAULT_ENTRY_NAME){var Ai;this._delegate.checkDestroyed();const Di=this._delegate.container.getProvider(et);return!Di.isInitialized()&&"EXPLICIT"===(null===(Ai=Di.getComponent())||void 0===Ai?void 0:Ai.instantiationMode)&&Di.initialize(),Di.getImmediate({identifier:ft})}_removeServiceInstance(et,ft=Pe._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(et).clearInstance(ft)}_addComponent(et){(0,Pe._addComponent)(this._delegate,et)}_addOrOverwriteComponent(et){(0,Pe._addOrOverwriteComponent)(this._delegate,et)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Cn=new A.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ue=function vt(){const Lt=function vi(Lt){const et={},ft={__esModule:!0,initializeApp:function fn(Ke,$n={}){const tn=Pe.initializeApp(Ke,$n);if((0,A.gR)(et,tn.name))return et[tn.name];const pe=new Lt(tn,ft);return et[tn.name]=pe,pe},app:Di,registerVersion:Pe.registerVersion,setLogLevel:Pe.setLogLevel,onLog:Pe.onLog,apps:null,SDK_VERSION:Pe.SDK_VERSION,INTERNAL:{registerComponent:function en(Ke){const $n=Ke.name,tn=$n.replace("-compat","");if(Pe._registerComponent(Ke)&&"PUBLIC"===Ke.type){const pe=(mn=Di())=>{if("function"!=typeof mn[tn])throw Cn.create("invalid-app-argument",{appName:$n});return mn[tn]()};void 0!==Ke.serviceProps&&(0,A.zw)(pe,Ke.serviceProps),ft[tn]=pe,Lt.prototype[tn]=function(...mn){return this._getService.bind(this,$n).apply(this,Ke.multipleInstances?mn:[])}}return"PUBLIC"===Ke.type?ft[tn]:null},removeApp:function Ai(Ke){delete et[Ke]},useAsService:function qi(Ke,$n){return"serverAuth"===$n?null:$n},modularAPIs:Pe}};function Di(Ke){if(!(0,A.gR)(et,Ke=Ke||Pe._DEFAULT_ENTRY_NAME))throw Cn.create("no-app",{appName:Ke});return et[Ke]}return ft.default=ft,Object.defineProperty(ft,"apps",{get:function zt(){return Object.keys(et).map(Ke=>et[Ke])}}),Di.App=Lt,ft}(ct);return Lt.INTERNAL=Object.assign(Object.assign({},Lt.INTERNAL),{createFirebaseNamespace:vt,extendNamespace:function et(ft){(0,A.zw)(Lt,ft)},createSubscribe:A.tD,ErrorFactory:A.FA,deepExtend:A.zw}),Lt}(),ve=new oe.Vy("@firebase/app-compat");try{const Lt=(0,A.mS)();if(void 0!==Lt.firebase){ve.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const et=Lt.firebase.SDK_VERSION;et&&et.indexOf("LITE")>=0&&ve.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const Ti=ue;!function Nt(Lt){(0,Pe.registerVersion)("@firebase/app-compat","0.2.43",Lt)}()},852:(Ks,Fi,ut)=>{ut.r(Fi),ut.d(Fi,{FirebaseError:()=>oe.g,SDK_VERSION:()=>ia,_DEFAULT_ENTRY_NAME:()=>Is,_addComponent:()=>Fn,_addOrOverwriteComponent:()=>xs,_apps:()=>qr,_clearComponents:()=>na,_components:()=>or,_getProvider:()=>el,_isFirebaseApp:()=>ta,_isFirebaseServerApp:()=>ar,_registerComponent:()=>qn,_removeServiceInstance:()=>Cs,_serverApps:()=>ti,deleteApp:()=>il,getApp:()=>Qd,getApps:()=>nl,initializeApp:()=>tl,initializeServerApp:()=>ra,onLog:()=>k,registerVersion:()=>S,setLogLevel:()=>L});var A=ut(467),Je=ut(362),Pe=ut(41),oe=ut(76);const ct=(ee,F)=>F.some(Z=>ee instanceof Z);let xn,Cn;const ue=new WeakMap,ve=new WeakMap,Ve=new WeakMap,bt=new WeakMap,Nt=new WeakMap;let et={get(ee,F,Z){if(ee instanceof IDBTransaction){if("done"===F)return ve.get(ee);if("objectStoreNames"===F)return ee.objectStoreNames||Ve.get(ee);if("store"===F)return Z.objectStoreNames[1]?void 0:Z.objectStore(Z.objectStoreNames[0])}return fn(ee[F])},set:(ee,F,Z)=>(ee[F]=Z,!0),has:(ee,F)=>ee instanceof IDBTransaction&&("done"===F||"store"===F)||F in ee};function Di(ee){return"function"==typeof ee?function Ai(ee){return ee!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function vt(){return Cn||(Cn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ee)?function(...F){return ee.apply(zt(this),F),fn(ue.get(this))}:function(...F){return fn(ee.apply(zt(this),F))}:function(F,...Z){const Ae=ee.call(zt(this),F,...Z);return Ve.set(Ae,F.sort?F.sort():[F]),fn(Ae)}}(ee):(ee instanceof IDBTransaction&&function Lt(ee){if(ve.has(ee))return;const F=new Promise((Z,Ae)=>{const it=()=>{ee.removeEventListener("complete",lt),ee.removeEventListener("error",dt),ee.removeEventListener("abort",dt)},lt=()=>{Z(),it()},dt=()=>{Ae(ee.error||new DOMException("AbortError","AbortError")),it()};ee.addEventListener("complete",lt),ee.addEventListener("error",dt),ee.addEventListener("abort",dt)});ve.set(ee,F)}(ee),ct(ee,function vi(){return xn||(xn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ee,et):ee)}function fn(ee){if(ee instanceof IDBRequest)return function Ti(ee){const F=new Promise((Z,Ae)=>{const it=()=>{ee.removeEventListener("success",lt),ee.removeEventListener("error",dt)},lt=()=>{Z(fn(ee.result)),it()},dt=()=>{Ae(ee.error),it()};ee.addEventListener("success",lt),ee.addEventListener("error",dt)});return F.then(Z=>{Z instanceof IDBCursor&&ue.set(Z,ee)}).catch(()=>{}),Nt.set(F,ee),F}(ee);if(bt.has(ee))return bt.get(ee);const F=Di(ee);return F!==ee&&(bt.set(ee,F),Nt.set(F,ee)),F}const zt=ee=>Nt.get(ee),Ke=["get","getKey","getAll","getAllKeys","count"],$n=["put","add","delete","clear"],tn=new Map;function pe(ee,F){if(!(ee instanceof IDBDatabase)||F in ee||"string"!=typeof F)return;if(tn.get(F))return tn.get(F);const Z=F.replace(/FromIndex$/,""),Ae=F!==Z,it=$n.includes(Z);if(!(Z in(Ae?IDBIndex:IDBObjectStore).prototype)||!it&&!Ke.includes(Z))return;const lt=function(){var dt=(0,A.A)(function*(Ct,...Tn){const Tr=this.transaction(Ct,it?"readwrite":"readonly");let qt=Tr.store;return Ae&&(qt=qt.index(Tn.shift())),(yield Promise.all([qt[Z](...Tn),it&&Tr.done]))[0]});return function(Tn){return dt.apply(this,arguments)}}();return tn.set(F,lt),lt}!function ft(ee){et=ee(et)}(ee=>({...ee,get:(F,Z,Ae)=>pe(F,Z)||ee.get(F,Z,Ae),has:(F,Z)=>!!pe(F,Z)||ee.has(F,Z)}));class mn{constructor(F){this.container=F}getPlatformInfoString(){return this.container.getProviders().map(Z=>{if(function cn(ee){const F=ee.getComponent();return"VERSION"===F?.type}(Z)){const Ae=Z.getImmediate();return`${Ae.library}/${Ae.version}`}return null}).filter(Z=>Z).join(" ")}}const rr="@firebase/app",$r="0.10.13",rt=new Pe.Vy("@firebase/app"),Is="[DEFAULT]",ea={[rr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},qr=new Map,ti=new Map,or=new Map;function Fn(ee,F){try{ee.container.addComponent(F)}catch(Z){rt.debug(`Component ${F.name} failed to register with FirebaseApp ${ee.name}`,Z)}}function xs(ee,F){ee.container.addOrOverwriteComponent(F)}function qn(ee){const F=ee.name;if(or.has(F))return rt.debug(`There were multiple attempts to register component ${F}.`),!1;or.set(F,ee);for(const Z of qr.values())Fn(Z,ee);for(const Z of ti.values())Fn(Z,ee);return!0}function el(ee,F){const Z=ee.container.getProvider("heartbeat").getImmediate({optional:!0});return Z&&Z.triggerHeartbeat(),ee.container.getProvider(F)}function Cs(ee,F,Z=Is){el(ee,F).clearInstance(Z)}function ta(ee){return void 0!==ee.options}function ar(ee){return void 0!==ee.settings}function na(){or.clear()}const Gi=new oe.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class lr{constructor(F,Z,Ae){this._isDeleted=!1,this._options=Object.assign({},F),this._config=Object.assign({},Z),this._name=Z.name,this._automaticDataCollectionEnabled=Z.automaticDataCollectionEnabled,this._container=Ae,this.container.addComponent(new Je.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(F){this.checkDestroyed(),this._automaticDataCollectionEnabled=F}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(F){this._isDeleted=F}checkDestroyed(){if(this.isDeleted)throw Gi.create("app-deleted",{appName:this._name})}}class cr extends lr{constructor(F,Z,Ae,it){const lt=void 0!==Z.automaticDataCollectionEnabled&&Z.automaticDataCollectionEnabled,dt={name:Ae,automaticDataCollectionEnabled:lt};super(void 0!==F.apiKey?F:F.options,dt,it),this._serverConfig=Object.assign({automaticDataCollectionEnabled:lt},Z),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Z.releaseOnDeref=void 0,S(rr,$r,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(F){this.isDeleted||(this._refCount++,void 0!==F&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(F,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){il(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Gi.create("server-app-deleted")}}const ia="10.14.1";function tl(ee,F={}){let Z=ee;"object"!=typeof F&&(F={name:F});const Ae=Object.assign({name:Is,automaticDataCollectionEnabled:!1},F),it=Ae.name;if("string"!=typeof it||!it)throw Gi.create("bad-app-name",{appName:String(it)});if(Z||(Z=(0,oe.T9)()),!Z)throw Gi.create("no-options");const lt=qr.get(it);if(lt){if((0,oe.bD)(Z,lt.options)&&(0,oe.bD)(Ae,lt.config))return lt;throw Gi.create("duplicate-app",{appName:it})}const dt=new Je.h1(it);for(const Tn of or.values())dt.addComponent(Tn);const Ct=new lr(Z,Ae,dt);return qr.set(it,Ct),Ct}function ra(ee,F){if((0,oe.Bd)()&&!(0,oe.p7)())throw Gi.create("invalid-server-app-environment");let Z;void 0===F.automaticDataCollectionEnabled&&(F.automaticDataCollectionEnabled=!1),Z=ta(ee)?ee.options:ee;const Ae=Object.assign(Object.assign({},F),Z);if(void 0!==Ae.releaseOnDeref&&delete Ae.releaseOnDeref,void 0!==F.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Gi.create("finalization-registry-not-supported",{});const lt=""+(Tr=JSON.stringify(Ae),[...Tr].reduce((qt,As)=>Math.imul(31,qt)+As.charCodeAt(0)|0,0)),dt=ti.get(lt);var Tr;if(dt)return dt.incRefCount(F.releaseOnDeref),dt;const Ct=new Je.h1(lt);for(const Tr of or.values())Ct.addComponent(Tr);const Tn=new cr(Z,F,lt,Ct);return ti.set(lt,Tn),Tn}function Qd(ee=Is){const F=qr.get(ee);if(!F&&ee===Is&&(0,oe.T9)())return tl();if(!F)throw Gi.create("no-app",{appName:ee});return F}function nl(){return Array.from(qr.values())}function il(ee){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,A.A)(function*(ee){let F=!1;const Z=ee.name;qr.has(Z)?(F=!0,qr.delete(Z)):ti.has(Z)&&ee.decRefCount()<=0&&(ti.delete(Z),F=!0),F&&(yield Promise.all(ee.container.getProviders().map(Ae=>Ae.delete())),ee.isDeleted=!0)})).apply(this,arguments)}function S(ee,F,Z){var Ae;let it=null!==(Ae=ea[ee])&&void 0!==Ae?Ae:ee;Z&&(it+=`-${Z}`);const lt=it.match(/\s|\//),dt=F.match(/\s|\//);if(lt||dt){const Ct=[`Unable to register library "${it}" with version "${F}":`];return lt&&Ct.push(`library name "${it}" contains illegal characters (whitespace or "/")`),lt&&dt&&Ct.push("and"),dt&&Ct.push(`version name "${F}" contains illegal characters (whitespace or "/")`),void rt.warn(Ct.join(" "))}qn(new Je.uA(`${it}-version`,()=>({library:it,version:F}),"VERSION"))}function k(ee,F){if(null!==ee&&"function"!=typeof ee)throw Gi.create("invalid-log-argument");(0,Pe.Ey)(ee,F)}function L(ee){(0,Pe.He)(ee)}const z="firebase-heartbeat-database",Y=1,Re="firebase-heartbeat-store";let Te=null;function rn(){return Te||(Te=function en(ee,F,{blocked:Z,upgrade:Ae,blocking:it,terminated:lt}={}){const dt=indexedDB.open(ee,F),Ct=fn(dt);return Ae&&dt.addEventListener("upgradeneeded",Tn=>{Ae(fn(dt.result),Tn.oldVersion,Tn.newVersion,fn(dt.transaction),Tn)}),Z&&dt.addEventListener("blocked",Tn=>Z(Tn.oldVersion,Tn.newVersion,Tn)),Ct.then(Tn=>{lt&&Tn.addEventListener("close",()=>lt()),it&&Tn.addEventListener("versionchange",Tr=>it(Tr.oldVersion,Tr.newVersion,Tr))}).catch(()=>{}),Ct}(z,Y,{upgrade:(ee,F)=>{if(0===F)try{ee.createObjectStore(Re)}catch(Z){console.warn(Z)}}}).catch(ee=>{throw Gi.create("idb-open",{originalErrorMessage:ee.message})})),Te}function qe(){return(qe=(0,A.A)(function*(ee){try{const Z=(yield rn()).transaction(Re),Ae=yield Z.objectStore(Re).get(Si(ee));return yield Z.done,Ae}catch(F){if(F instanceof oe.g)rt.warn(F.message);else{const Z=Gi.create("idb-get",{originalErrorMessage:F?.message});rt.warn(Z.message)}}})).apply(this,arguments)}function Gn(ee,F){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,A.A)(function*(ee,F){try{const Ae=(yield rn()).transaction(Re,"readwrite");yield Ae.objectStore(Re).put(F,Si(ee)),yield Ae.done}catch(Z){if(Z instanceof oe.g)rt.warn(Z.message);else{const Ae=Gi.create("idb-set",{originalErrorMessage:Z?.message});rt.warn(Ae.message)}}})).apply(this,arguments)}function Si(ee){return`${ee.name}!${ee.options.appId}`}class Xe{constructor(F){this.container=F,this._heartbeatsCache=null;const Z=this.container.getProvider("app").getImmediate();this._storage=new Lf(Z),this._heartbeatsCachePromise=this._storage.read().then(Ae=>(this._heartbeatsCache=Ae,Ae))}triggerHeartbeat(){var F=this;return(0,A.A)(function*(){var Z,Ae;try{const lt=F.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),dt=Ts();return null==(null===(Z=F._heartbeatsCache)||void 0===Z?void 0:Z.heartbeats)&&(F._heartbeatsCache=yield F._heartbeatsCachePromise,null==(null===(Ae=F._heartbeatsCache)||void 0===Ae?void 0:Ae.heartbeats))||F._heartbeatsCache.lastSentHeartbeatDate===dt||F._heartbeatsCache.heartbeats.some(Ct=>Ct.date===dt)?void 0:(F._heartbeatsCache.heartbeats.push({date:dt,agent:lt}),F._heartbeatsCache.heartbeats=F._heartbeatsCache.heartbeats.filter(Ct=>{const Tn=new Date(Ct.date).valueOf();return Date.now()-Tn<=2592e6}),F._storage.overwrite(F._heartbeatsCache))}catch(it){rt.warn(it)}})()}getHeartbeatsHeader(){var F=this;return(0,A.A)(function*(){var Z;try{if(null===F._heartbeatsCache&&(yield F._heartbeatsCachePromise),null==(null===(Z=F._heartbeatsCache)||void 0===Z?void 0:Z.heartbeats)||0===F._heartbeatsCache.heartbeats.length)return"";const Ae=Ts(),{heartbeatsToSend:it,unsentEntries:lt}=function rl(ee,F=1024){const Z=[];let Ae=ee.slice();for(const it of ee){const lt=Z.find(dt=>dt.agent===it.agent);if(lt){if(lt.dates.push(it.date),Xs(Z)>F){lt.dates.pop();break}}else if(Z.push({agent:it.agent,dates:[it.date]}),Xs(Z)>F){Z.pop();break}Ae=Ae.slice(1)}return{heartbeatsToSend:Z,unsentEntries:Ae}}(F._heartbeatsCache.heartbeats),dt=(0,oe.Uj)(JSON.stringify({version:2,heartbeats:it}));return F._heartbeatsCache.lastSentHeartbeatDate=Ae,lt.length>0?(F._heartbeatsCache.heartbeats=lt,yield F._storage.overwrite(F._heartbeatsCache)):(F._heartbeatsCache.heartbeats=[],F._storage.overwrite(F._heartbeatsCache)),dt}catch(Ae){return rt.warn(Ae),""}})()}}function Ts(){return(new Date).toISOString().substring(0,10)}class Lf{constructor(F){this.app=F,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,A.A)(function*(){return!!(0,oe.zW)()&&(0,oe.eX)().then(()=>!0).catch(()=>!1)})()}read(){var F=this;return(0,A.A)(function*(){if(yield F._canUseIndexedDBPromise){const Ae=yield function ni(ee){return qe.apply(this,arguments)}(F.app);return Ae?.heartbeats?Ae:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(F){var Z=this;return(0,A.A)(function*(){var Ae;if(yield Z._canUseIndexedDBPromise){const lt=yield Z.read();return Gn(Z.app,{lastSentHeartbeatDate:null!==(Ae=F.lastSentHeartbeatDate)&&void 0!==Ae?Ae:lt.lastSentHeartbeatDate,heartbeats:F.heartbeats})}})()}add(F){var Z=this;return(0,A.A)(function*(){var Ae;if(yield Z._canUseIndexedDBPromise){const lt=yield Z.read();return Gn(Z.app,{lastSentHeartbeatDate:null!==(Ae=F.lastSentHeartbeatDate)&&void 0!==Ae?Ae:lt.lastSentHeartbeatDate,heartbeats:[...lt.heartbeats,...F.heartbeats]})}})()}}function Xs(ee){return(0,oe.Uj)(JSON.stringify({version:2,heartbeats:ee})).length}!function re(ee){qn(new Je.uA("platform-logger",F=>new mn(F),"PRIVATE")),qn(new Je.uA("heartbeat",F=>new Xe(F),"PRIVATE")),S(rr,$r,ee),S(rr,$r,"esm2017"),S("fire-js","")}("")},362:(Ks,Fi,ut)=>{ut.d(Fi,{h1:()=>vi,uA:()=>Pe});var A=ut(467),Je=ut(76);class Pe{constructor(ue,ve,Ve){this.name=ue,this.instanceFactory=ve,this.type=Ve,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ue){return this.instantiationMode=ue,this}setMultipleInstances(ue){return this.multipleInstances=ue,this}setServiceProps(ue){return this.serviceProps=ue,this}setInstanceCreatedCallback(ue){return this.onInstanceCreated=ue,this}}const oe="[DEFAULT]";class ct{constructor(ue,ve){this.name=ue,this.container=ve,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ue){const ve=this.normalizeInstanceIdentifier(ue);if(!this.instancesDeferred.has(ve)){const Ve=new Je.cY;if(this.instancesDeferred.set(ve,Ve),this.isInitialized(ve)||this.shouldAutoInitialize())try{const bt=this.getOrInitializeService({instanceIdentifier:ve});bt&&Ve.resolve(bt)}catch{}}return this.instancesDeferred.get(ve).promise}getImmediate(ue){var ve;const Ve=this.normalizeInstanceIdentifier(ue?.identifier),bt=null!==(ve=ue?.optional)&&void 0!==ve&&ve;if(!this.isInitialized(Ve)&&!this.shouldAutoInitialize()){if(bt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ve})}catch(Nt){if(bt)return null;throw Nt}}getComponent(){return this.component}setComponent(ue){if(ue.name!==this.name)throw Error(`Mismatching Component ${ue.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ue,this.shouldAutoInitialize()){if(function Cn(vt){return"EAGER"===vt.instantiationMode}(ue))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[ve,Ve]of this.instancesDeferred.entries()){const bt=this.normalizeInstanceIdentifier(ve);try{const Nt=this.getOrInitializeService({instanceIdentifier:bt});Ve.resolve(Nt)}catch{}}}}clearInstance(ue=oe){this.instancesDeferred.delete(ue),this.instancesOptions.delete(ue),this.instances.delete(ue)}delete(){var ue=this;return(0,A.A)(function*(){const ve=Array.from(ue.instances.values());yield Promise.all([...ve.filter(Ve=>"INTERNAL"in Ve).map(Ve=>Ve.INTERNAL.delete()),...ve.filter(Ve=>"_delete"in Ve).map(Ve=>Ve._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ue=oe){return this.instances.has(ue)}getOptions(ue=oe){return this.instancesOptions.get(ue)||{}}initialize(ue={}){const{options:ve={}}=ue,Ve=this.normalizeInstanceIdentifier(ue.instanceIdentifier);if(this.isInitialized(Ve))throw Error(`${this.name}(${Ve}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const bt=this.getOrInitializeService({instanceIdentifier:Ve,options:ve});for(const[Nt,Ti]of this.instancesDeferred.entries())Ve===this.normalizeInstanceIdentifier(Nt)&&Ti.resolve(bt);return bt}onInit(ue,ve){var Ve;const bt=this.normalizeInstanceIdentifier(ve),Nt=null!==(Ve=this.onInitCallbacks.get(bt))&&void 0!==Ve?Ve:new Set;Nt.add(ue),this.onInitCallbacks.set(bt,Nt);const Ti=this.instances.get(bt);return Ti&&ue(Ti,bt),()=>{Nt.delete(ue)}}invokeOnInitCallbacks(ue,ve){const Ve=this.onInitCallbacks.get(ve);if(Ve)for(const bt of Ve)try{bt(ue,ve)}catch{}}getOrInitializeService({instanceIdentifier:ue,options:ve={}}){let Ve=this.instances.get(ue);if(!Ve&&this.component&&(Ve=this.component.instanceFactory(this.container,{instanceIdentifier:(vt=ue,vt===oe?void 0:vt),options:ve}),this.instances.set(ue,Ve),this.instancesOptions.set(ue,ve),this.invokeOnInitCallbacks(Ve,ue),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ue,Ve)}catch{}var vt;return Ve||null}normalizeInstanceIdentifier(ue=oe){return this.component?this.component.multipleInstances?ue:oe:ue}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class vi{constructor(ue){this.name=ue,this.providers=new Map}addComponent(ue){const ve=this.getProvider(ue.name);if(ve.isComponentSet())throw new Error(`Component ${ue.name} has already been registered with ${this.name}`);ve.setComponent(ue)}addOrOverwriteComponent(ue){this.getProvider(ue.name).isComponentSet()&&this.providers.delete(ue.name),this.addComponent(ue)}getProvider(ue){if(this.providers.has(ue))return this.providers.get(ue);const ve=new ct(ue,this);return this.providers.set(ue,ve),ve}getProviders(){return Array.from(this.providers.values())}}},41:(Ks,Fi,ut)=>{ut.d(Fi,{$b:()=>Je,Ey:()=>vt,He:()=>vi,Vy:()=>Cn});const A=[];var Je=function(ue){return ue[ue.DEBUG=0]="DEBUG",ue[ue.VERBOSE=1]="VERBOSE",ue[ue.INFO=2]="INFO",ue[ue.WARN=3]="WARN",ue[ue.ERROR=4]="ERROR",ue[ue.SILENT=5]="SILENT",ue}(Je||{});const Pe={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},oe=Je.INFO,ct={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},xn=(ue,ve,...Ve)=>{if(ve<ue.logLevel)return;const bt=(new Date).toISOString(),Nt=ct[ve];if(!Nt)throw new Error(`Attempted to log a message with an invalid logType (value: ${ve})`);console[Nt](`[${bt}]  ${ue.name}:`,...Ve)};class Cn{constructor(ve){this.name=ve,this._logLevel=oe,this._logHandler=xn,this._userLogHandler=null,A.push(this)}get logLevel(){return this._logLevel}set logLevel(ve){if(!(ve in Je))throw new TypeError(`Invalid value "${ve}" assigned to \`logLevel\``);this._logLevel=ve}setLogLevel(ve){this._logLevel="string"==typeof ve?Pe[ve]:ve}get logHandler(){return this._logHandler}set logHandler(ve){if("function"!=typeof ve)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ve}get userLogHandler(){return this._userLogHandler}set userLogHandler(ve){this._userLogHandler=ve}debug(...ve){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...ve),this._logHandler(this,Je.DEBUG,...ve)}log(...ve){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...ve),this._logHandler(this,Je.VERBOSE,...ve)}info(...ve){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...ve),this._logHandler(this,Je.INFO,...ve)}warn(...ve){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...ve),this._logHandler(this,Je.WARN,...ve)}error(...ve){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...ve),this._logHandler(this,Je.ERROR,...ve)}}function vi(ue){A.forEach(ve=>{ve.setLogLevel(ue)})}function vt(ue,ve){for(const Ve of A){let bt=null;ve&&ve.level&&(bt=Pe[ve.level]),Ve.userLogHandler=null===ue?null:(Nt,Ti,...Lt)=>{const et=Lt.map(ft=>{if(null==ft)return null;if("string"==typeof ft)return ft;if("number"==typeof ft||"boolean"==typeof ft)return ft.toString();if(ft instanceof Error)return ft.message;try{return JSON.stringify(ft)}catch{return null}}).filter(ft=>ft).join(" ");Ti>=(bt??Nt.logLevel)&&ue({level:Je[Ti].toLowerCase(),message:et,args:Lt,type:Nt.name})}}}},955:(Ks,Fi,ut)=>{var A=ut(467),Je=ut(345),Pe=ut(852),oe=ut(76),ct=ut(41),xn=ut(635),Cn=ut(362);const vt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Ti=function bt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Lt=function Nt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},et=new oe.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ai=new ct.Vy("@firebase/auth");function fn(m,...c){Ai.logLevel<=ct.$b.ERROR&&Ai.error(`Auth (${Pe.SDK_VERSION}): ${m}`,...c)}function zt(m,...c){throw tn(m,...c)}function en(m,...c){return tn(m,...c)}function qi(m,c,u){const p=Object.assign(Object.assign({},Lt()),{[c]:u});return new oe.FA("auth","Firebase",p).create(c,{appName:m.name})}function Ke(m){return qi(m,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $n(m,c,u){if(!(c instanceof u))throw u.name!==c.constructor.name&&zt(m,"argument-error"),qi(m,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tn(m,...c){if("string"!=typeof m){const u=c[0],p=[...c.slice(1)];return p[0]&&(p[0].appName=m.name),m._errorFactory.create(u,...p)}return et.create(m,...c)}function pe(m,c,...u){if(!m)throw tn(c,...u)}function mn(m){const c="INTERNAL ASSERTION FAILED: "+m;throw fn(c),new Error(c)}function cn(m,c){m||mn(c)}function rr(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function $r(){return"http:"===rt()||"https:"===rt()}function rt(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class Es{constructor(c,u){this.shortDelay=c,this.longDelay=u,cn(u>c,"Short delay should be less than long delay!"),this.isMobile=(0,oe.jZ)()||(0,oe.lV)()}get(){return function fo(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&($r()||(0,oe.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mo(m,c){cn(m.emulator,"Emulator should always be set here");const{url:u}=m.emulator;return c?`${u}${c.startsWith("/")?c.slice(1):c}`:u}class j{static initialize(c,u,p){this.fetchImpl=c,u&&(this.headersImpl=u),p&&(this.responseImpl=p)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void mn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void mn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void mn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},le=new Es(3e4,6e4);function q(m,c){return m.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:m.tenantId}):c}function te(m,c,u,p){return _e.apply(this,arguments)}function _e(){return(_e=(0,A.A)(function*(m,c,u,p,v={}){return he(m,v,(0,A.A)(function*(){let E={},R={};p&&("GET"===c?R=p:E={body:JSON.stringify(p)});const $=(0,oe.Am)(Object.assign({key:m.config.apiKey},R)).slice(1),ce=yield m._getAdditionalHeaders();ce["Content-Type"]="application/json",m.languageCode&&(ce["X-Firebase-Locale"]=m.languageCode);const we=Object.assign({method:c,headers:ce},E);return(0,oe.c1)()||(we.referrerPolicy="no-referrer"),j.fetch()(Bt(m,m.config.apiHost,u,$),we)}))})).apply(this,arguments)}function he(m,c,u){return mt.apply(this,arguments)}function mt(){return(mt=(0,A.A)(function*(m,c,u){m._canInitEmulator=!1;const p=Object.assign(Object.assign({},ie),c);try{const v=new rs(m),E=yield Promise.race([u(),v.promise]);v.clearNetworkTimeout();const R=yield E.json();if("needConfirmation"in R)throw Ft(m,"account-exists-with-different-credential",R);if(E.ok&&!("errorMessage"in R))return R;{const $=E.ok?R.errorMessage:R.error.message,[ce,we]=$.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ce)throw Ft(m,"credential-already-in-use",R);if("EMAIL_EXISTS"===ce)throw Ft(m,"email-already-in-use",R);if("USER_DISABLED"===ce)throw Ft(m,"user-disabled",R);const Oe=p[ce]||ce.toLowerCase().replace(/[_\s]+/g,"-");if(we)throw qi(m,Oe,we);zt(m,Oe)}}catch(v){if(v instanceof oe.g)throw v;zt(m,"network-request-failed",{message:String(v)})}})).apply(this,arguments)}function Vt(m,c,u,p){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,A.A)(function*(m,c,u,p,v={}){const E=yield te(m,c,u,p,v);return"mfaPendingCredential"in E&&zt(m,"multi-factor-auth-required",{_serverResponse:E}),E})).apply(this,arguments)}function Bt(m,c,u,p){const v=`${c}${u}?${p}`;return m.config.emulator?mo(m.config,v):`${m.config.apiScheme}://${v}`}function Nn(m){switch(m){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rs{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((u,p)=>{this.timer=setTimeout(()=>p(en(this.auth,"network-request-failed")),le.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ft(m,c,u){const p={appName:m.name};u.email&&(p.email=u.email),u.phoneNumber&&(p.phoneNumber=u.phoneNumber);const v=en(m,c,p);return v.customData._tokenResponse=u,v}function Jn(m){return void 0!==m&&void 0!==m.getResponse}function hi(m){return void 0!==m&&void 0!==m.enterprise}class Li{constructor(c){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===c.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=c.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=c.recaptchaEnforcementState}getProviderEnforcementState(c){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const u of this.recaptchaEnforcementState)if(u.provider&&u.provider===c)return Nn(u.enforcementState);return null}isProviderEnabled(c){return"ENFORCE"===this.getProviderEnforcementState(c)||"AUDIT"===this.getProviderEnforcementState(c)}}function ei(){return(ei=(0,A.A)(function*(m){return(yield te(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Zo(m,c){return po.apply(this,arguments)}function po(){return(po=(0,A.A)(function*(m,c){return te(m,"GET","/v2/recaptchaConfig",q(m,c))})).apply(this,arguments)}function Jo(){return(Jo=(0,A.A)(function*(m,c){return te(m,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function ea(){return(ea=(0,A.A)(function*(m,c){return te(m,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function qr(m,c){return ti.apply(this,arguments)}function ti(){return(ti=(0,A.A)(function*(m,c){return te(m,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function or(m){if(m)try{const c=new Date(Number(m));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function qn(){return(qn=(0,A.A)(function*(m,c=!1){const u=(0,oe.Ku)(m),p=yield u.getIdToken(c),v=Cs(p);pe(v&&v.exp&&v.auth_time&&v.iat,u.auth,"internal-error");const E="object"==typeof v.firebase?v.firebase:void 0,R=E?.sign_in_provider;return{claims:v,token:p,authTime:or(el(v.auth_time)),issuedAtTime:or(el(v.iat)),expirationTime:or(el(v.exp)),signInProvider:R||null,signInSecondFactor:E?.sign_in_second_factor||null}})).apply(this,arguments)}function el(m){return 1e3*Number(m)}function Cs(m){const[c,u,p]=m.split(".");if(void 0===c||void 0===u||void 0===p)return fn("JWT malformed, contained fewer than 3 sections"),null;try{const v=(0,oe.u)(u);return v?JSON.parse(v):(fn("Failed to decode base64 JWT payload"),null)}catch(v){return fn("Caught error parsing JWT payload as JSON",v?.toString()),null}}function ta(m){const c=Cs(m);return pe(c,"internal-error"),pe(typeof c.exp<"u","internal-error"),pe(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}function ar(m,c){return na.apply(this,arguments)}function na(){return(na=(0,A.A)(function*(m,c,u=!1){if(u)return c;try{return yield c}catch(p){throw p instanceof oe.g&&function go({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}(p)&&m.auth.currentUser===m&&(yield m.auth.signOut()),p}})).apply(this,arguments)}class Gi{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var u;if(c){const p=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),p}{this.errorBackoff=3e4;const v=(null!==(u=this.user.stsTokenManager.expirationTime)&&void 0!==u?u:0)-Date.now()-3e5;return Math.max(0,v)}}schedule(c=!1){var u=this;if(!this.isRunning)return;const p=this.getInterval(c);this.timerId=setTimeout((0,A.A)(function*(){yield u.iteration()}),p)}iteration(){var c=this;return(0,A.A)(function*(){try{yield c.user.getIdToken(!0)}catch(u){return void("auth/network-request-failed"===u?.code&&c.schedule(!0))}c.schedule()})()}}class lr{constructor(c,u){this.createdAt=c,this.lastLoginAt=u,this._initializeTime()}_initializeTime(){this.lastSignInTime=or(this.lastLoginAt),this.creationTime=or(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function cr(m){return ia.apply(this,arguments)}function ia(){return(ia=(0,A.A)(function*(m){var c;const u=m.auth,p=yield m.getIdToken(),v=yield ar(m,qr(u,{idToken:p}));pe(v?.users.length,u,"internal-error");const E=v.users[0];m._notifyReloadListener(E);const R=null!==(c=E.providerUserInfo)&&void 0!==c&&c.length?nl(E.providerUserInfo):[],$=function Qd(m,c){return[...m.filter(p=>!c.some(v=>v.providerId===p.providerId)),...c]}(m.providerData,R),Oe=!!m.isAnonymous&&!(m.email&&E.passwordHash||$?.length),Me={uid:E.localId,displayName:E.displayName||null,photoURL:E.photoUrl||null,email:E.email||null,emailVerified:E.emailVerified||!1,phoneNumber:E.phoneNumber||null,tenantId:E.tenantId||null,providerData:$,metadata:new lr(E.createdAt,E.lastLoginAt),isAnonymous:Oe};Object.assign(m,Me)})).apply(this,arguments)}function ra(){return(ra=(0,A.A)(function*(m){const c=(0,oe.Ku)(m);yield cr(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function nl(m){return m.map(c=>{var{providerId:u}=c,p=(0,xn.Tt)(c,["providerId"]);return{providerId:u,uid:p.rawId||"",displayName:p.displayName||null,email:p.email||null,phoneNumber:p.phoneNumber||null,photoURL:p.photoUrl||null}})}function Qs(){return(Qs=(0,A.A)(function*(m,c){const u=yield he(m,{},(0,A.A)(function*(){const p=(0,oe.Am)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:v,apiKey:E}=m.config,R=Bt(m,v,"/v1/token",`key=${E}`),$=yield m._getAdditionalHeaders();return $["Content-Type"]="application/x-www-form-urlencoded",j.fetch()(R,{method:"POST",headers:$,body:p})}));return{accessToken:u.access_token,expiresIn:u.expires_in,refreshToken:u.refresh_token}})).apply(this,arguments)}function k(){return(k=(0,A.A)(function*(m,c){return te(m,"POST","/v2/accounts:revokeToken",q(m,c))})).apply(this,arguments)}class L{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){pe(c.idToken,"internal-error"),pe(typeof c.idToken<"u","internal-error"),pe(typeof c.refreshToken<"u","internal-error");const u="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):ta(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,u)}updateFromIdToken(c){pe(0!==c.length,"internal-error");const u=ta(c);this.updateTokensAndExpiration(c,null,u)}getToken(c,u=!1){var p=this;return(0,A.A)(function*(){return u||!p.accessToken||p.isExpired?(pe(p.refreshToken,c,"user-token-expired"),p.refreshToken?(yield p.refresh(c,p.refreshToken),p.accessToken):null):p.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,u){var p=this;return(0,A.A)(function*(){const{accessToken:v,refreshToken:E,expiresIn:R}=yield function il(m,c){return Qs.apply(this,arguments)}(c,u);p.updateTokensAndExpiration(v,E,Number(R))})()}updateTokensAndExpiration(c,u,p){this.refreshToken=u||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*p}static fromJSON(c,u){const{refreshToken:p,accessToken:v,expirationTime:E}=u,R=new L;return p&&(pe("string"==typeof p,"internal-error",{appName:c}),R.refreshToken=p),v&&(pe("string"==typeof v,"internal-error",{appName:c}),R.accessToken=v),E&&(pe("number"==typeof E,"internal-error",{appName:c}),R.expirationTime=E),R}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new L,this.toJSON())}_performRefresh(){return mn("not implemented")}}function z(m,c){pe("string"==typeof m||typeof m>"u","internal-error",{appName:c})}class Y{constructor(c){var{uid:u,auth:p,stsTokenManager:v}=c,E=(0,xn.Tt)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=u,this.auth=p,this.stsTokenManager=v,this.accessToken=v.accessToken,this.displayName=E.displayName||null,this.email=E.email||null,this.emailVerified=E.emailVerified||!1,this.phoneNumber=E.phoneNumber||null,this.photoURL=E.photoURL||null,this.isAnonymous=E.isAnonymous||!1,this.tenantId=E.tenantId||null,this.providerData=E.providerData?[...E.providerData]:[],this.metadata=new lr(E.createdAt||void 0,E.lastLoginAt||void 0)}getIdToken(c){var u=this;return(0,A.A)(function*(){const p=yield ar(u,u.stsTokenManager.getToken(u.auth,c));return pe(p,u.auth,"internal-error"),u.accessToken!==p&&(u.accessToken=p,yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)),p})()}getIdTokenResult(c){return function xs(m){return qn.apply(this,arguments)}(this,c)}reload(){return function tl(m){return ra.apply(this,arguments)}(this)}_assign(c){this!==c&&(pe(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(u=>Object.assign({},u)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){const u=new Y(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}));return u.metadata._copy(this.metadata),u}_onReload(c){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,u=!1){var p=this;return(0,A.A)(function*(){let v=!1;c.idToken&&c.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(c),v=!0),u&&(yield cr(p)),yield p.auth._persistUserIfCurrent(p),v&&p.auth._notifyListenersIfCurrent(p)})()}delete(){var c=this;return(0,A.A)(function*(){if((0,Pe._isFirebaseServerApp)(c.auth.app))return Promise.reject(Ke(c.auth));const u=yield c.getIdToken();return yield ar(c,function Kd(m,c){return Jo.apply(this,arguments)}(c.auth,{idToken:u})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,u){var p,v,E,R,$,ce,we,Oe;const Me=null!==(p=u.displayName)&&void 0!==p?p:void 0,Dn=null!==(v=u.email)&&void 0!==v?v:void 0,ds=null!==(E=u.phoneNumber)&&void 0!==E?E:void 0,Ea=null!==(R=u.photoURL)&&void 0!==R?R:void 0,qm=null!==($=u.tenantId)&&void 0!==$?$:void 0,Gm=null!==(ce=u._redirectEventId)&&void 0!==ce?ce:void 0,Wm=null!==(we=u.createdAt)&&void 0!==we?we:void 0,zE=null!==(Oe=u.lastLoginAt)&&void 0!==Oe?Oe:void 0,{uid:qu,emailVerified:HE,isAnonymous:Fy,providerData:Km,stsTokenManager:Gu}=u;pe(qu&&Gu,c,"internal-error");const rR=L.fromJSON(this.name,Gu);pe("string"==typeof qu,c,"internal-error"),z(Me,c.name),z(Dn,c.name),pe("boolean"==typeof HE,c,"internal-error"),pe("boolean"==typeof Fy,c,"internal-error"),z(ds,c.name),z(Ea,c.name),z(qm,c.name),z(Gm,c.name),z(Wm,c.name),z(zE,c.name);const Ly=new Y({uid:qu,auth:c,email:Dn,emailVerified:HE,displayName:Me,isAnonymous:Fy,photoURL:Ea,phoneNumber:ds,tenantId:qm,stsTokenManager:rR,createdAt:Wm,lastLoginAt:zE});return Km&&Array.isArray(Km)&&(Ly.providerData=Km.map(Qm=>Object.assign({},Qm))),Gm&&(Ly._redirectEventId=Gm),Ly}static _fromIdTokenResponse(c,u,p=!1){return(0,A.A)(function*(){const v=new L;v.updateFromServerResponse(u);const E=new Y({uid:u.localId,auth:c,stsTokenManager:v,isAnonymous:p});return yield cr(E),E})()}static _fromGetAccountInfoResponse(c,u,p){return(0,A.A)(function*(){const v=u.users[0];pe(void 0!==v.localId,"internal-error");const E=void 0!==v.providerUserInfo?nl(v.providerUserInfo):[],R=!(v.email&&v.passwordHash||E?.length),$=new L;$.updateFromIdToken(p);const ce=new Y({uid:v.localId,auth:c,stsTokenManager:$,isAnonymous:R}),we={uid:v.localId,displayName:v.displayName||null,photoURL:v.photoUrl||null,email:v.email||null,emailVerified:v.emailVerified||!1,phoneNumber:v.phoneNumber||null,tenantId:v.tenantId||null,providerData:E,metadata:new lr(v.createdAt,v.lastLoginAt),isAnonymous:!(v.email&&v.passwordHash||E?.length)};return Object.assign(ce,we),ce})()}}const Re=new Map;function Te(m){cn(m instanceof Function,"Expected a class definition");let c=Re.get(m);return c?(cn(c instanceof m,"Instance stored in cache mismatched with class"),c):(c=new m,Re.set(m,c),c)}const ni=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,A.A)(function*(){return!0})()}_set(u,p){var v=this;return(0,A.A)(function*(){v.storage[u]=p})()}_get(u){var p=this;return(0,A.A)(function*(){const v=p.storage[u];return void 0===v?null:v})()}_remove(u){var p=this;return(0,A.A)(function*(){delete p.storage[u]})()}_addListener(u,p){}_removeListener(u,p){}}return m.type="NONE",m})();function qe(m,c,u){return`firebase:${m}:${c}:${u}`}class Gn{constructor(c,u,p){this.persistence=c,this.auth=u,this.userKey=p;const{config:v,name:E}=this.auth;this.fullUserKey=qe(this.userKey,v.apiKey,E),this.fullPersistenceKey=qe("persistence",v.apiKey,E),this.boundEventHandler=u._onStorageEvent.bind(u),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,A.A)(function*(){const u=yield c.persistence._get(c.fullUserKey);return u?Y._fromJSON(c.auth,u):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var u=this;return(0,A.A)(function*(){if(u.persistence===c)return;const p=yield u.getCurrentUser();return yield u.removeCurrentUser(),u.persistence=c,p?u.setCurrentUser(p):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,u,p="authUser"){return(0,A.A)(function*(){if(!u.length)return new Gn(Te(ni),c,p);const v=(yield Promise.all(u.map(function(){var we=(0,A.A)(function*(Oe){if(yield Oe._isAvailable())return Oe});return function(Oe){return we.apply(this,arguments)}}()))).filter(we=>we);let E=v[0]||Te(ni);const R=qe(p,c.config.apiKey,c.name);let $=null;for(const we of u)try{const Oe=yield we._get(R);if(Oe){const Me=Y._fromJSON(c,Oe);we!==E&&($=Me),E=we;break}}catch{}const ce=v.filter(we=>we._shouldAllowMigration);return E._shouldAllowMigration&&ce.length?(E=ce[0],$&&(yield E._set(R,$.toJSON())),yield Promise.all(u.map(function(){var we=(0,A.A)(function*(Oe){if(Oe!==E)try{yield Oe._remove(R)}catch{}});return function(Oe){return we.apply(this,arguments)}}())),new Gn(E,c,p)):new Gn(E,c,p)})()}}function Ge(m){const c=m.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(Xe(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(Si(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(rl(c))return"Blackberry";if(Lf(c))return"Webos";if(Ys(c))return"Safari";if((c.includes("chrome/")||Ut(c))&&!c.includes("edge/"))return"Chrome";if(Ts(c))return"Android";{const p=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===p?.length)return p[1]}return"Other"}function Si(m=(0,oe.ZQ)()){return/firefox\//i.test(m)}function Ys(m=(0,oe.ZQ)()){const c=m.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function Ut(m=(0,oe.ZQ)()){return/crios\//i.test(m)}function Xe(m=(0,oe.ZQ)()){return/iemobile/i.test(m)}function Ts(m=(0,oe.ZQ)()){return/android/i.test(m)}function rl(m=(0,oe.ZQ)()){return/blackberry/i.test(m)}function Lf(m=(0,oe.ZQ)()){return/webos/i.test(m)}function Xs(m=(0,oe.ZQ)()){return/iphone|ipad|ipod/i.test(m)||/macintosh/i.test(m)&&/mobile/i.test(m)}function Z(m=(0,oe.ZQ)()){return Xs(m)||Ts(m)||Lf(m)||rl(m)||/windows phone/i.test(m)||Xe(m)}function Ae(m,c=[]){let u;switch(m){case"Browser":u=Ge((0,oe.ZQ)());break;case"Worker":u=`${Ge((0,oe.ZQ)())}-${m}`;break;default:u=m}const p=c.length?c.join(","):"FirebaseCore-web";return`${u}/JsCore/${Pe.SDK_VERSION}/${p}`}class it{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,u){const p=E=>new Promise((R,$)=>{try{R(c(E))}catch(ce){$(ce)}});p.onAbort=u,this.queue.push(p);const v=this.queue.length-1;return()=>{this.queue[v]=()=>Promise.resolve()}}runMiddleware(c){var u=this;return(0,A.A)(function*(){if(u.auth.currentUser===c)return;const p=[];try{for(const v of u.queue)yield v(c),v.onAbort&&p.push(v.onAbort)}catch(v){p.reverse();for(const E of p)try{E()}catch{}throw u.auth._errorFactory.create("login-blocked",{originalMessage:v?.message})}})()}}function dt(){return(dt=(0,A.A)(function*(m,c={}){return te(m,"GET","/v2/passwordPolicy",q(m,c))})).apply(this,arguments)}class Tn{constructor(c){var u,p,v,E;const R=c.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(u=R.minPasswordLength)&&void 0!==u?u:6,R.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=R.maxPasswordLength),void 0!==R.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=R.containsLowercaseCharacter),void 0!==R.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=R.containsUppercaseCharacter),void 0!==R.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=R.containsNumericCharacter),void 0!==R.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=R.containsNonAlphanumericCharacter),this.enforcementState=c.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(v=null===(p=c.allowedNonAlphanumericCharacters)||void 0===p?void 0:p.join(""))&&void 0!==v?v:"",this.forceUpgradeOnSignin=null!==(E=c.forceUpgradeOnSignin)&&void 0!==E&&E,this.schemaVersion=c.schemaVersion}validatePassword(c){var u,p,v,E,R,$;const ce={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(c,ce),this.validatePasswordCharacterOptions(c,ce),ce.isValid&&(ce.isValid=null===(u=ce.meetsMinPasswordLength)||void 0===u||u),ce.isValid&&(ce.isValid=null===(p=ce.meetsMaxPasswordLength)||void 0===p||p),ce.isValid&&(ce.isValid=null===(v=ce.containsLowercaseLetter)||void 0===v||v),ce.isValid&&(ce.isValid=null===(E=ce.containsUppercaseLetter)||void 0===E||E),ce.isValid&&(ce.isValid=null===(R=ce.containsNumericCharacter)||void 0===R||R),ce.isValid&&(ce.isValid=null===($=ce.containsNonAlphanumericCharacter)||void 0===$||$),ce}validatePasswordLengthOptions(c,u){const p=this.customStrengthOptions.minPasswordLength,v=this.customStrengthOptions.maxPasswordLength;p&&(u.meetsMinPasswordLength=c.length>=p),v&&(u.meetsMaxPasswordLength=c.length<=v)}validatePasswordCharacterOptions(c,u){let p;this.updatePasswordCharacterOptionsStatuses(u,!1,!1,!1,!1);for(let v=0;v<c.length;v++)p=c.charAt(v),this.updatePasswordCharacterOptionsStatuses(u,p>="a"&&p<="z",p>="A"&&p<="Z",p>="0"&&p<="9",this.allowedNonAlphanumericCharacters.includes(p))}updatePasswordCharacterOptionsStatuses(c,u,p,v,E){this.customStrengthOptions.containsLowercaseLetter&&(c.containsLowercaseLetter||(c.containsLowercaseLetter=u)),this.customStrengthOptions.containsUppercaseLetter&&(c.containsUppercaseLetter||(c.containsUppercaseLetter=p)),this.customStrengthOptions.containsNumericCharacter&&(c.containsNumericCharacter||(c.containsNumericCharacter=v)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(c.containsNonAlphanumericCharacter||(c.containsNonAlphanumericCharacter=E))}}class Tr{constructor(c,u,p,v){this.app=c,this.heartbeatServiceProvider=u,this.appCheckServiceProvider=p,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new As(this),this.idTokenSubscription=new As(this),this.beforeStateQueue=new it(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=et,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(c,u){var p=this;return u&&(this._popupRedirectResolver=Te(u)),this._initializationPromise=this.queue((0,A.A)(function*(){var v,E;if(!p._deleted&&(p.persistenceManager=yield Gn.create(p,c),!p._deleted)){if(null!==(v=p._popupRedirectResolver)&&void 0!==v&&v._shouldInitProactively)try{yield p._popupRedirectResolver._initialize(p)}catch{}yield p.initializeCurrentUser(u),p.lastNotifiedUid=(null===(E=p.currentUser)||void 0===E?void 0:E.uid)||null,!p._deleted&&(p._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,A.A)(function*(){if(c._deleted)return;const u=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||u){if(c.currentUser&&u&&c.currentUser.uid===u.uid)return c._currentUser._assign(u),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(u,!0)}})()}initializeCurrentUserFromIdToken(c){var u=this;return(0,A.A)(function*(){try{const p=yield qr(u,{idToken:c}),v=yield Y._fromGetAccountInfoResponse(u,p,c);yield u.directlySetCurrentUser(v)}catch(p){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",p),yield u.directlySetCurrentUser(null)}})()}initializeCurrentUser(c){var u=this;return(0,A.A)(function*(){var p;if((0,Pe._isFirebaseServerApp)(u.app)){const $=u.app.settings.authIdToken;return $?new Promise(ce=>{setTimeout(()=>u.initializeCurrentUserFromIdToken($).then(ce,ce))}):u.directlySetCurrentUser(null)}const v=yield u.assertedPersistence.getCurrentUser();let E=v,R=!1;if(c&&u.config.authDomain){yield u.getOrInitRedirectPersistenceManager();const $=null===(p=u.redirectUser)||void 0===p?void 0:p._redirectEventId,ce=E?._redirectEventId,we=yield u.tryRedirectSignIn(c);(!$||$===ce)&&we?.user&&(E=we.user,R=!0)}if(!E)return u.directlySetCurrentUser(null);if(!E._redirectEventId){if(R)try{yield u.beforeStateQueue.runMiddleware(E)}catch($){E=v,u._popupRedirectResolver._overrideRedirectResult(u,()=>Promise.reject($))}return E?u.reloadAndSetCurrentUserOrClear(E):u.directlySetCurrentUser(null)}return pe(u._popupRedirectResolver,u,"argument-error"),yield u.getOrInitRedirectPersistenceManager(),u.redirectUser&&u.redirectUser._redirectEventId===E._redirectEventId?u.directlySetCurrentUser(E):u.reloadAndSetCurrentUserOrClear(E)})()}tryRedirectSignIn(c){var u=this;return(0,A.A)(function*(){let p=null;try{p=yield u._popupRedirectResolver._completeRedirectFn(u,c,!0)}catch{yield u._setRedirectUser(null)}return p})()}reloadAndSetCurrentUserOrClear(c){var u=this;return(0,A.A)(function*(){try{yield cr(c)}catch(p){if("auth/network-request-failed"!==p?.code)return u.directlySetCurrentUser(null)}return u.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function Ja(){if(typeof navigator>"u")return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var c=this;return(0,A.A)(function*(){c._deleted=!0})()}updateCurrentUser(c){var u=this;return(0,A.A)(function*(){if((0,Pe._isFirebaseServerApp)(u.app))return Promise.reject(Ke(u));const p=c?(0,oe.Ku)(c):null;return p&&pe(p.auth.config.apiKey===u.config.apiKey,u,"invalid-user-token"),u._updateCurrentUser(p&&p._clone(u))})()}_updateCurrentUser(c,u=!1){var p=this;return(0,A.A)(function*(){if(!p._deleted)return c&&pe(p.tenantId===c.tenantId,p,"tenant-id-mismatch"),u||(yield p.beforeStateQueue.runMiddleware(c)),p.queue((0,A.A)(function*(){yield p.directlySetCurrentUser(c),p.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,A.A)(function*(){return(0,Pe._isFirebaseServerApp)(c.app)?Promise.reject(Ke(c)):(yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0))})()}setPersistence(c){var u=this;return(0,Pe._isFirebaseServerApp)(this.app)?Promise.reject(Ke(this)):this.queue((0,A.A)(function*(){yield u.assertedPersistence.setPersistence(Te(c))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(c){var u=this;return(0,A.A)(function*(){u._getPasswordPolicyInternal()||(yield u._updatePasswordPolicy());const p=u._getPasswordPolicyInternal();return p.schemaVersion!==u.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(u._errorFactory.create("unsupported-password-policy-schema-version",{})):p.validatePassword(c)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var c=this;return(0,A.A)(function*(){const u=yield function lt(m){return dt.apply(this,arguments)}(c),p=new Tn(u);null===c.tenantId?c._projectPasswordPolicy=p:c._tenantPasswordPolicies[c.tenantId]=p})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new oe.FA("auth","Firebase",c())}onAuthStateChanged(c,u,p){return this.registerStateListener(this.authStateSubscription,c,u,p)}beforeAuthStateChanged(c,u){return this.beforeStateQueue.pushCallback(c,u)}onIdTokenChanged(c,u,p){return this.registerStateListener(this.idTokenSubscription,c,u,p)}authStateReady(){return new Promise((c,u)=>{if(this.currentUser)c();else{const p=this.onAuthStateChanged(()=>{p(),c()},u)}})}revokeAccessToken(c){var u=this;return(0,A.A)(function*(){if(u.currentUser){const p=yield u.currentUser.getIdToken(),v={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:c,idToken:p};null!=u.tenantId&&(v.tenantId=u.tenantId),yield function S(m,c){return k.apply(this,arguments)}(u,v)}})()}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,u){var p=this;return(0,A.A)(function*(){const v=yield p.getOrInitRedirectPersistenceManager(u);return null===c?v.removeCurrentUser():v.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var u=this;return(0,A.A)(function*(){if(!u.redirectPersistenceManager){const p=c&&Te(c)||u._popupRedirectResolver;pe(p,u,"argument-error"),u.redirectPersistenceManager=yield Gn.create(u,[Te(p._redirectPersistence)],"redirectUser"),u.redirectUser=yield u.redirectPersistenceManager.getCurrentUser()}return u.redirectPersistenceManager})()}_redirectUserForId(c){var u=this;return(0,A.A)(function*(){var p,v;return u._isInitialized&&(yield u.queue((0,A.A)(function*(){}))),(null===(p=u._currentUser)||void 0===p?void 0:p._redirectEventId)===c?u._currentUser:(null===(v=u.redirectUser)||void 0===v?void 0:v._redirectEventId)===c?u.redirectUser:null})()}_persistUserIfCurrent(c){var u=this;return(0,A.A)(function*(){if(c===u.currentUser)return u.queue((0,A.A)(function*(){return u.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,u;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const p=null!==(u=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==u?u:null;this.lastNotifiedUid!==p&&(this.lastNotifiedUid=p,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,u,p,v){if(this._deleted)return()=>{};const E="function"==typeof u?u:u.next.bind(u);let R=!1;const $=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe($,this,"internal-error"),$.then(()=>{R||E(this.currentUser)}),"function"==typeof u){const ce=c.addObserver(u,p,v);return()=>{R=!0,ce()}}{const ce=c.addObserver(u);return()=>{R=!0,ce()}}}directlySetCurrentUser(c){var u=this;return(0,A.A)(function*(){u.currentUser&&u.currentUser!==c&&u._currentUser._stopProactiveRefresh(),c&&u.isProactiveRefreshEnabled&&c._startProactiveRefresh(),u.currentUser=c,c?yield u.assertedPersistence.setCurrentUser(c):yield u.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=Ae(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,A.A)(function*(){var u;const p={"X-Client-Version":c.clientVersion};c.app.options.appId&&(p["X-Firebase-gmpid"]=c.app.options.appId);const v=yield null===(u=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===u?void 0:u.getHeartbeatsHeader();v&&(p["X-Firebase-Client"]=v);const E=yield c._getAppCheckToken();return E&&(p["X-Firebase-AppCheck"]=E),p})()}_getAppCheckToken(){var c=this;return(0,A.A)(function*(){var u;const p=yield null===(u=c.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===u?void 0:u.getToken();return p?.error&&function Di(m,...c){Ai.logLevel<=ct.$b.WARN&&Ai.warn(`Auth (${Pe.SDK_VERSION}): ${m}`,...c)}(`Error while retrieving App Check token: ${p.error}`),p?.token})()}}function qt(m){return(0,oe.Ku)(m)}class As{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,oe.tD)(u=>this.observer=u)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Yd={loadJS:()=>(0,A.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function C_(m){return Yd.loadJS(m)}function T_(m){return`__${m}${Math.floor(1e6*Math.random())}`}class tt{constructor(c){this.type="recaptcha-enterprise",this.auth=qt(c)}verify(c="verify",u=!1){var p=this;return(0,A.A)(function*(){function E(){return E=(0,A.A)(function*($){if(!u){if(null==$.tenantId&&null!=$._agentRecaptchaConfig)return $._agentRecaptchaConfig.siteKey;if(null!=$.tenantId&&void 0!==$._tenantRecaptchaConfigs[$.tenantId])return $._tenantRecaptchaConfigs[$.tenantId].siteKey}return new Promise(function(){var ce=(0,A.A)(function*(we,Oe){Zo($,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Me=>{if(void 0!==Me.recaptchaKey){const Dn=new Li(Me);return null==$.tenantId?$._agentRecaptchaConfig=Dn:$._tenantRecaptchaConfigs[$.tenantId]=Dn,we(Dn.siteKey)}Oe(new Error("recaptcha Enterprise site key undefined"))}).catch(Me=>{Oe(Me)})});return function(we,Oe){return ce.apply(this,arguments)}}())}),E.apply(this,arguments)}function R($,ce,we){const Oe=window.grecaptcha;hi(Oe)?Oe.enterprise.ready(()=>{Oe.enterprise.execute($,{action:c}).then(Me=>{ce(Me)}).catch(()=>{ce("NO_RECAPTCHA")})}):we(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(($,ce)=>{(function v($){return E.apply(this,arguments)})(p.auth).then(we=>{if(!u&&hi(window.grecaptcha))R(we,$,ce);else{if(typeof window>"u")return void ce(new Error("RecaptchaVerifier is only supported in browser"));let Oe=function $0(){return Yd.recaptchaEnterpriseScript}();0!==Oe.length&&(Oe+=we),C_(Oe).then(()=>{R(we,$,ce)}).catch(Me=>{ce(Me)})}}).catch(we=>{ce(we)})})})()}}function q0(m,c,u){return A_.apply(this,arguments)}function A_(){return(A_=(0,A.A)(function*(m,c,u,p=!1){const v=new tt(m);let E;try{E=yield v.verify(u)}catch{E=yield v.verify(u,!0)}const R=Object.assign({},c);return Object.assign(R,p?{captchaResp:E}:{captchaResponse:E}),Object.assign(R,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(R,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),R})).apply(this,arguments)}function Xd(m,c,u,p){return be.apply(this,arguments)}function be(){return be=(0,A.A)(function*(m,c,u,p){var v;if(null!==(v=m._getRecaptchaConfig())&&void 0!==v&&v.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const E=yield q0(m,c,u,"getOobCode"===u);return p(m,E)}return p(m,c).catch(function(){var E=(0,A.A)(function*(R){if("auth/missing-recaptcha-token"===R.code){console.log(`${u} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const $=yield q0(m,c,u,"getOobCode"===u);return p(m,$)}return Promise.reject(R)});return function(R){return E.apply(this,arguments)}}())}),be.apply(this,arguments)}function D_(m){const c=m.indexOf(":");return c<0?"":m.substr(0,c+1)}function hc(m){if(!m)return null;const c=Number(m);return isNaN(c)?null:c}class sa{constructor(c,u){this.providerId=c,this.signInMethod=u}toJSON(){return mn("not implemented")}_getIdTokenResponse(c){return mn("not implemented")}_linkToIdToken(c,u){return mn("not implemented")}_getReauthenticationResolver(c){return mn("not implemented")}}function S_(m,c){return _t.apply(this,arguments)}function _t(){return(_t=(0,A.A)(function*(m,c){return te(m,"POST","/v1/accounts:resetPassword",q(m,c))})).apply(this,arguments)}function eu(){return(eu=(0,A.A)(function*(m,c){return te(m,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function dr(m,c){return tu.apply(this,arguments)}function tu(){return(tu=(0,A.A)(function*(m,c){return te(m,"POST","/v1/accounts:signUp",c)})).apply(this,arguments)}function nn(){return(nn=(0,A.A)(function*(m,c){return te(m,"POST","/v1/accounts:update",q(m,c))})).apply(this,arguments)}function Rk(m,c){return k_.apply(this,arguments)}function k_(){return(k_=(0,A.A)(function*(m,c){return Vt(m,"POST","/v1/accounts:signInWithPassword",q(m,c))})).apply(this,arguments)}function de(m,c){return fc.apply(this,arguments)}function fc(){return(fc=(0,A.A)(function*(m,c){return te(m,"POST","/v1/accounts:sendOobCode",q(m,c))})).apply(this,arguments)}function nu(){return(nu=(0,A.A)(function*(m,c){return de(m,c)})).apply(this,arguments)}function zf(m,c){return Hf.apply(this,arguments)}function Hf(){return(Hf=(0,A.A)(function*(m,c){return de(m,c)})).apply(this,arguments)}function $f(m,c){return R_.apply(this,arguments)}function R_(){return(R_=(0,A.A)(function*(m,c){return de(m,c)})).apply(this,arguments)}function M_(){return(M_=(0,A.A)(function*(m,c){return de(m,c)})).apply(this,arguments)}function P_(){return(P_=(0,A.A)(function*(m,c){return Vt(m,"POST","/v1/accounts:signInWithEmailLink",q(m,c))})).apply(this,arguments)}function pc(){return(pc=(0,A.A)(function*(m,c){return Vt(m,"POST","/v1/accounts:signInWithEmailLink",q(m,c))})).apply(this,arguments)}class _o extends sa{constructor(c,u,p,v=null){super("password",p),this._email=c,this._password=u,this._tenantId=v}static _fromEmailAndPassword(c,u){return new _o(c,u,"password")}static _fromEmailAndCode(c,u,p=null){return new _o(c,u,"emailLink",p)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const u="string"==typeof c?JSON.parse(c):c;if(u?.email&&u?.password){if("password"===u.signInMethod)return this._fromEmailAndPassword(u.email,u.password);if("emailLink"===u.signInMethod)return this._fromEmailAndCode(u.email,u.password,u.tenantId)}return null}_getIdTokenResponse(c){var u=this;return(0,A.A)(function*(){switch(u.signInMethod){case"password":return Xd(c,{returnSecureToken:!0,email:u._email,password:u._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Rk);case"emailLink":return function Pk(m,c){return P_.apply(this,arguments)}(c,{email:u._email,oobCode:u._password});default:zt(c,"internal-error")}})()}_linkToIdToken(c,u){var p=this;return(0,A.A)(function*(){switch(p.signInMethod){case"password":return Xd(c,{idToken:u,returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dr);case"emailLink":return function mc(m,c){return pc.apply(this,arguments)}(c,{idToken:u,email:p._email,oobCode:p._password});default:zt(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function Zs(m,c){return qf.apply(this,arguments)}function qf(){return(qf=(0,A.A)(function*(m,c){return Vt(m,"POST","/v1/accounts:signInWithIdp",q(m,c))})).apply(this,arguments)}class ss extends sa{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const u=new ss(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(u.idToken=c.idToken),c.accessToken&&(u.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(u.nonce=c.nonce),c.pendingToken&&(u.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(u.accessToken=c.oauthToken,u.secret=c.oauthTokenSecret):zt("argument-error"),u}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const u="string"==typeof c?JSON.parse(c):c,{providerId:p,signInMethod:v}=u,E=(0,xn.Tt)(u,["providerId","signInMethod"]);if(!p||!v)return null;const R=new ss(p,v);return R.idToken=E.idToken||void 0,R.accessToken=E.accessToken||void 0,R.secret=E.secret,R.nonce=E.nonce,R.pendingToken=E.pendingToken||null,R}_getIdTokenResponse(c){return Zs(c,this.buildRequest())}_linkToIdToken(c,u){const p=this.buildRequest();return p.idToken=u,Zs(c,p)}_getReauthenticationResolver(c){const u=this.buildRequest();return u.autoCreate=!1,Zs(c,u)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const u={};this.idToken&&(u.id_token=this.idToken),this.accessToken&&(u.access_token=this.accessToken),this.secret&&(u.oauth_token_secret=this.secret),u.providerId=this.providerId,this.nonce&&!this.pendingToken&&(u.nonce=this.nonce),c.postBody=(0,oe.Am)(u)}return c}}function Gf(){return(Gf=(0,A.A)(function*(m,c){return te(m,"POST","/v1/accounts:sendVerificationCode",q(m,c))})).apply(this,arguments)}function Wf(){return(Wf=(0,A.A)(function*(m,c){return Vt(m,"POST","/v1/accounts:signInWithPhoneNumber",q(m,c))})).apply(this,arguments)}function iu(){return(iu=(0,A.A)(function*(m,c){const u=yield Vt(m,"POST","/v1/accounts:signInWithPhoneNumber",q(m,c));if(u.temporaryProof)throw Ft(m,"account-exists-with-different-credential",u);return u})).apply(this,arguments)}const Ee={USER_NOT_FOUND:"user-not-found"};function gc(){return(gc=(0,A.A)(function*(m,c){return Vt(m,"POST","/v1/accounts:signInWithPhoneNumber",q(m,Object.assign(Object.assign({},c),{operation:"REAUTH"})),Ee)})).apply(this,arguments)}class os extends sa{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,u){return new os({verificationId:c,verificationCode:u})}static _fromTokenResponse(c,u){return new os({phoneNumber:c,temporaryProof:u})}_getIdTokenResponse(c){return function yo(m,c){return Wf.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,u){return function Q(m,c){return iu.apply(this,arguments)}(c,Object.assign({idToken:u},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function ru(m,c){return gc.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:u,verificationId:p,verificationCode:v}=this.params;return c&&u?{temporaryProof:c,phoneNumber:u}:{sessionInfo:p,code:v}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:u,verificationCode:p,phoneNumber:v,temporaryProof:E}=c;return p||u||v||E?new os({verificationId:u,verificationCode:p,phoneNumber:v,temporaryProof:E}):null}}class _c{constructor(c){var u,p,v,E,R,$;const ce=(0,oe.I9)((0,oe.hp)(c)),we=null!==(u=ce.apiKey)&&void 0!==u?u:null,Oe=null!==(p=ce.oobCode)&&void 0!==p?p:null,Me=function K0(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(v=ce.mode)&&void 0!==v?v:null);pe(we&&Oe&&Me,"argument-error"),this.apiKey=we,this.operation=Me,this.code=Oe,this.continueUrl=null!==(E=ce.continueUrl)&&void 0!==E?E:null,this.languageCode=null!==(R=ce.languageCode)&&void 0!==R?R:null,this.tenantId=null!==($=ce.tenantId)&&void 0!==$?$:null}static parseLink(c){const u=function Q0(m){const c=(0,oe.I9)((0,oe.hp)(m)).link,u=c?(0,oe.I9)((0,oe.hp)(c)).deep_link_id:null,p=(0,oe.I9)((0,oe.hp)(m)).deep_link_id;return(p?(0,oe.I9)((0,oe.hp)(p)).link:null)||p||u||c||m}(c);try{return new _c(u)}catch{return null}}}let ol=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(u,p){return _o._fromEmailAndPassword(u,p)}static credentialWithLink(u,p){const v=_c.parseLink(p);return pe(v,"argument-error"),_o._fromEmailAndCode(u,v.code,v.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class ii{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class Wi extends ii{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class Et extends Wi{static credentialFromJSON(c){const u="string"==typeof c?JSON.parse(c):c;return pe("providerId"in u&&"signInMethod"in u,"argument-error"),ss._fromParams(u)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return pe(c.idToken||c.accessToken,"argument-error"),ss._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return Et.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return Et.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:u,oauthAccessToken:p,oauthTokenSecret:v,pendingToken:E,nonce:R,providerId:$}=c;if(!p&&!v&&!u&&!E||!$)return null;try{return new Et($)._credential({idToken:u,accessToken:p,nonce:R,pendingToken:E})}catch{return null}}}let yc=(()=>{class m extends Wi{constructor(){super("facebook.com")}static credential(u){return ss._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:u})}static credentialFromResult(u){return m.credentialFromTaggedObject(u)}static credentialFromError(u){return m.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u||!("oauthAccessToken"in u)||!u.oauthAccessToken)return null;try{return m.credential(u.oauthAccessToken)}catch{return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),su=(()=>{class m extends Wi{constructor(){super("google.com"),this.addScope("profile")}static credential(u,p){return ss._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:u,accessToken:p})}static credentialFromResult(u){return m.credentialFromTaggedObject(u)}static credentialFromError(u){return m.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:p,oauthAccessToken:v}=u;if(!p&&!v)return null;try{return m.credential(p,v)}catch{return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),ou=(()=>{class m extends Wi{constructor(){super("github.com")}static credential(u){return ss._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:u})}static credentialFromResult(u){return m.credentialFromTaggedObject(u)}static credentialFromError(u){return m.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u||!("oauthAccessToken"in u)||!u.oauthAccessToken)return null;try{return m.credential(u.oauthAccessToken)}catch{return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class ur extends sa{constructor(c,u){super(c,c),this.pendingToken=u}_getIdTokenResponse(c){return Zs(c,this.buildRequest())}_linkToIdToken(c,u){const p=this.buildRequest();return p.idToken=u,Zs(c,p)}_getReauthenticationResolver(c){const u=this.buildRequest();return u.autoCreate=!1,Zs(c,u)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const u="string"==typeof c?JSON.parse(c):c,{providerId:p,signInMethod:v,pendingToken:E}=u;return p&&v&&E&&p===v?new ur(p,E):null}static _create(c,u){return new ur(c,u)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class bc extends ii{constructor(c){pe(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return bc.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return bc.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const u=ur.fromJSON(c);return pe(u,"argument-error"),u}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:u,providerId:p}=c;if(!u||!p)return null;try{return ur._create(p,u)}catch{return null}}}let Kf=(()=>{class m extends Wi{constructor(){super("twitter.com")}static credential(u,p){return ss._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:u,oauthTokenSecret:p})}static credentialFromResult(u){return m.credentialFromTaggedObject(u)}static credentialFromError(u){return m.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthAccessToken:p,oauthTokenSecret:v}=u;if(!p||!v)return null;try{return m.credential(p,v)}catch{return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function au(m,c){return lu.apply(this,arguments)}function lu(){return(lu=(0,A.A)(function*(m,c){return Vt(m,"POST","/v1/accounts:signUp",q(m,c))})).apply(this,arguments)}class Ar{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,u,p,v=!1){return(0,A.A)(function*(){const E=yield Y._fromIdTokenResponse(c,p,v),R=al(p);return new Ar({user:E,providerId:R,_tokenResponse:p,operationType:u})})()}static _forOperation(c,u,p){return(0,A.A)(function*(){yield c._updateTokensIfNecessary(p,!0);const v=al(p);return new Ar({user:c,providerId:v,_tokenResponse:p,operationType:u})})()}}function al(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function cu(){return(cu=(0,A.A)(function*(m){var c;if((0,Pe._isFirebaseServerApp)(m.app))return Promise.reject(Ke(m));const u=qt(m);if(yield u._initializationPromise,null!==(c=u.currentUser)&&void 0!==c&&c.isAnonymous)return new Ar({user:u.currentUser,providerId:null,operationType:"signIn"});const p=yield au(u,{returnSecureToken:!0}),v=yield Ar._fromIdTokenResponse(u,"signIn",p,!0);return yield u._updateCurrentUser(v.user),v})).apply(this,arguments)}class du extends oe.g{constructor(c,u,p,v){var E;super(u.code,u.message),this.operationType=p,this.user=v,Object.setPrototypeOf(this,du.prototype),this.customData={appName:c.name,tenantId:null!==(E=c.tenantId)&&void 0!==E?E:void 0,_serverResponse:u.customData._serverResponse,operationType:p}}static _fromErrorAndOperation(c,u,p,v){return new du(c,u,p,v)}}function Qf(m,c,u,p){return("reauthenticate"===c?u._getReauthenticationResolver(m):u._getIdTokenResponse(m)).catch(E=>{throw"auth/multi-factor-auth-required"===E.code?du._fromErrorAndOperation(m,E,c,p):E})}function F_(m){return new Set(m.map(({providerId:c})=>c).filter(c=>!!c))}function Dr(){return Dr=(0,A.A)(function*(m,c){const u=(0,oe.Ku)(m);yield hu(!0,u,c);const{providerUserInfo:p}=yield function Is(m,c){return ea.apply(this,arguments)}(u.auth,{idToken:yield u.getIdToken(),deleteProvider:[c]}),v=F_(p||[]);return u.providerData=u.providerData.filter(E=>v.has(E.providerId)),v.has("phone")||(u.phoneNumber=null),yield u.auth._persistUserIfCurrent(u),u}),Dr.apply(this,arguments)}function Yf(m,c){return uu.apply(this,arguments)}function uu(){return(uu=(0,A.A)(function*(m,c,u=!1){const p=yield ar(m,c._linkToIdToken(m.auth,yield m.getIdToken()),u);return Ar._forOperation(m,"link",p)})).apply(this,arguments)}function hu(m,c,u){return Xf.apply(this,arguments)}function Xf(){return(Xf=(0,A.A)(function*(m,c,u){yield cr(c);const v=!1===m?"provider-already-linked":"no-such-provider";pe(F_(c.providerData).has(u)===m,c.auth,v)})).apply(this,arguments)}function L_(m,c){return Zf.apply(this,arguments)}function Zf(){return(Zf=(0,A.A)(function*(m,c,u=!1){const{auth:p}=m;if((0,Pe._isFirebaseServerApp)(p.app))return Promise.reject(Ke(p));const v="reauthenticate";try{const E=yield ar(m,Qf(p,v,c,m),u);pe(E.idToken,p,"internal-error");const R=Cs(E.idToken);pe(R,p,"internal-error");const{sub:$}=R;return pe(m.uid===$,p,"user-mismatch"),Ar._forOperation(m,v,E)}catch(E){throw"auth/user-not-found"===E?.code&&zt(p,"user-mismatch"),E}})).apply(this,arguments)}function Jf(m,c){return em.apply(this,arguments)}function em(){return(em=(0,A.A)(function*(m,c,u=!1){if((0,Pe._isFirebaseServerApp)(m.app))return Promise.reject(Ke(m));const p="signIn",v=yield Qf(m,p,c),E=yield Ar._fromIdTokenResponse(m,p,v);return u||(yield m._updateCurrentUser(E.user)),E})).apply(this,arguments)}function fu(m,c){return tm.apply(this,arguments)}function tm(){return(tm=(0,A.A)(function*(m,c){return Jf(qt(m),c)})).apply(this,arguments)}function Wn(m,c){return nm.apply(this,arguments)}function nm(){return(nm=(0,A.A)(function*(m,c){const u=(0,oe.Ku)(m);return yield hu(!1,u,c.providerId),Yf(u,c)})).apply(this,arguments)}function V_(m,c){return im.apply(this,arguments)}function im(){return(im=(0,A.A)(function*(m,c){return L_((0,oe.Ku)(m),c)})).apply(this,arguments)}function rm(){return(rm=(0,A.A)(function*(m,c){return Vt(m,"POST","/v1/accounts:signInWithCustomToken",q(m,c))})).apply(this,arguments)}function xe(){return xe=(0,A.A)(function*(m,c){if((0,Pe._isFirebaseServerApp)(m.app))return Promise.reject(Ke(m));const u=qt(m),p=yield function kt(m,c){return rm.apply(this,arguments)}(u,{token:c,returnSecureToken:!0}),v=yield Ar._fromIdTokenResponse(u,"signIn",p);return yield u._updateCurrentUser(v.user),v}),xe.apply(this,arguments)}class bi{constructor(c,u){this.factorId=c,this.uid=u.mfaEnrollmentId,this.enrollmentTime=new Date(u.enrolledAt).toUTCString(),this.displayName=u.displayName}static _fromServerResponse(c,u){return"phoneInfo"in u?Tt._fromServerResponse(c,u):"totpInfo"in u?fi._fromServerResponse(c,u):zt(c,"internal-error")}}class Tt extends bi{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,u){return new Tt(u)}}class fi extends bi{constructor(c){super("totp",c)}static _fromServerResponse(c,u){return new fi(u)}}function wi(m,c,u){var p;pe((null===(p=u.url)||void 0===p?void 0:p.length)>0,m,"invalid-continue-uri"),pe(typeof u.dynamicLinkDomain>"u"||u.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),c.continueUrl=u.url,c.dynamicLinkDomain=u.dynamicLinkDomain,c.canHandleCodeInApp=u.handleCodeInApp,u.iOS&&(pe(u.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),c.iOSBundleId=u.iOS.bundleId),u.android&&(pe(u.android.packageName.length>0,m,"missing-android-pkg-name"),c.androidInstallApp=u.android.installApp,c.androidMinimumVersionCode=u.android.minimumVersion,c.androidPackageName=u.android.packageName)}function bo(m){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,A.A)(function*(m){const c=qt(m);c._getPasswordPolicyInternal()&&(yield c._updatePasswordPolicy())})).apply(this,arguments)}function mu(){return(mu=(0,A.A)(function*(m,c,u){const p=qt(m),v={requestType:"PASSWORD_RESET",email:c,clientType:"CLIENT_TYPE_WEB"};u&&wi(p,v,u),yield Xd(p,v,"getOobCode",zf)})).apply(this,arguments)}function sm(){return sm=(0,A.A)(function*(m,c,u){yield S_((0,oe.Ku)(m),{oobCode:c,newPassword:u}).catch(function(){var p=(0,A.A)(function*(v){throw"auth/password-does-not-meet-requirements"===v.code&&bo(m),v});return function(v){return p.apply(this,arguments)}}())}),sm.apply(this,arguments)}function pn(){return pn=(0,A.A)(function*(m,c){yield function kk(m,c){return nn.apply(this,arguments)}((0,oe.Ku)(m),{oobCode:c})}),pn.apply(this,arguments)}function ke(m,c){return st.apply(this,arguments)}function st(){return(st=(0,A.A)(function*(m,c){const u=(0,oe.Ku)(m),p=yield S_(u,{oobCode:c}),v=p.requestType;switch(pe(v,u,"internal-error"),v){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":pe(p.newEmail,u,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":pe(p.mfaInfo,u,"internal-error");default:pe(p.email,u,"internal-error")}let E=null;return p.mfaInfo&&(E=bi._fromServerResponse(qt(u),p.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.newEmail:p.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.email:p.newEmail)||null,multiFactorInfo:E},operation:v}})).apply(this,arguments)}function Sr(){return(Sr=(0,A.A)(function*(m,c){const{data:u}=yield ke((0,oe.Ku)(m),c);return u.email})).apply(this,arguments)}function Ei(){return(Ei=(0,A.A)(function*(m,c,u){if((0,Pe._isFirebaseServerApp)(m.app))return Promise.reject(Ke(m));const p=qt(m),R=yield Xd(p,{returnSecureToken:!0,email:c,password:u,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",au).catch(ce=>{throw"auth/password-does-not-meet-requirements"===ce.code&&bo(m),ce}),$=yield Ar._fromIdTokenResponse(p,"signIn",R);return yield p._updateCurrentUser($.user),$})).apply(this,arguments)}function Ds(){return(Ds=(0,A.A)(function*(m,c,u){const p=qt(m),v={requestType:"EMAIL_SIGNIN",email:c,clientType:"CLIENT_TYPE_WEB"};(function E(R,$){pe($.handleCodeInApp,p,"argument-error"),$&&wi(p,R,$)})(v,u),yield Xd(p,v,"getOobCode",$f)})).apply(this,arguments)}function oa(){return(oa=(0,A.A)(function*(m,c,u){if((0,Pe._isFirebaseServerApp)(m.app))return Promise.reject(Ke(m));const p=(0,oe.Ku)(m),v=ol.credentialWithLink(c,u||rr());return pe(v._tenantId===(p.tenantId||null),p,"tenant-id-mismatch"),fu(p,v)})).apply(this,arguments)}function wo(){return(wo=(0,A.A)(function*(m,c){return te(m,"POST","/v1/accounts:createAuthUri",q(m,c))})).apply(this,arguments)}function aa(){return aa=(0,A.A)(function*(m,c){const p={identifier:c,continueUri:$r()?rr():"http://localhost"},{signinMethods:v}=yield function j_(m,c){return wo.apply(this,arguments)}((0,oe.Ku)(m),p);return v||[]}),aa.apply(this,arguments)}function Wr(){return Wr=(0,A.A)(function*(m,c){const u=(0,oe.Ku)(m),v={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};c&&wi(u.auth,v,c);const{email:E}=yield function jf(m,c){return nu.apply(this,arguments)}(u.auth,v);E!==m.email&&(yield m.reload())}),Wr.apply(this,arguments)}function gu(){return gu=(0,A.A)(function*(m,c,u){const p=(0,oe.Ku)(m),E={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:c};u&&wi(p.auth,E,u);const{email:R}=yield function Mk(m,c){return M_.apply(this,arguments)}(p.auth,E);R!==m.email&&(yield m.reload())}),gu.apply(this,arguments)}function as(){return(as=(0,A.A)(function*(m,c){return te(m,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function la(){return la=(0,A.A)(function*(m,{displayName:c,photoURL:u}){if(void 0===c&&void 0===u)return;const p=(0,oe.Ku)(m),E={idToken:yield p.getIdToken(),displayName:c,photoUrl:u,returnSecureToken:!0},R=yield ar(p,function Eo(m,c){return as.apply(this,arguments)}(p.auth,E));p.displayName=R.displayName||null,p.photoURL=R.photoUrl||null;const $=p.providerData.find(({providerId:ce})=>"password"===ce);$&&($.displayName=p.displayName,$.photoURL=p.photoURL),yield p._updateTokensIfNecessary(R)}),la.apply(this,arguments)}function _u(m,c,u){return yu.apply(this,arguments)}function yu(){return yu=(0,A.A)(function*(m,c,u){const{auth:p}=m,E={idToken:yield m.getIdToken(),returnSecureToken:!0};c&&(E.email=c),u&&(E.password=u);const R=yield ar(m,function Uf(m,c){return eu.apply(this,arguments)}(p,E));yield m._updateTokensIfNecessary(R,!0)}),yu.apply(this,arguments)}class Js{constructor(c,u,p={}){this.isNewUser=c,this.providerId=u,this.profile=p}}class ca extends Js{constructor(c,u,p,v){super(c,u,p),this.username=v}}class xc extends Js{constructor(c,u){super(c,"facebook.com",u)}}class ki extends ca{constructor(c,u){super(c,"github.com",u,"string"==typeof u?.login?u?.login:null)}}class Nk extends Js{constructor(c,u){super(c,"google.com",u)}}class hr extends ca{constructor(c,u,p){super(c,"twitter.com",u,p)}}function Qi(m){const{user:c,_tokenResponse:u}=m;return c.isAnonymous&&!u?{providerId:null,isNewUser:!1,profile:null}:function Ss(m){var c,u;if(!m)return null;const{providerId:p}=m,v=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},E=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!p&&m?.idToken){const R=null===(u=null===(c=Cs(m.idToken))||void 0===c?void 0:c.firebase)||void 0===u?void 0:u.sign_in_provider;if(R)return new Js(E,"anonymous"!==R&&"custom"!==R?R:null)}if(!p)return null;switch(p){case"facebook.com":return new xc(E,v);case"github.com":return new ki(E,v);case"google.com":return new Nk(E,v);case"twitter.com":return new hr(E,v,m.screenName||null);case"custom":case"anonymous":return new Js(E,null);default:return new Js(E,p,v)}}(u)}class hl{constructor(c,u,p){this.type=c,this.credential=u,this.user=p}static _fromIdtoken(c,u){return new hl("enroll",c,u)}static _fromMfaPendingCredential(c){return new hl("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var u,p;if(c?.multiFactorSession){if(null!==(u=c.multiFactorSession)&&void 0!==u&&u.pendingCredential)return hl._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(p=c.multiFactorSession)&&void 0!==p&&p.idToken)return hl._fromIdtoken(c.multiFactorSession.idToken)}return null}}class $_{constructor(c,u,p){this.session=c,this.hints=u,this.signInResolver=p}static _fromError(c,u){const p=qt(c),v=u.customData._serverResponse,E=(v.mfaInfo||[]).map($=>bi._fromServerResponse(p,$));pe(v.mfaPendingCredential,p,"internal-error");const R=hl._fromMfaPendingCredential(v.mfaPendingCredential);return new $_(R,E,function(){var $=(0,A.A)(function*(ce){const we=yield ce._process(p,R);delete v.mfaInfo,delete v.mfaPendingCredential;const Oe=Object.assign(Object.assign({},v),{idToken:we.idToken,refreshToken:we.refreshToken});switch(u.operationType){case"signIn":const Me=yield Ar._fromIdTokenResponse(p,u.operationType,Oe);return yield p._updateCurrentUser(Me.user),Me;case"reauthenticate":return pe(u.user,p,"internal-error"),Ar._forOperation(u.user,u.operationType,Oe);default:zt(p,"internal-error")}});return function(ce){return $.apply(this,arguments)}}())}resolveSignIn(c){var u=this;return(0,A.A)(function*(){return u.signInResolver(c)})()}}class q_{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(u=>{u.mfaInfo&&(this.enrolledFactors=u.mfaInfo.map(p=>bi._fromServerResponse(c.auth,p)))})}static _fromUser(c){return new q_(c)}getSession(){var c=this;return(0,A.A)(function*(){return hl._fromIdtoken(yield c.user.getIdToken(),c.user)})()}enroll(c,u){var p=this;return(0,A.A)(function*(){const v=c,E=yield p.getSession(),R=yield ar(p.user,v._process(p.user.auth,E,u));return yield p.user._updateTokensIfNecessary(R),p.user.reload()})()}unenroll(c){var u=this;return(0,A.A)(function*(){const p="string"==typeof c?c:c.uid,v=yield u.user.getIdToken();try{const E=yield ar(u.user,function Hk(m,c){return te(m,"POST","/v2/accounts/mfaEnrollment:withdraw",q(m,c))}(u.user.auth,{idToken:v,mfaEnrollmentId:p}));u.enrolledFactors=u.enrolledFactors.filter(({uid:R})=>R!==p),yield u.user._updateTokensIfNecessary(E),yield u.user.reload()}catch(E){throw E}})()}}const vu=new WeakMap,lm="__sak";class J0{constructor(c,u){this.storageRetriever=c,this.type=u}_isAvailable(){try{return this.storage?(this.storage.setItem(lm,"1"),this.storage.removeItem(lm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,u){return this.storage.setItem(c,JSON.stringify(u)),Promise.resolve()}_get(c){const u=this.storage.getItem(c);return Promise.resolve(u?JSON.parse(u):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const cm=(()=>{class m extends J0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(u,p)=>this.onStorageEvent(u,p),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Z(),this._shouldAllowMigration=!0}forAllChangedKeys(u){for(const p of Object.keys(this.listeners)){const v=this.storage.getItem(p),E=this.localCache[p];v!==E&&u(p,E,v)}}onStorageEvent(u,p=!1){if(!u.key)return void this.forAllChangedKeys(($,ce,we)=>{this.notifyListeners($,we)});const v=u.key;p?this.detachListener():this.stopPolling();const E=()=>{const $=this.storage.getItem(v);!p&&this.localCache[v]===$||this.notifyListeners(v,$)},R=this.storage.getItem(v);!function F(){return(0,oe.lT)()&&10===document.documentMode}()||R===u.newValue||u.newValue===u.oldValue?E():setTimeout(E,10)}notifyListeners(u,p){this.localCache[u]=p;const v=this.listeners[u];if(v)for(const E of Array.from(v))E(p&&JSON.parse(p))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((u,p,v)=>{this.onStorageEvent(new StorageEvent("storage",{key:u,oldValue:p,newValue:v}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(u,p){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[u]||(this.listeners[u]=new Set,this.localCache[u]=this.storage.getItem(u)),this.listeners[u].add(p)}_removeListener(u,p){this.listeners[u]&&(this.listeners[u].delete(p),0===this.listeners[u].size&&delete this.listeners[u]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(u,p){var v=()=>super._set,E=this;return(0,A.A)(function*(){yield v().call(E,u,p),E.localCache[u]=JSON.stringify(p)})()}_get(u){var p=()=>super._get,v=this;return(0,A.A)(function*(){const E=yield p().call(v,u);return v.localCache[u]=JSON.stringify(E),E})()}_remove(u){var p=()=>super._remove,v=this;return(0,A.A)(function*(){yield p().call(v,u),delete v.localCache[u]})()}}return m.type="LOCAL",m})(),_n=(()=>{class m extends J0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(u,p){}_removeListener(u,p){}}return m.type="SESSION",m})();let Kr=(()=>{class m{constructor(u){this.eventTarget=u,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(u){const p=this.receivers.find(E=>E.isListeningto(u));if(p)return p;const v=new m(u);return this.receivers.push(v),v}isListeningto(u){return this.eventTarget===u}handleEvent(u){var p=this;return(0,A.A)(function*(){const v=u,{eventId:E,eventType:R,data:$}=v.data,ce=p.handlersMap[R];if(!ce?.size)return;v.ports[0].postMessage({status:"ack",eventId:E,eventType:R});const we=Array.from(ce).map(function(){var Me=(0,A.A)(function*(Dn){return Dn(v.origin,$)});return function(Dn){return Me.apply(this,arguments)}}()),Oe=yield function bu(m){return Promise.all(m.map(function(){var c=(0,A.A)(function*(u){try{return{fulfilled:!0,value:yield u}}catch(p){return{fulfilled:!1,reason:p}}});return function(u){return c.apply(this,arguments)}}()))}(we);v.ports[0].postMessage({status:"done",eventId:E,eventType:R,response:Oe})})()}_subscribe(u,p){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[u]||(this.handlersMap[u]=new Set),this.handlersMap[u].add(p)}_unsubscribe(u,p){this.handlersMap[u]&&p&&this.handlersMap[u].delete(p),(!p||0===this.handlersMap[u].size)&&delete this.handlersMap[u],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function fl(m="",c=10){let u="";for(let p=0;p<c;p++)u+=Math.floor(10*Math.random());return m+u}class W_{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,u,p=50){var v=this;return(0,A.A)(function*(){const E=typeof MessageChannel<"u"?new MessageChannel:null;if(!E)throw new Error("connection_unavailable");let R,$;return new Promise((ce,we)=>{const Oe=fl("",20);E.port1.start();const Me=setTimeout(()=>{we(new Error("unsupported_event"))},p);$={messageChannel:E,onMessage(Dn){const ds=Dn;if(ds.data.eventId===Oe)switch(ds.data.status){case"ack":clearTimeout(Me),R=setTimeout(()=>{we(new Error("timeout"))},3e3);break;case"done":clearTimeout(R),ce(ds.data.response);break;default:clearTimeout(Me),clearTimeout(R),we(new Error("invalid_response"))}}},v.handlers.add($),E.port1.addEventListener("message",$.onMessage),v.target.postMessage({eventType:c,eventId:Oe,data:u},[E.port2])}).finally(()=>{$&&v.removeMessageHandler($)})})()}}function Yn(){return window}function Cc(){return typeof Yn().WorkerGlobalScope<"u"&&"function"==typeof Yn().importScripts}function Tc(){return(Tc=(0,A.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const um="firebaseLocalStorageDb",ha="firebaseLocalStorage",ml="fbase_key";class ks{constructor(c){this.request=c}toPromise(){return new Promise((c,u)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{u(this.request.error)})})}}function Ac(m,c){return m.transaction([ha],c?"readwrite":"readonly").objectStore(ha)}function Z_(){const m=indexedDB.open(um,1);return new Promise((c,u)=>{m.addEventListener("error",()=>{u(m.error)}),m.addEventListener("upgradeneeded",()=>{const p=m.result;try{p.createObjectStore(ha,{keyPath:ml})}catch(v){u(v)}}),m.addEventListener("success",(0,A.A)(function*(){const p=m.result;p.objectStoreNames.contains(ha)?c(p):(p.close(),yield function qk(){const m=indexedDB.deleteDatabase(um);return new ks(m).toPromise()}(),c(yield Z_()))}))})}function eE(m,c,u){return hm.apply(this,arguments)}function hm(){return(hm=(0,A.A)(function*(m,c,u){const p=Ac(m,!0).put({[ml]:c,value:u});return new ks(p).toPromise()})).apply(this,arguments)}function J_(){return(J_=(0,A.A)(function*(m,c){const u=Ac(m,!1).get(c),p=yield new ks(u).toPromise();return void 0===p?null:p.value})).apply(this,arguments)}function fm(m,c){const u=Ac(m,!0).delete(c);return new ks(u).toPromise()}const Dc=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var u=this;return(0,A.A)(function*(){return u.db||(u.db=yield Z_()),u.db})()}_withRetries(u){var p=this;return(0,A.A)(function*(){let v=0;for(;;)try{const E=yield p._openDb();return yield u(E)}catch(E){if(v++>3)throw E;p.db&&(p.db.close(),p.db=void 0)}})()}initializeServiceWorkerMessaging(){var u=this;return(0,A.A)(function*(){return Cc()?u.initializeReceiver():u.initializeSender()})()}initializeReceiver(){var u=this;return(0,A.A)(function*(){u.receiver=Kr._getInstance(function Y_(){return Cc()?self:null}()),u.receiver._subscribe("keyChanged",function(){var p=(0,A.A)(function*(v,E){return{keyProcessed:(yield u._poll()).includes(E.key)}});return function(v,E){return p.apply(this,arguments)}}()),u.receiver._subscribe("ping",function(){var p=(0,A.A)(function*(v,E){return["keyChanged"]});return function(v,E){return p.apply(this,arguments)}}())})()}initializeSender(){var u=this;return(0,A.A)(function*(){var p,v;if(u.activeServiceWorker=yield function Q_(){return Tc.apply(this,arguments)}(),!u.activeServiceWorker)return;u.sender=new W_(u.activeServiceWorker);const E=yield u.sender._send("ping",{},800);E&&null!==(p=E[0])&&void 0!==p&&p.fulfilled&&null!==(v=E[0])&&void 0!==v&&v.value.includes("keyChanged")&&(u.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(u){var p=this;return(0,A.A)(function*(){if(p.sender&&p.activeServiceWorker&&function dm(){var m;return(null===(m=navigator?.serviceWorker)||void 0===m?void 0:m.controller)||null}()===p.activeServiceWorker)try{yield p.sender._send("keyChanged",{key:u},p.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,A.A)(function*(){try{if(!indexedDB)return!1;const u=yield Z_();return yield eE(u,lm,"1"),yield fm(u,lm),!0}catch{}return!1})()}_withPendingWrite(u){var p=this;return(0,A.A)(function*(){p.pendingWrites++;try{yield u()}finally{p.pendingWrites--}})()}_set(u,p){var v=this;return(0,A.A)(function*(){return v._withPendingWrite((0,A.A)(function*(){return yield v._withRetries(E=>eE(E,u,p)),v.localCache[u]=p,v.notifyServiceWorker(u)}))})()}_get(u){var p=this;return(0,A.A)(function*(){const v=yield p._withRetries(E=>function tE(m,c){return J_.apply(this,arguments)}(E,u));return p.localCache[u]=v,v})()}_remove(u){var p=this;return(0,A.A)(function*(){return p._withPendingWrite((0,A.A)(function*(){return yield p._withRetries(v=>fm(v,u)),delete p.localCache[u],p.notifyServiceWorker(u)}))})()}_poll(){var u=this;return(0,A.A)(function*(){const p=yield u._withRetries(R=>{const $=Ac(R,!1).getAll();return new ks($).toPromise()});if(!p)return[];if(0!==u.pendingWrites)return[];const v=[],E=new Set;if(0!==p.length)for(const{fbase_key:R,value:$}of p)E.add(R),JSON.stringify(u.localCache[R])!==JSON.stringify($)&&(u.notifyListeners(R,$),v.push(R));for(const R of Object.keys(u.localCache))u.localCache[R]&&!E.has(R)&&(u.notifyListeners(R,null),v.push(R));return v})()}notifyListeners(u,p){this.localCache[u]=p;const v=this.listeners[u];if(v)for(const E of Array.from(v))E(p)}startPolling(){var u=this;this.stopPolling(),this.pollTimer=setInterval((0,A.A)(function*(){return u._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(u,p){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[u]||(this.listeners[u]=new Set,this._get(u)),this.listeners[u].add(p)}_removeListener(u,p){this.listeners[u]&&(this.listeners[u].delete(p),0===this.listeners[u].size&&delete this.listeners[u]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})(),wu=1e12;class sE{constructor(c){this.auth=c,this.counter=wu,this._widgets=new Map}render(c,u){const p=this.counter;return this._widgets.set(p,new iy(c,this.auth.name,u||{})),this.counter++,p}reset(c){var u;const p=c||wu;null===(u=this._widgets.get(p))||void 0===u||u.delete(),this._widgets.delete(p)}getResponse(c){var u;return(null===(u=this._widgets.get(c||wu))||void 0===u?void 0:u.getResponse())||""}execute(c){var u=this;return(0,A.A)(function*(){var p;return null===(p=u._widgets.get(c||wu))||void 0===p||p.execute(),""})()}}class iy{constructor(c,u,p){this.params=p,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const v="string"==typeof c?document.getElementById(c):c;pe(v,"argument-error",{appName:u}),this.container=v,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function oE(m){const c=[],u="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<m;p++)c.push(u.charAt(Math.floor(62*Math.random())));return c.join("")}(50);const{callback:c,"expired-callback":u}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,u)try{u()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Eu=T_("rcb"),aE=new Es(3e4,6e4);class Wk{constructor(){var c;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(c=Yn().grecaptcha)||void 0===c||!c.render)}load(c,u=""){return pe(function lE(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(u),c,"argument-error"),this.shouldResolveImmediately(u)&&Jn(Yn().grecaptcha)?Promise.resolve(Yn().grecaptcha):new Promise((p,v)=>{const E=Yn().setTimeout(()=>{v(en(c,"network-request-failed"))},aE.get());Yn()[Eu]=()=>{Yn().clearTimeout(E),delete Yn()[Eu];const $=Yn().grecaptcha;if(!$||!Jn($))return void v(en(c,"internal-error"));const ce=$.render;$.render=(we,Oe)=>{const Me=ce(we,Oe);return this.counter++,Me},this.hostLanguage=u,p($)},C_(`${function Tk(){return Yd.recaptchaV2Script}()}?${(0,oe.Am)({onload:Eu,render:"explicit",hl:u})}`).catch(()=>{clearTimeout(E),v(en(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){var u;return!(null===(u=Yn().grecaptcha)||void 0===u||!u.render)&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Yi{load(c){return(0,A.A)(function*(){return new sE(c)})()}clearedOneInstance(){}}const pm="recaptcha",cE={theme:"light",type:"image"};class dE{constructor(c,u,p=Object.assign({},cE)){this.parameters=p,this.type=pm,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=qt(c),this.isInvisible="invisible"===this.parameters.size,pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const v="string"==typeof u?document.getElementById(u):u;pe(v,this.auth,"argument-error"),this.container=v,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Yi:new Wk,this.validateStartingState()}verify(){var c=this;return(0,A.A)(function*(){c.assertNotDestroyed();const u=yield c.render(),p=c.getAssertedRecaptcha();return p.getResponse(u)||new Promise(E=>{const R=$=>{$&&(c.tokenChangeListeners.delete(R),E($))};c.tokenChangeListeners.add(R),c.isInvisible&&p.execute(u)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){pe(!this.parameters.sitekey,this.auth,"argument-error"),pe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return u=>{if(this.tokenChangeListeners.forEach(p=>p(u)),"function"==typeof c)c(u);else if("string"==typeof c){const p=Yn()[c];"function"==typeof p&&p(u)}}}assertNotDestroyed(){pe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,A.A)(function*(){if(yield c.init(),!c.widgetId){let u=c.container;if(!c.isInvisible){const p=document.createElement("div");u.appendChild(p),u=p}c.widgetId=c.getAssertedRecaptcha().render(u,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,A.A)(function*(){pe($r()&&!Cc(),c.auth,"internal-error"),yield function ry(){let m=null;return new Promise(c=>{"complete"!==document.readyState?(m=()=>c(),window.addEventListener("load",m)):c()}).catch(c=>{throw m&&window.removeEventListener("load",m),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const u=yield function sr(m){return ei.apply(this,arguments)}(c.auth);pe(u,c.auth,"internal-error"),c.parameters.sitekey=u})()}getAssertedRecaptcha(){return pe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Iu{constructor(c,u){this.verificationId=c,this.onConfirmation=u}confirm(c){const u=os._fromVerification(this.verificationId,c);return this.onConfirmation(u)}}function Sc(){return(Sc=(0,A.A)(function*(m,c,u){if((0,Pe._isFirebaseServerApp)(m.app))return Promise.reject(Ke(m));const p=qt(m),v=yield Wt(p,c,(0,oe.Ku)(u));return new Iu(v,E=>fu(p,E))})).apply(this,arguments)}function Qr(){return(Qr=(0,A.A)(function*(m,c,u){const p=(0,oe.Ku)(m);yield hu(!1,p,"phone");const v=yield Wt(p.auth,c,(0,oe.Ku)(u));return new Iu(v,E=>Wn(p,E))})).apply(this,arguments)}function xu(){return(xu=(0,A.A)(function*(m,c,u){const p=(0,oe.Ku)(m);if((0,Pe._isFirebaseServerApp)(p.auth.app))return Promise.reject(Ke(p.auth));const v=yield Wt(p.auth,c,(0,oe.Ku)(u));return new Iu(v,E=>V_(p,E))})).apply(this,arguments)}function Wt(m,c,u){return kc.apply(this,arguments)}function kc(){return kc=(0,A.A)(function*(m,c,u){var p;const v=yield u.verify();try{let E;if(pe("string"==typeof v,m,"argument-error"),pe(u.type===pm,m,"argument-error"),E="string"==typeof c?{phoneNumber:c}:c,"session"in E){const R=E.session;if("phoneNumber"in E)return pe("enroll"===R.type,m,"internal-error"),(yield function Uk(m,c){return te(m,"POST","/v2/accounts/mfaEnrollment:start",q(m,c))}(m,{idToken:R.credential,phoneEnrollmentInfo:{phoneNumber:E.phoneNumber,recaptchaToken:v}})).phoneSessionInfo.sessionInfo;{pe("signin"===R.type,m,"internal-error");const $=(null===(p=E.multiFactorHint)||void 0===p?void 0:p.uid)||E.multiFactorUid;return pe($,m,"missing-multi-factor-info"),(yield function Gk(m,c){return te(m,"POST","/v2/accounts/mfaSignIn:start",q(m,c))}(m,{mfaPendingCredential:R.credential,mfaEnrollmentId:$,phoneSignInInfo:{recaptchaToken:v}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:R}=yield function sl(m,c){return Gf.apply(this,arguments)}(m,{phoneNumber:E.phoneNumber,recaptchaToken:v});return R}}finally{u._reset()}}),kc.apply(this,arguments)}function Vi(){return(Vi=(0,A.A)(function*(m,c){const u=(0,oe.Ku)(m);if((0,Pe._isFirebaseServerApp)(u.auth.app))return Promise.reject(Ke(u.auth));yield Yf(u,c)})).apply(this,arguments)}let Rc=(()=>{class m{constructor(u){this.providerId=m.PROVIDER_ID,this.auth=qt(u)}verifyPhoneNumber(u,p){return Wt(this.auth,u,(0,oe.Ku)(p))}static credential(u,p){return os._fromVerification(u,p)}static credentialFromResult(u){return m.credentialFromTaggedObject(u)}static credentialFromError(u){return m.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{phoneNumber:p,temporaryProof:v}=u;return p&&v?os._fromTokenResponse(p,v):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function Io(m,c){return c?Te(c):(pe(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class xo extends sa{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return Zs(c,this._buildIdpRequest())}_linkToIdToken(c,u){return Zs(c,this._buildIdpRequest(u))}_getReauthenticationResolver(c){return Zs(c,this._buildIdpRequest())}_buildIdpRequest(c){const u={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(u.idToken=c),u}}function Rr(m){return Jf(m.auth,new xo(m),m.bypassAuthState)}function fE(m){const{auth:c,user:u}=m;return pe(u,c,"internal-error"),L_(u,new xo(m),m.bypassAuthState)}function mE(m){return gm.apply(this,arguments)}function gm(){return(gm=(0,A.A)(function*(m){const{auth:c,user:u}=m;return pe(u,c,"internal-error"),Yf(u,new xo(m),m.bypassAuthState)})).apply(this,arguments)}class eo{constructor(c,u,p,v,E=!1){this.auth=c,this.resolver=p,this.user=v,this.bypassAuthState=E,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(u)?u:[u]}execute(){var c=this;return new Promise(function(){var u=(0,A.A)(function*(p,v){c.pendingPromise={resolve:p,reject:v};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(E){c.reject(E)}});return function(p,v){return u.apply(this,arguments)}}())}onAuthEvent(c){var u=this;return(0,A.A)(function*(){const{urlResponse:p,sessionId:v,postBody:E,tenantId:R,error:$,type:ce}=c;if($)return void u.reject($);const we={auth:u.auth,requestUri:p,sessionId:v,tenantId:R||void 0,postBody:E||void 0,user:u.user,bypassAuthState:u.bypassAuthState};try{u.resolve(yield u.getIdpTask(ce)(we))}catch(Oe){u.reject(Oe)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return Rr;case"linkViaPopup":case"linkViaRedirect":return mE;case"reauthViaPopup":case"reauthViaRedirect":return fE;default:zt(this.auth,"internal-error")}}resolve(c){cn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){cn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const oy=new Es(2e3,1e4);function Tu(){return(Tu=(0,A.A)(function*(m,c,u){if((0,Pe._isFirebaseServerApp)(m.app))return Promise.reject(en(m,"operation-not-supported-in-this-environment"));const p=qt(m);$n(m,c,ii);const v=Io(p,u);return new Du(p,"signInViaPopup",c,v).executeNotNull()})).apply(this,arguments)}function Au(){return(Au=(0,A.A)(function*(m,c,u){const p=(0,oe.Ku)(m);if((0,Pe._isFirebaseServerApp)(p.auth.app))return Promise.reject(en(p.auth,"operation-not-supported-in-this-environment"));$n(p.auth,c,ii);const v=Io(p.auth,u);return new Du(p.auth,"reauthViaPopup",c,v,p).executeNotNull()})).apply(this,arguments)}function Ze(){return(Ze=(0,A.A)(function*(m,c,u){const p=(0,oe.Ku)(m);$n(p.auth,c,ii);const v=Io(p.auth,u);return new Du(p.auth,"linkViaPopup",c,v,p).executeNotNull()})).apply(this,arguments)}let Du=(()=>{class m extends eo{constructor(u,p,v,E,R){super(u,p,E,R),this.provider=v,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var u=this;return(0,A.A)(function*(){const p=yield u.execute();return pe(p,u.auth,"internal-error"),p})()}onExecution(){var u=this;return(0,A.A)(function*(){cn(1===u.filter.length,"Popup operations only handle one event");const p=fl();u.authWindow=yield u.resolver._openPopup(u.auth,u.provider,u.filter[0],p),u.authWindow.associatedEvent=p,u.resolver._originValidation(u.auth).catch(v=>{u.reject(v)}),u.resolver._isIframeWebStorageSupported(u.auth,v=>{v||u.reject(en(u.auth,"web-storage-unsupported"))}),u.pollUserCancellation()})()}get eventId(){var u;return(null===(u=this.authWindow)||void 0===u?void 0:u.associatedEvent)||null}cancel(){this.reject(en(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const u=()=>{var p,v;this.pollId=null!==(v=null===(p=this.authWindow)||void 0===p?void 0:p.window)&&void 0!==v&&v.closed?window.setTimeout(()=>{this.pollId=null,this.reject(en(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(u,oy.get())};u()}}return m.currentPopupAction=null,m})();const Kk="pendingRedirect",Mc=new Map;class _E extends eo{constructor(c,u,p=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],u,void 0,p),this.eventId=null}execute(){var c=()=>super.execute,u=this;return(0,A.A)(function*(){let p=Mc.get(u.auth._key());if(!p){try{const E=(yield function yE(m,c){return Su.apply(this,arguments)}(u.resolver,u.auth))?yield c().call(u):null;p=()=>Promise.resolve(E)}catch(v){p=()=>Promise.reject(v)}Mc.set(u.auth._key(),p)}return u.bypassAuthState||Mc.set(u.auth._key(),()=>Promise.resolve(null)),p()})()}onAuthEvent(c){var u=()=>super.onAuthEvent,p=this;return(0,A.A)(function*(){if("signInViaRedirect"===c.type)return u().call(p,c);if("unknown"!==c.type){if(c.eventId){const v=yield p.auth._redirectUserForId(c.eventId);if(v)return p.user=v,u().call(p,c);p.resolve(null)}}else p.resolve(null)})()}onExecution(){return(0,A.A)(function*(){})()}cleanUp(){}}function Su(){return(Su=(0,A.A)(function*(m,c){const u=cy(c),p=ly(m);if(!(yield p._isAvailable()))return!1;const v="true"===(yield p._get(u));return yield p._remove(u),v})).apply(this,arguments)}function Co(m,c){return _m.apply(this,arguments)}function _m(){return(_m=(0,A.A)(function*(m,c){return ly(m)._set(cy(c),"true")})).apply(this,arguments)}function ym(m,c){Mc.set(m._key(),c)}function ly(m){return Te(m._redirectPersistence)}function cy(m){return qe(Kk,m.config.apiKey,m.name)}function fe(m,c,u){return function Rt(m,c,u){return ls.apply(this,arguments)}(m,c,u)}function ls(){return(ls=(0,A.A)(function*(m,c,u){if((0,Pe._isFirebaseServerApp)(m.app))return Promise.reject(Ke(m));const p=qt(m);$n(m,c,ii),yield p._initializationPromise;const v=Io(p,u);return yield Co(v,p),v._openRedirect(p,c,"signInViaRedirect")})).apply(this,arguments)}function to(m,c,u){return function Ri(m,c,u){return ku.apply(this,arguments)}(m,c,u)}function ku(){return(ku=(0,A.A)(function*(m,c,u){const p=(0,oe.Ku)(m);if($n(p.auth,c,ii),(0,Pe._isFirebaseServerApp)(p.auth.app))return Promise.reject(Ke(p.auth));yield p.auth._initializationPromise;const v=Io(p.auth,u);yield Co(v,p.auth);const E=yield Bi(p);return v._openRedirect(p.auth,c,"reauthViaRedirect",E)})).apply(this,arguments)}function Pc(m,c,u){return function Rs(m,c,u){return Oc.apply(this,arguments)}(m,c,u)}function Oc(){return(Oc=(0,A.A)(function*(m,c,u){const p=(0,oe.Ku)(m);$n(p.auth,c,ii),yield p.auth._initializationPromise;const v=Io(p.auth,u);yield hu(!1,p,c.providerId),yield Co(v,p.auth);const E=yield Bi(p);return v._openRedirect(p.auth,c,"linkViaRedirect",E)})).apply(this,arguments)}function bm(){return(bm=(0,A.A)(function*(m,c){return yield qt(m)._initializationPromise,wm(m,c,!1)})).apply(this,arguments)}function wm(m,c){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,A.A)(function*(m,c,u=!1){if((0,Pe._isFirebaseServerApp)(m.app))return Promise.reject(Ke(m));const p=qt(m),v=Io(p,c),R=yield new _E(p,v,u).execute();return R&&!u&&(delete R.user._redirectEventId,yield p._persistUserIfCurrent(R.user),yield p._setRedirectUser(null,c)),R})).apply(this,arguments)}function Bi(m){return cs.apply(this,arguments)}function cs(){return(cs=(0,A.A)(function*(m){const c=fl(`${m.uid}:::`);return m._redirectEventId=c,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),c})).apply(this,arguments)}class fa{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let u=!1;return this.consumers.forEach(p=>{this.isEventForConsumer(c,p)&&(u=!0,this.sendToConsumer(c,p),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function hy(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uy(m);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,u||(this.queuedRedirectEvent=c,u=!0)),u}sendToConsumer(c,u){var p;if(c.error&&!uy(c)){const v=(null===(p=c.error.code)||void 0===p?void 0:p.split("auth/")[1])||"internal-error";u.onError(en(this.auth,v))}else u.onAuthEvent(c)}isEventForConsumer(c,u){const p=null===u.eventId||!!c.eventId&&c.eventId===u.eventId;return u.filter.includes(c.type)&&p}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ms(c))}saveEventToCache(c){this.cachedEventUids.add(Ms(c)),this.lastProcessedEventTime=Date.now()}}function Ms(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(c=>c).join("-")}function uy({type:m,error:c}){return"unknown"===m&&"auth/no-auth-event"===c?.code}function fy(m){return Em.apply(this,arguments)}function Em(){return(Em=(0,A.A)(function*(m,c={}){return te(m,"GET","/v1/projects",c)})).apply(this,arguments)}const Im=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xm=/^https?/;function Nc(){return(Nc=(0,A.A)(function*(m){if(m.config.emulator)return;const{authorizedDomains:c}=yield fy(m);for(const u of c)try{if(bE(u))return}catch{}zt(m,"unauthorized-domain")})).apply(this,arguments)}function bE(m){const c=rr(),{protocol:u,hostname:p}=new URL(c);if(m.startsWith("chrome-extension://")){const R=new URL(m);return""===R.hostname&&""===p?"chrome-extension:"===u&&m.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===u&&R.hostname===p}if(!xm.test(u))return!1;if(Im.test(m))return p===m;const v=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+v+"|"+v+")$","i").test(p)}const py=new Es(3e4,6e4);function Mu(){const m=Yn().___jsl;if(m?.H)for(const c of Object.keys(m.H))if(m.H[c].r=m.H[c].r||[],m.H[c].L=m.H[c].L||[],m.H[c].r=[...m.H[c].L],m.CP)for(let u=0;u<m.CP.length;u++)m.CP[u]=null}let Fc=null;const yy=new Es(5e3,15e3),Cm="__/auth/iframe",wE="emulator/auth/iframe",EE={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ma(m){const c=m.config;pe(c.authDomain,m,"auth-domain-config-required");const u=c.emulator?mo(c,wE):`https://${m.config.authDomain}/${Cm}`,p={apiKey:c.apiKey,appName:m.name,v:Pe.SDK_VERSION},v=Xi.get(m.config.apiHost);v&&(p.eid=v);const E=m._getFrameworks();return E.length&&(p.fw=E.join(",")),`${u}?${(0,oe.Am)(p).slice(1)}`}function pl(){return pl=(0,A.A)(function*(m){const c=yield function _y(m){return Fc=Fc||function gy(m){return new Promise((c,u)=>{var p,v,E;function R(){Mu(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{Mu(),u(en(m,"network-request-failed"))},timeout:py.get()})}if(null!==(v=null===(p=Yn().gapi)||void 0===p?void 0:p.iframes)&&void 0!==v&&v.Iframe)c(gapi.iframes.getContext());else{if(null===(E=Yn().gapi)||void 0===E||!E.load){const $=T_("iframefcb");return Yn()[$]=()=>{gapi.load?R():u(en(m,"network-request-failed"))},C_(`${function Ak(){return Yd.gapiScript}()}?onload=${$}`).catch(ce=>u(ce))}R()}}).catch(c=>{throw Fc=null,c})}(m),Fc}(m),u=Yn().gapi;return pe(u,m,"internal-error"),c.open({where:document.body,url:ma(m),messageHandlersFilter:u.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EE,dontclear:!0},p=>new Promise(function(){var v=(0,A.A)(function*(E,R){yield p.restyle({setHideOnLeave:!1});const $=en(m,"network-request-failed"),ce=Yn().setTimeout(()=>{R($)},yy.get());function we(){Yn().clearTimeout(ce),E(p)}p.ping(we).then(we,()=>{R($)})});return function(E,R){return v.apply(this,arguments)}}()))}),pl.apply(this,arguments)}const IE={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Lc{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Pu="__/auth/handler",Ou="emulator/auth/handler",Nu=encodeURIComponent("fac");function Vc(m,c,u,p,v,E){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,A.A)(function*(m,c,u,p,v,E){pe(m.config.authDomain,m,"auth-domain-config-required"),pe(m.config.apiKey,m,"invalid-api-key");const R={apiKey:m.config.apiKey,appName:m.name,authType:u,redirectUrl:p,v:Pe.SDK_VERSION,eventId:v};if(c instanceof ii){c.setDefaultLanguage(m.languageCode),R.providerId=c.providerId||"",(0,oe.Im)(c.getCustomParameters())||(R.customParameters=JSON.stringify(c.getCustomParameters()));for(const[Oe,Me]of Object.entries(E||{}))R[Oe]=Me}if(c instanceof Wi){const Oe=c.getScopes().filter(Me=>""!==Me);Oe.length>0&&(R.scopes=Oe.join(","))}m.tenantId&&(R.tid=m.tenantId);const $=R;for(const Oe of Object.keys($))void 0===$[Oe]&&delete $[Oe];const ce=yield m._getAppCheckToken(),we=ce?`#${Nu}=${encodeURIComponent(ce)}`:"";return`${function wy({config:m}){return m.emulator?mo(m,Ou):`https://${m.authDomain}/${Pu}`}(m)}?${(0,oe.Am)($).slice(1)}${we}`})).apply(this,arguments)}const Am="webStorageSupport",_l=class gl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_n,this._completeRedirectFn=wm,this._overrideRedirectResult=ym}_openPopup(c,u,p,v){var E=this;return(0,A.A)(function*(){var R;cn(null===(R=E.eventManagers[c._key()])||void 0===R?void 0:R.manager,"_initialize() not called before _openPopup()");const $=yield Vc(c,u,p,rr(),v);return function To(m,c,u,p=500,v=600){const E=Math.max((window.screen.availHeight-v)/2,0).toString(),R=Math.max((window.screen.availWidth-p)/2,0).toString();let $="";const ce=Object.assign(Object.assign({},IE),{width:p.toString(),height:v.toString(),top:E,left:R}),we=(0,oe.ZQ)().toLowerCase();u&&($=Ut(we)?"_blank":u),Si(we)&&(c=c||"http://localhost",ce.scrollbars="yes");const Oe=Object.entries(ce).reduce((Dn,[ds,Ea])=>`${Dn}${ds}=${Ea},`,"");if(function ee(m=(0,oe.ZQ)()){var c;return Xs(m)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(we)&&"_self"!==$)return function CE(m,c){const u=document.createElement("a");u.href=m,u.target=c;const p=document.createEvent("MouseEvent");p.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),u.dispatchEvent(p)}(c||"",$),new Lc(null);const Me=window.open(c||"",$,Oe);pe(Me,m,"popup-blocked");try{Me.focus()}catch{}return new Lc(Me)}(c,$,fl())})()}_openRedirect(c,u,p,v){var E=this;return(0,A.A)(function*(){return yield E._originValidation(c),function K_(m){Yn().location.href=m}(yield Vc(c,u,p,rr(),v)),new Promise(()=>{})})()}_initialize(c){const u=c._key();if(this.eventManagers[u]){const{manager:v,promise:E}=this.eventManagers[u];return v?Promise.resolve(v):(cn(E,"If manager is not set, promise should be"),E)}const p=this.initAndGetManager(c);return this.eventManagers[u]={promise:p},p.catch(()=>{delete this.eventManagers[u]}),p}initAndGetManager(c){var u=this;return(0,A.A)(function*(){const p=yield function An(m){return pl.apply(this,arguments)}(c),v=new fa(c);return p.register("authEvent",E=>(pe(E?.authEvent,c,"invalid-auth-event"),{status:v.onEvent(E.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),u.eventManagers[c._key()]={manager:v},u.iframes[c._key()]=p,v})()}_isIframeWebStorageSupported(c,u){this.iframes[c._key()].send(Am,{type:Am},v=>{var E;const R=null===(E=v?.[0])||void 0===E?void 0:E[Am];void 0!==R&&u(!!R),zt(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const u=c._key();return this.originValidationPromises[u]||(this.originValidationPromises[u]=function my(m){return Nc.apply(this,arguments)}(c)),this.originValidationPromises[u]}get _shouldInitProactively(){return Z()||Ys()||Xs()}};class Ey{constructor(c){this.factorId=c}_process(c,u,p){switch(u.type){case"enroll":return this._finalizeEnroll(c,u.credential,p);case"signin":return this._finalizeSignIn(c,u.credential);default:return mn("unexpected MultiFactorSessionType")}}}class Iy extends Ey{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new Iy(c)}_finalizeEnroll(c,u,p){return function jk(m,c){return te(m,"POST","/v2/accounts/mfaEnrollment:finalize",q(m,c))}(c,{idToken:u,displayName:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,u){return function iE(m,c){return te(m,"POST","/v2/accounts/mfaSignIn:finalize",q(m,c))}(c,{mfaPendingCredential:u,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Dm=(()=>{class m{constructor(){}static assertion(u){return Iy._fromCredential(u)}}return m.FACTOR_ID="phone",m})();var TE="@firebase/auth";class Bc{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var u=this;return(0,A.A)(function*(){return u.assertAuthConfigured(),yield u.auth._initializationPromise,u.auth.currentUser?{accessToken:yield u.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const u=this.auth.onIdTokenChanged(p=>{c(p?.stsTokenManager.accessToken||null)});this.internalListeners.set(c,u),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const u=this.internalListeners.get(c);u&&(this.internalListeners.delete(c),u(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ui(){return window}(0,oe.XA)("authIdTokenMaxAge"),function Ck(m){Yd=m}({loadJS:m=>new Promise((c,u)=>{const p=document.createElement("script");p.setAttribute("src",m),p.onload=c,p.onerror=v=>{const E=en("internal-error");E.customData=v,u(E)},p.type="text/javascript",p.charset="UTF-8",function kE(){var m,c;return null!==(c=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==c?c:document}().appendChild(p)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Uc(m){(0,Pe._registerComponent)(new Cn.uA("auth",(c,{options:u})=>{const p=c.getProvider("app").getImmediate(),v=c.getProvider("heartbeat"),E=c.getProvider("app-check-internal"),{apiKey:R,authDomain:$}=p.options;pe(R&&!R.includes(":"),"invalid-api-key",{appName:p.name});const ce={apiKey:R,authDomain:$,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ae(m)},we=new Tr(p,v,E,ce);return function G0(m,c){const u=c?.persistence||[],p=(Array.isArray(u)?u:[u]).map(Te);c?.errorMap&&m._updateErrorMap(c.errorMap),m._initializeWithPersistence(p,c?.popupRedirectResolver)}(we,u),we},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,u,p)=>{c.getProvider("auth-internal").initialize()})),(0,Pe._registerComponent)(new Cn.uA("auth-internal",c=>{const u=qt(c.getProvider("auth").getImmediate());return new Bc(u)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Pe.registerVersion)(TE,"1.7.9",function AE(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(m)),(0,Pe.registerVersion)(TE,"1.7.9","esm2017")}("Browser");function jc(){return jc=(0,A.A)(function*(m,c,u){var p;const{BuildInfo:v}=Ui();cn(c.sessionId,"AuthEvent did not contain a session ID");const E=yield function Dy(m){return ju.apply(this,arguments)}(c.sessionId),R={};return Xs()?R.ibi=v.packageName:Ts()?R.apn=v.packageName:zt(m,"operation-not-supported-in-this-environment"),v.displayName&&(R.appDisplayName=v.displayName),R.sessionId=E,Vc(m,u,c.type,void 0,null!==(p=c.eventId)&&void 0!==p?p:void 0,R)}),jc.apply(this,arguments)}function yl(){return(yl=(0,A.A)(function*(m){const{BuildInfo:c}=Ui(),u={};Xs()?u.iosBundleId=c.packageName:Ts()?u.androidPackageName=c.packageName:zt(m,"operation-not-supported-in-this-environment"),yield fy(m,u)})).apply(this,arguments)}function Uu(){return(Uu=(0,A.A)(function*(m,c,u){const{cordova:p}=Ui();let v=()=>{};try{yield new Promise((E,R)=>{let $=null;function ce(){var Me;E();const Dn=null===(Me=p.plugins.browsertab)||void 0===Me?void 0:Me.close;"function"==typeof Dn&&Dn(),"function"==typeof u?.close&&u.close()}function we(){$||($=window.setTimeout(()=>{R(en(m,"redirect-cancelled-by-user"))},2e3))}function Oe(){"visible"===document?.visibilityState&&we()}c.addPassiveListener(ce),document.addEventListener("resume",we,!1),Ts()&&document.addEventListener("visibilitychange",Oe,!1),v=()=>{c.removePassiveListener(ce),document.removeEventListener("resume",we,!1),document.removeEventListener("visibilitychange",Oe,!1),$&&window.clearTimeout($)}})}finally{v()}})).apply(this,arguments)}function ju(){return(ju=(0,A.A)(function*(m){const c=function PE(m){if(cn(/[0-9a-zA-Z]+/.test(m),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(m);const c=new ArrayBuffer(m.length),u=new Uint8Array(c);for(let p=0;p<m.length;p++)u[p]=m.charCodeAt(p);return u}(m),u=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(u)).map(v=>v.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class pa extends fa{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(c=>{this.resolveInitialized=c})}addPassiveListener(c){this.passiveListeners.add(c)}removePassiveListener(c){this.passiveListeners.delete(c)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(c){return this.resolveInitialized(),this.passiveListeners.forEach(u=>u(c)),super.onEvent(c)}initialized(){var c=this;return(0,A.A)(function*(){yield c.initPromise})()}}function Pm(m){return ga.apply(this,arguments)}function ga(){return(ga=(0,A.A)(function*(m){const c=yield Om()._get(Ln(m));return c&&(yield Om()._remove(Ln(m))),c})).apply(this,arguments)}function Zi(){const m=[];for(let u=0;u<20;u++){const p=Math.floor(62*Math.random());m.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(p))}return m.join("")}function Om(){return Te(cm)}function Ln(m){return qe("authEvent",m.config.apiKey,m.name)}function zc(m){if(!m?.includes("?"))return{};const[c,...u]=m.split("?");return(0,oe.I9)(u.join("?"))}const wl=class bl{constructor(){this._redirectPersistence=_n,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=wm,this._overrideRedirectResult=ym}_initialize(c){var u=this;return(0,A.A)(function*(){const p=c._key();let v=u.eventManagers.get(p);return v||(v=new pa(c),u.eventManagers.set(p,v),u.attachCallbackListeners(c,v)),v})()}_openPopup(c){zt(c,"operation-not-supported-in-this-environment")}_openRedirect(c,u,p,v){var E=this;return(0,A.A)(function*(){!function Ay(m){var c,u,p,v,E,R,$,ce,we,Oe;const Me=Ui();pe("function"==typeof(null===(c=Me?.universalLinks)||void 0===c?void 0:c.subscribe),m,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),pe(typeof(null===(u=Me?.BuildInfo)||void 0===u?void 0:u.packageName)<"u",m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),pe("function"==typeof(null===(E=null===(v=null===(p=Me?.cordova)||void 0===p?void 0:p.plugins)||void 0===v?void 0:v.browsertab)||void 0===E?void 0:E.openUrl),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pe("function"==typeof(null===(ce=null===($=null===(R=Me?.cordova)||void 0===R?void 0:R.plugins)||void 0===$?void 0:$.browsertab)||void 0===ce?void 0:ce.isAvailable),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pe("function"==typeof(null===(Oe=null===(we=Me?.cordova)||void 0===we?void 0:we.InAppBrowser)||void 0===Oe?void 0:Oe.open),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(c);const R=yield E._initialize(c);yield R.initialized(),R.resetRedirect(),function vE(){Mc.clear()}(),yield E._originValidation(c);const $=function OE(m,c,u=null){return{type:c,eventId:u,urlResponse:null,sessionId:Zi(),postBody:null,tenantId:m.tenantId,error:en(m,"no-auth-event")}}(c,p,v);yield function Sy(m,c){return Om()._set(Ln(m),c)}(c,$);const ce=yield function Bu(m,c,u){return jc.apply(this,arguments)}(c,$,u),we=yield function Mm(m){const{cordova:c}=Ui();return new Promise(u=>{c.plugins.browsertab.isAvailable(p=>{let v=null;p?c.plugins.browsertab.openUrl(m):v=c.InAppBrowser.open(m,function re(m=(0,oe.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}()?"_blank":"_system","location=yes"),u(v)})})}(ce);return function ME(m,c,u){return Uu.apply(this,arguments)}(c,R,we)})()}_isIframeWebStorageSupported(c,u){throw new Error("Method not implemented.")}_originValidation(c){const u=c._key();return this.originValidationPromises[u]||(this.originValidationPromises[u]=function Ty(m){return yl.apply(this,arguments)}(c)),this.originValidationPromises[u]}attachCallbackListeners(c,u){const{universalLinks:p,handleOpenURL:v,BuildInfo:E}=Ui(),R=setTimeout((0,A.A)(function*(){yield Pm(c),u.onEvent(_a())}),500),$=function(){var Oe=(0,A.A)(function*(Me){clearTimeout(R);const Dn=yield Pm(c);let ds=null;Dn&&Me?.url&&(ds=function NE(m,c){var u,p;const v=function FE(m){const c=zc(m),u=c.link?decodeURIComponent(c.link):void 0,p=zc(u).link,v=c.deep_link_id?decodeURIComponent(c.deep_link_id):void 0;return zc(v).link||v||p||u||m}(c);if(v.includes("/__/auth/callback")){const E=zc(v),R=E.firebaseError?function Nm(m){try{return JSON.parse(m)}catch{return null}}(decodeURIComponent(E.firebaseError)):null,$=null===(p=null===(u=R?.code)||void 0===u?void 0:u.split("auth/"))||void 0===p?void 0:p[1],ce=$?en($):null;return ce?{type:m.type,eventId:m.eventId,tenantId:m.tenantId,error:ce,urlResponse:null,sessionId:null,postBody:null}:{type:m.type,eventId:m.eventId,tenantId:m.tenantId,sessionId:m.sessionId,urlResponse:v,postBody:null}}return null}(Dn,Me.url)),u.onEvent(ds||_a())});return function(Dn){return Oe.apply(this,arguments)}}();typeof p<"u"&&"function"==typeof p.subscribe&&p.subscribe(null,$);const ce=v,we=`${E.packageName.toLowerCase()}://`;Ui().handleOpenURL=function(){var Oe=(0,A.A)(function*(Me){if(Me.toLowerCase().startsWith(we)&&$({url:Me}),"function"==typeof ce)try{ce(Me)}catch(Dn){console.error(Dn)}});return function(Me){return Oe.apply(this,arguments)}}()}};function _a(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:en("no-auth-event")}}function Hc(){var m;return(null===(m=self?.location)||void 0===m?void 0:m.protocol)||null}function LE(m=(0,oe.ZQ)()){return!("file:"!==Hc()&&"ionic:"!==Hc()&&"capacitor:"!==Hc()||!m.toLowerCase().match(/iphone|ipad|ipod|android/))}function ya(){try{const m=self.localStorage,c=fl();if(m)return m.setItem(c,"1"),m.removeItem(c),!function eR(m=(0,oe.ZQ)()){return function Zk(){return(0,oe.lT)()&&11===document?.documentMode}()||function Jk(m=(0,oe.ZQ)()){return/Edge\/\d+/.test(m)}(m)}()||(0,oe.zW)()}catch{return Lm()&&(0,oe.zW)()}return!1}function Lm(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Vm(){return(function Yk(){return"http:"===Hc()||"https:"===Hc()}()||(0,oe.sr)()||LE())&&!function Xk(){return(0,oe.lV)()||(0,oe.Ll)()}()&&ya()&&!Lm()}function ri(){return LE()&&typeof document<"u"}function va(){return(va=(0,A.A)(function*(){return!!ri()&&new Promise(m=>{const c=setTimeout(()=>{m(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(c),m(!0)})})})).apply(this,arguments)}const yn={LOCAL:"local",NONE:"none",SESSION:"session"},Ps=pe,Bm="persistence";function ba(m){return Um.apply(this,arguments)}function Um(){return(Um=(0,A.A)(function*(m){yield m._initializationPromise;const c=Ry(),u=qe(Bm,m.config.apiKey,m.name);c&&c.setItem(u,m._getPersistence())})).apply(this,arguments)}function Ry(){var m;try{return(null===(m=function BE(){return typeof window<"u"?window:null}())||void 0===m?void 0:m.sessionStorage)||null}catch{return null}}const nR=pe;class si{constructor(){this.browserResolver=Te(_l),this.cordovaResolver=Te(wl),this.underlyingResolver=null,this._redirectPersistence=_n,this._completeRedirectFn=wm,this._overrideRedirectResult=ym}_initialize(c){var u=this;return(0,A.A)(function*(){return yield u.selectUnderlyingResolver(),u.assertedUnderlyingResolver._initialize(c)})()}_openPopup(c,u,p,v){var E=this;return(0,A.A)(function*(){return yield E.selectUnderlyingResolver(),E.assertedUnderlyingResolver._openPopup(c,u,p,v)})()}_openRedirect(c,u,p,v){var E=this;return(0,A.A)(function*(){return yield E.selectUnderlyingResolver(),E.assertedUnderlyingResolver._openRedirect(c,u,p,v)})()}_isIframeWebStorageSupported(c,u){this.assertedUnderlyingResolver._isIframeWebStorageSupported(c,u)}_originValidation(c){return this.assertedUnderlyingResolver._originValidation(c)}get _shouldInitProactively(){return ri()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return nR(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var c=this;return(0,A.A)(function*(){if(c.underlyingResolver)return;const u=yield function VE(){return va.apply(this,arguments)}();c.underlyingResolver=u?c.cordovaResolver:c.browserResolver})()}}function $u(m){return m.unwrap()}function iR(m){return Py(m)}function Py(m){const{_tokenResponse:c}=m instanceof oe.g?m.customData:m;if(!c)return null;if(!(m instanceof oe.g)&&"temporaryProof"in c&&"phoneNumber"in c)return Rc.credentialFromResult(m);const u=c.providerId;if(!u||u===vt.PASSWORD)return null;let p;switch(u){case vt.GOOGLE:p=su;break;case vt.FACEBOOK:p=yc;break;case vt.GITHUB:p=ou;break;case vt.TWITTER:p=Kf;break;default:const{oauthIdToken:v,oauthAccessToken:E,oauthTokenSecret:R,pendingToken:$,nonce:ce}=c;return E||R||v||$?$?u.startsWith("saml.")?ur._create(u,$):ss._fromParams({providerId:u,signInMethod:u,pendingToken:$,idToken:v,accessToken:E}):new Et(u).credential({idToken:v,accessToken:E,rawNonce:ce}):null}return m instanceof oe.g?p.credentialFromError(m):p.credentialFromResult(m)}function fr(m,c){return c.catch(u=>{throw u instanceof oe.g&&function My(m,c){var u;const p=null===(u=c.customData)||void 0===u?void 0:u._tokenResponse;if("auth/multi-factor-auth-required"===c?.code)c.resolver=new UE(m,function Bk(m,c){var u;const p=(0,oe.Ku)(m),v=c;return pe(c.customData.operationType,p,"argument-error"),pe(null===(u=v.customData._serverResponse)||void 0===u?void 0:u.mfaPendingCredential,p,"argument-error"),$_._fromError(p,v)}(m,c));else if(p){const v=Py(c),E=c;v&&(E.credential=v,E.tenantId=p.tenantId||void 0,E.email=p.email||void 0,E.phoneNumber=p.phoneNumber||void 0)}}(m,u),u}).then(u=>{const v=u.user;return{operationType:u.operationType,credential:iR(u),additionalUserInfo:Qi(u),user:no.getOrCreate(v)}})}function jm(m,c){return zm.apply(this,arguments)}function zm(){return(zm=(0,A.A)(function*(m,c){const u=yield c;return{verificationId:u.verificationId,confirm:p=>fr(m,u.confirm(p))}})).apply(this,arguments)}class UE{constructor(c,u){this.resolver=u,this.auth=function Il(m){return m.wrapped()}(c)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(c){return fr($u(this.auth),this.resolver.resolveSignIn(c))}}class no{constructor(c){this._delegate=c,this.multiFactor=function G_(m){const c=(0,oe.Ku)(m);return vu.has(c)||vu.set(c,q_._fromUser(c)),vu.get(c)}(c)}static getOrCreate(c){return no.USER_MAP.has(c)||no.USER_MAP.set(c,new no(c)),no.USER_MAP.get(c)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(c){return this._delegate.getIdTokenResult(c)}getIdToken(c){return this._delegate.getIdToken(c)}linkAndRetrieveDataWithCredential(c){return this.linkWithCredential(c)}linkWithCredential(c){var u=this;return(0,A.A)(function*(){return fr(u.auth,Wn(u._delegate,c))})()}linkWithPhoneNumber(c,u){var p=this;return(0,A.A)(function*(){return jm(p.auth,function hE(m,c,u){return Qr.apply(this,arguments)}(p._delegate,c,u))})()}linkWithPopup(c){var u=this;return(0,A.A)(function*(){return fr(u.auth,function gE(m,c,u){return Ze.apply(this,arguments)}(u._delegate,c,si))})()}linkWithRedirect(c){var u=this;return(0,A.A)(function*(){return yield ba(qt(u.auth)),Pc(u._delegate,c,si)})()}reauthenticateAndRetrieveDataWithCredential(c){return this.reauthenticateWithCredential(c)}reauthenticateWithCredential(c){var u=this;return(0,A.A)(function*(){return fr(u.auth,V_(u._delegate,c))})()}reauthenticateWithPhoneNumber(c,u){return jm(this.auth,function sy(m,c,u){return xu.apply(this,arguments)}(this._delegate,c,u))}reauthenticateWithPopup(c){return fr(this.auth,function ay(m,c,u){return Au.apply(this,arguments)}(this._delegate,c,si))}reauthenticateWithRedirect(c){var u=this;return(0,A.A)(function*(){return yield ba(qt(u.auth)),to(u._delegate,c,si)})()}sendEmailVerification(c){return function dl(m,c){return Wr.apply(this,arguments)}(this._delegate,c)}unlink(c){var u=this;return(0,A.A)(function*(){return yield function Y0(m,c){return Dr.apply(this,arguments)}(u._delegate,c),u})()}updateEmail(c){return function It(m,c){const u=(0,oe.Ku)(m);return(0,Pe._isFirebaseServerApp)(u.auth.app)?Promise.reject(Ke(u.auth)):_u(u,c,null)}(this._delegate,c)}updatePassword(c){return function Ok(m,c){return _u((0,oe.Ku)(m),null,c)}(this._delegate,c)}updatePhoneNumber(c){return function Cu(m,c){return Vi.apply(this,arguments)}(this._delegate,c)}updateProfile(c){return function Ic(m,c){return la.apply(this,arguments)}(this._delegate,c)}verifyBeforeUpdateEmail(c,u){return function Ec(m,c,u){return gu.apply(this,arguments)}(this._delegate,c,u)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}no.USER_MAP=new WeakMap;const wa=pe;let $c=(()=>{class m{constructor(u,p){if(this.app=u,p.isInitialized())return this._delegate=p.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:v}=u.options;wa(v,"invalid-api-key",{appName:u.name}),wa(v,"invalid-api-key",{appName:u.name});const E=typeof window<"u"?si:void 0;this._delegate=p.initialize({options:{persistence:Ao(v,u.name),popupRedirectResolver:E}}),this._delegate._updateErrorMap(Ti),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?no.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(u){this._delegate.languageCode=u}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(u){this._delegate.tenantId=u}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(u,p){!function Vf(m,c,u){const p=qt(m);pe(p._canInitEmulator,p,"emulator-config-failed"),pe(/^https?:\/\//.test(c),p,"invalid-emulator-scheme");const v=!!u?.disableWarnings,E=D_(c),{host:R,port:$}=function Jd(m){const c=D_(m),u=/(\/\/)?([^?#/]+)/.exec(m.substr(c.length));if(!u)return{host:"",port:null};const p=u[2].split("@").pop()||"",v=/^(\[[^\]]+\])(:|$)/.exec(p);if(v){const E=v[1];return{host:E,port:hc(p.substr(E.length+1))}}{const[E,R]=p.split(":");return{host:E,port:hc(R)}}}(c);p.config.emulator={url:`${E}//${R}${null===$?"":`:${$}`}/`},p.settings.appVerificationDisabledForTesting=!0,p.emulatorConfig=Object.freeze({host:R,port:$,protocol:E.replace(":",""),options:Object.freeze({disableWarnings:v})}),v||function Bf(){function m(){const c=document.createElement("p"),u=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",u.position="fixed",u.width="100%",u.backgroundColor="#ffffff",u.border=".1em solid #000000",u.color="#b50000",u.bottom="0px",u.left="0px",u.margin="0px",u.zIndex="10000",u.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}(this._delegate,u,p)}applyActionCode(u){return function X0(m,c){return pn.apply(this,arguments)}(this._delegate,u)}checkActionCode(u){return ke(this._delegate,u)}confirmPasswordReset(u,p){return function pu(m,c,u){return sm.apply(this,arguments)}(this._delegate,u,p)}createUserWithEmailAndPassword(u,p){var v=this;return(0,A.A)(function*(){return fr(v._delegate,function wc(m,c,u){return Ei.apply(this,arguments)}(v._delegate,u,p))})()}fetchProvidersForEmail(u){return this.fetchSignInMethodsForEmail(u)}fetchSignInMethodsForEmail(u){return function Qn(m,c){return aa.apply(this,arguments)}(this._delegate,u)}isSignInWithEmailLink(u){return function cl(m,c){const u=_c.parseLink(c);return"EMAIL_SIGNIN"===u?.operation}(0,u)}getRedirectResult(){var u=this;return(0,A.A)(function*(){wa(Vm(),u._delegate,"operation-not-supported-in-this-environment");const p=yield function vm(m,c){return bm.apply(this,arguments)}(u._delegate,si);return p?fr(u._delegate,Promise.resolve(p)):{credential:null,user:null}})()}addFrameworkForLogging(u){!function ky(m,c){qt(m)._logFramework(c)}(this._delegate,u)}onAuthStateChanged(u,p,v){const{next:E,error:R,complete:$}=Oy(u,p,v);return this._delegate.onAuthStateChanged(E,R,$)}onIdTokenChanged(u,p,v){const{next:E,error:R,complete:$}=Oy(u,p,v);return this._delegate.onIdTokenChanged(E,R,$)}sendSignInLinkToEmail(u,p){return function Kn(m,c,u){return Ds.apply(this,arguments)}(this._delegate,u,p)}sendPasswordResetEmail(u,p){return function U_(m,c,u){return mu.apply(this,arguments)}(this._delegate,u,p||void 0)}setPersistence(u){var p=this;return(0,A.A)(function*(){let v;switch(function Hu(m,c){Ps(Object.values(yn).includes(c),m,"invalid-persistence-type"),(0,oe.lV)()?Ps(c!==yn.SESSION,m,"unsupported-persistence-type"):(0,oe.Ll)()?Ps(c===yn.NONE,m,"unsupported-persistence-type"):Lm()?Ps(c===yn.NONE||c===yn.LOCAL&&(0,oe.zW)(),m,"unsupported-persistence-type"):Ps(c===yn.NONE||ya(),m,"unsupported-persistence-type")}(p._delegate,u),u){case yn.SESSION:v=_n;break;case yn.LOCAL:v=(yield Te(Dc)._isAvailable())?Dc:cm;break;case yn.NONE:v=ni;break;default:return zt("argument-error",{appName:p._delegate.name})}return p._delegate.setPersistence(v)})()}signInAndRetrieveDataWithCredential(u){return this.signInWithCredential(u)}signInAnonymously(){return fr(this._delegate,function N_(m){return cu.apply(this,arguments)}(this._delegate))}signInWithCredential(u){return fr(this._delegate,fu(this._delegate,u))}signInWithCustomToken(u){return fr(this._delegate,function B_(m,c){return xe.apply(this,arguments)}(this._delegate,u))}signInWithEmailAndPassword(u,p){return fr(this._delegate,function ll(m,c,u){return(0,Pe._isFirebaseServerApp)(m.app)?Promise.reject(Ke(m)):fu((0,oe.Ku)(m),ol.credential(c,u)).catch(function(){var p=(0,A.A)(function*(v){throw"auth/password-does-not-meet-requirements"===v.code&&bo(m),v});return function(v){return p.apply(this,arguments)}}())}(this._delegate,u,p))}signInWithEmailLink(u,p){return fr(this._delegate,function ot(m,c,u){return oa.apply(this,arguments)}(this._delegate,u,p))}signInWithPhoneNumber(u,p){return jm(this._delegate,function uE(m,c,u){return Sc.apply(this,arguments)}(this._delegate,u,p))}signInWithPopup(u){var p=this;return(0,A.A)(function*(){return wa(Vm(),p._delegate,"operation-not-supported-in-this-environment"),fr(p._delegate,function pE(m,c,u){return Tu.apply(this,arguments)}(p._delegate,u,si))})()}signInWithRedirect(u){var p=this;return(0,A.A)(function*(){return wa(Vm(),p._delegate,"operation-not-supported-in-this-environment"),yield ba(p._delegate),fe(p._delegate,u,si)})()}updateCurrentUser(u){return this._delegate.updateCurrentUser(u)}verifyPasswordResetCode(u){return function gn(m,c){return Sr.apply(this,arguments)}(this._delegate,u)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return m.Persistence=yn,m})();function Oy(m,c,u){let p=m;"function"!=typeof m&&({next:p,error:c,complete:u}=m);const v=p;return{next:R=>v(R&&no.getOrCreate(R)),error:c,complete:u}}function Ao(m,c){const u=function tR(m,c){const u=Ry();if(!u)return[];const p=qe(Bm,m,c);switch(u.getItem(p)){case yn.NONE:return[ni];case yn.LOCAL:return[Dc,_n];case yn.SESSION:return[_n];default:return[]}}(m,c);if(typeof self<"u"&&!u.includes(Dc)&&u.push(Dc),typeof window<"u")for(const p of[cm,_n])u.includes(p)||u.push(p);return u.includes(ni)||u.push(ni),u}class Hm{constructor(){this.providerId="phone",this._delegate=new Rc($u(Je.A.auth()))}static credential(c,u){return Rc.credential(c,u)}verifyPhoneNumber(c,u){return this._delegate.verifyPhoneNumber(c,u)}unwrap(){return this._delegate}}Hm.PHONE_SIGN_IN_METHOD=Rc.PHONE_SIGN_IN_METHOD,Hm.PROVIDER_ID=Rc.PROVIDER_ID;const qc=pe;class jE{constructor(c,u,p=Je.A.app()){var v;qc(null===(v=p.options)||void 0===v?void 0:v.apiKey,"invalid-api-key",{appName:p.name}),this._delegate=new dE(p.auth(),c,u),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function $m(m){m.INTERNAL.registerComponent(new Cn.uA("auth-compat",c=>{const u=c.getProvider("app-compat").getImmediate(),p=c.getProvider("auth");return new $c(u,p)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ol,FacebookAuthProvider:yc,GithubAuthProvider:ou,GoogleAuthProvider:su,OAuthProvider:Et,SAMLAuthProvider:bc,PhoneAuthProvider:Hm,PhoneMultiFactorGenerator:Dm,RecaptchaVerifier:jE,TwitterAuthProvider:Kf,Auth:$c,AuthCredential:sa,Error:oe.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),m.registerVersion("@firebase/auth-compat","0.5.14")}(Je.A)},467:(Ks,Fi,ut)=>{function A(Pe,oe,ct,xn,Cn,vi,vt){try{var ue=Pe[vi](vt),ve=ue.value}catch(Ve){return void ct(Ve)}ue.done?oe(ve):Promise.resolve(ve).then(xn,Cn)}function Je(Pe){return function(){var oe=this,ct=arguments;return new Promise(function(xn,Cn){var vi=Pe.apply(oe,ct);function vt(ve){A(vi,xn,Cn,vt,ue,"next",ve)}function ue(ve){A(vi,xn,Cn,vt,ue,"throw",ve)}vt(void 0)})}}ut.d(Fi,{A:()=>Je})},635:(Ks,Fi,ut)=>{function oe(j,ie){var le={};for(var q in j)Object.prototype.hasOwnProperty.call(j,q)&&ie.indexOf(q)<0&&(le[q]=j[q]);if(null!=j&&"function"==typeof Object.getOwnPropertySymbols){var te=0;for(q=Object.getOwnPropertySymbols(j);te<q.length;te++)ie.indexOf(q[te])<0&&Object.prototype.propertyIsEnumerable.call(j,q[te])&&(le[q[te]]=j[q[te]])}return le}function Ve(j,ie,le,q){return new(le||(le=Promise))(function(_e,he){function mt(Bt){try{Ye(q.next(Bt))}catch(Nn){he(Nn)}}function Vt(Bt){try{Ye(q.throw(Bt))}catch(Nn){he(Nn)}}function Ye(Bt){Bt.done?_e(Bt.value):function te(_e){return _e instanceof le?_e:new le(function(he){he(_e)})}(Bt.value).then(mt,Vt)}Ye((q=q.apply(j,ie||[])).next())})}function fn(j){return this instanceof fn?(this.v=j,this):new fn(j)}function zt(j,ie,le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,q=le.apply(j,ie||[]),_e=[];return te=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),mt("next"),mt("throw"),mt("return",function he(Ft){return function(Jn){return Promise.resolve(Jn).then(Ft,Nn)}}),te[Symbol.asyncIterator]=function(){return this},te;function mt(Ft,Jn){q[Ft]&&(te[Ft]=function(hi){return new Promise(function(Li,sr){_e.push([Ft,hi,Li,sr])>1||Vt(Ft,hi)})},Jn&&(te[Ft]=Jn(te[Ft])))}function Vt(Ft,Jn){try{!function Ye(Ft){Ft.value instanceof fn?Promise.resolve(Ft.value.v).then(Bt,Nn):rs(_e[0][2],Ft)}(q[Ft](Jn))}catch(hi){rs(_e[0][3],hi)}}function Bt(Ft){Vt("next",Ft)}function Nn(Ft){Vt("throw",Ft)}function rs(Ft,Jn){Ft(Jn),_e.shift(),_e.length&&Vt(_e[0][0],_e[0][1])}}function qi(j){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,ie=j[Symbol.asyncIterator];return ie?ie.call(j):(j=function Lt(j){var ie="function"==typeof Symbol&&Symbol.iterator,le=ie&&j[ie],q=0;if(le)return le.call(j);if(j&&"number"==typeof j.length)return{next:function(){return j&&q>=j.length&&(j=void 0),{value:j&&j[q++],done:!j}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(j),le={},q("next"),q("throw"),q("return"),le[Symbol.asyncIterator]=function(){return this},le);function q(_e){le[_e]=j[_e]&&function(he){return new Promise(function(mt,Vt){!function te(_e,he,mt,Vt){Promise.resolve(Vt).then(function(Ye){_e({value:Ye,done:mt})},he)}(mt,Vt,(he=j[_e](he)).done,he.value)})}}}ut.d(Fi,{AQ:()=>zt,N3:()=>fn,Tt:()=>oe,sH:()=>Ve,xN:()=>qi}),"function"==typeof SuppressedError&&SuppressedError}},Ks=>{Ks(Ks.s=984)}]);